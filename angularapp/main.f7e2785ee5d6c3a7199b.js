(self.webpackChunksaladejuegos=self.webpackChunksaladejuegos||[]).push([[179],{8255:Nt=>{function We($){return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+$+"'");throw E.code="MODULE_NOT_FOUND",E})}We.keys=()=>[],We.resolve=We,We.id=8255,Nt.exports=We},8583:(Nt,We,$)=>{"use strict";$.d(We,{mr:()=>Ye,ez:()=>ts,K0:()=>$e,uU:()=>ms,Do:()=>ot,V_:()=>ee,Ye:()=>oe,S$:()=>Ue,mk:()=>Hi,sg:()=>Hr,O5:()=>dn,PC:()=>ur,b0:()=>Ke,lw:()=>Ce,EM:()=>qr,JF:()=>zi,PM:()=>ei,w_:()=>ve,bD:()=>ns,q:()=>Y,Mx:()=>fn,HT:()=>Ne});var E=$(3018);let w=null;function Y(){return w}function Ne(F){w||(w=F)}class ve{}const $e=new E.OlP("DocumentToken");let Ce=(()=>{class F{historyGo(L){throw new Error("Not implemented")}}return F.\u0275fac=function(L){return new(L||F)},F.\u0275prov=(0,E.Yz7)({factory:ce,token:F,providedIn:"platform"}),F})();function ce(){return(0,E.LFG)(re)}const ee=new E.OlP("Location Initialized");let re=(()=>{class F extends Ce{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(L){const Z=Y().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",L,!1),()=>Z.removeEventListener("popstate",L)}onHashChange(L){const Z=Y().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",L,!1),()=>Z.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,Z,_e){de()?this._history.pushState(L,Z,_e):this.location.hash=_e}replaceState(L,Z,_e){de()?this._history.replaceState(L,Z,_e):this.location.hash=_e}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return F.\u0275fac=function(L){return new(L||F)(E.LFG($e))},F.\u0275prov=(0,E.Yz7)({factory:ae,token:F,providedIn:"platform"}),F})();function de(){return!!window.history.pushState}function ae(){return new re((0,E.LFG)($e))}function be(F,z){if(0==F.length)return z;if(0==z.length)return F;let L=0;return F.endsWith("/")&&L++,z.startsWith("/")&&L++,2==L?F+z.substring(1):1==L?F+z:F+"/"+z}function Ge(F){const z=F.match(/#|\?|$/),L=z&&z.index||F.length;return F.slice(0,L-("/"===F[L-1]?1:0))+F.slice(L)}function Pe(F){return F&&"?"!==F[0]?"?"+F:F}let Ue=(()=>{class F{historyGo(L){throw new Error("Not implemented")}}return F.\u0275fac=function(L){return new(L||F)},F.\u0275prov=(0,E.Yz7)({factory:he,token:F,providedIn:"root"}),F})();function he(F){const z=(0,E.LFG)($e).location;return new Ke((0,E.LFG)(Ce),z&&z.origin||"")}const Ye=new E.OlP("appBaseHref");let Ke=(()=>{class F extends Ue{constructor(L,Z){if(super(),this._platformLocation=L,this._removeListenerFns=[],null==Z&&(Z=this._platformLocation.getBaseHrefFromDOM()),null==Z)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Z}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return be(this._baseHref,L)}path(L=!1){const Z=this._platformLocation.pathname+Pe(this._platformLocation.search),_e=this._platformLocation.hash;return _e&&L?`${Z}${_e}`:Z}pushState(L,Z,_e,He){const lt=this.prepareExternalUrl(_e+Pe(He));this._platformLocation.pushState(L,Z,lt)}replaceState(L,Z,_e,He){const lt=this.prepareExternalUrl(_e+Pe(He));this._platformLocation.replaceState(L,Z,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var Z,_e;null===(_e=(Z=this._platformLocation).historyGo)||void 0===_e||_e.call(Z,L)}}return F.\u0275fac=function(L){return new(L||F)(E.LFG(Ce),E.LFG(Ye,8))},F.\u0275prov=E.Yz7({token:F,factory:F.\u0275fac}),F})(),ot=(()=>{class F extends Ue{constructor(L,Z){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(L){const Z=be(this._baseHref,L);return Z.length>0?"#"+Z:Z}pushState(L,Z,_e,He){let lt=this.prepareExternalUrl(_e+Pe(He));0==lt.length&&(lt=this._platformLocation.pathname),this._platformLocation.pushState(L,Z,lt)}replaceState(L,Z,_e,He){let lt=this.prepareExternalUrl(_e+Pe(He));0==lt.length&&(lt=this._platformLocation.pathname),this._platformLocation.replaceState(L,Z,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var Z,_e;null===(_e=(Z=this._platformLocation).historyGo)||void 0===_e||_e.call(Z,L)}}return F.\u0275fac=function(L){return new(L||F)(E.LFG(Ce),E.LFG(Ye,8))},F.\u0275prov=E.Yz7({token:F,factory:F.\u0275fac}),F})(),oe=(()=>{class F{constructor(L,Z){this._subject=new E.vpe,this._urlChangeListeners=[],this._platformStrategy=L;const _e=this._platformStrategy.getBaseHref();this._platformLocation=Z,this._baseHref=Ge(et(_e)),this._platformStrategy.onPopState(He=>{this._subject.emit({url:this.path(!0),pop:!0,state:He.state,type:He.type})})}path(L=!1){return this.normalize(this._platformStrategy.path(L))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(L,Z=""){return this.path()==this.normalize(L+Pe(Z))}normalize(L){return F.stripTrailingSlash(function(F,z){return F&&z.startsWith(F)?z.substring(F.length):z}(this._baseHref,et(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._platformStrategy.prepareExternalUrl(L)}go(L,Z="",_e=null){this._platformStrategy.pushState(_e,"",L,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Pe(Z)),_e)}replaceState(L,Z="",_e=null){this._platformStrategy.replaceState(_e,"",L,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Pe(Z)),_e)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(L=0){var Z,_e;null===(_e=(Z=this._platformStrategy).historyGo)||void 0===_e||_e.call(Z,L)}onUrlChange(L){this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)}))}_notifyUrlChangeListeners(L="",Z){this._urlChangeListeners.forEach(_e=>_e(L,Z))}subscribe(L,Z,_e){return this._subject.subscribe({next:L,error:Z,complete:_e})}}return F.\u0275fac=function(L){return new(L||F)(E.LFG(Ue),E.LFG(Ce))},F.normalizeQueryParams=Pe,F.joinWithSlash=be,F.stripTrailingSlash=Ge,F.\u0275prov=(0,E.Yz7)({factory:Xe,token:F,providedIn:"root"}),F})();function Xe(){return new oe((0,E.LFG)(Ue),(0,E.LFG)(Ce))}function et(F){return F.replace(/\/index.html$/,"")}var Ze=(()=>((Ze=Ze||{})[Ze.Zero=0]="Zero",Ze[Ze.One=1]="One",Ze[Ze.Two=2]="Two",Ze[Ze.Few=3]="Few",Ze[Ze.Many=4]="Many",Ze[Ze.Other=5]="Other",Ze))(),Le=(()=>((Le=Le||{})[Le.Format=0]="Format",Le[Le.Standalone=1]="Standalone",Le))(),ke=(()=>((ke=ke||{})[ke.Narrow=0]="Narrow",ke[ke.Abbreviated=1]="Abbreviated",ke[ke.Wide=2]="Wide",ke[ke.Short=3]="Short",ke))(),ye=(()=>((ye=ye||{})[ye.Short=0]="Short",ye[ye.Medium=1]="Medium",ye[ye.Long=2]="Long",ye[ye.Full=3]="Full",ye))(),Ae=(()=>((Ae=Ae||{})[Ae.Decimal=0]="Decimal",Ae[Ae.Group=1]="Group",Ae[Ae.List=2]="List",Ae[Ae.PercentSign=3]="PercentSign",Ae[Ae.PlusSign=4]="PlusSign",Ae[Ae.MinusSign=5]="MinusSign",Ae[Ae.Exponential=6]="Exponential",Ae[Ae.SuperscriptingExponent=7]="SuperscriptingExponent",Ae[Ae.PerMille=8]="PerMille",Ae[Ae.Infinity=9]="Infinity",Ae[Ae.NaN=10]="NaN",Ae[Ae.TimeSeparator=11]="TimeSeparator",Ae[Ae.CurrencyDecimal=12]="CurrencyDecimal",Ae[Ae.CurrencyGroup=13]="CurrencyGroup",Ae))();function mn(F,z){return Tt((0,E.cg1)(F)[E.wAp.DateFormat],z)}function ht(F,z){return Tt((0,E.cg1)(F)[E.wAp.TimeFormat],z)}function Et(F,z){return Tt((0,E.cg1)(F)[E.wAp.DateTimeFormat],z)}function Lt(F,z){const L=(0,E.cg1)(F),Z=L[E.wAp.NumberSymbols][z];if(void 0===Z){if(z===Ae.CurrencyDecimal)return L[E.wAp.NumberSymbols][Ae.Decimal];if(z===Ae.CurrencyGroup)return L[E.wAp.NumberSymbols][Ae.Group]}return Z}const Ln=E.kL8;function bn(F){if(!F[E.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${F[E.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Tt(F,z){for(let L=z;L>-1;L--)if(void 0!==F[L])return F[L];throw new Error("Locale data API: locale data undefined")}function Qt(F){const[z,L]=F.split(":");return{hours:+z,minutes:+L}}const Jt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Kn={},Gn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var wn=(()=>((wn=wn||{})[wn.Short=0]="Short",wn[wn.ShortGMT=1]="ShortGMT",wn[wn.Long=2]="Long",wn[wn.Extended=3]="Extended",wn))(),xt=(()=>((xt=xt||{})[xt.FullYear=0]="FullYear",xt[xt.Month=1]="Month",xt[xt.Date=2]="Date",xt[xt.Hours=3]="Hours",xt[xt.Minutes=4]="Minutes",xt[xt.Seconds=5]="Seconds",xt[xt.FractionalSeconds=6]="FractionalSeconds",xt[xt.Day=7]="Day",xt))(),Mt=(()=>((Mt=Mt||{})[Mt.DayPeriods=0]="DayPeriods",Mt[Mt.Days=1]="Days",Mt[Mt.Months=2]="Months",Mt[Mt.Eras=3]="Eras",Mt))();function Er(F,z,L,Z){let _e=function(F){if(cn(F))return F;if("number"==typeof F&&!isNaN(F))return new Date(F);if("string"==typeof F){if(F=F.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(F)){const[_e,He=1,lt=1]=F.split("-").map(P=>+P);return pi(_e,He-1,lt)}const L=parseFloat(F);if(!isNaN(F-L))return new Date(L);let Z;if(Z=F.match(Jt))return function(F){const z=new Date(0);let L=0,Z=0;const _e=F[8]?z.setUTCFullYear:z.setFullYear,He=F[8]?z.setUTCHours:z.setHours;F[9]&&(L=Number(F[9]+F[10]),Z=Number(F[9]+F[11])),_e.call(z,Number(F[1]),Number(F[2])-1,Number(F[3]));const lt=Number(F[4]||0)-L,P=Number(F[5]||0)-Z,O=Number(F[6]||0),S=Math.floor(1e3*parseFloat("0."+(F[7]||0)));return He.call(z,lt,P,O,S),z}(Z)}const z=new Date(F);if(!cn(z))throw new Error(`Unable to convert "${F}" into a date`);return z}(F);z=oi(L,z)||z;let P,lt=[];for(;z;){if(P=Gn.exec(z),!P){lt.push(z);break}{lt=lt.concat(P.slice(1));const H=lt.pop();if(!H)break;z=H}}let O=_e.getTimezoneOffset();Z&&(O=ge(Z,O),_e=function(F,z,L){const _e=F.getTimezoneOffset();return function(F,z){return(F=new Date(F.getTime())).setMinutes(F.getMinutes()+z),F}(F,-1*(ge(z,_e)-_e))}(_e,Z));let S="";return lt.forEach(H=>{const Re=function(F){if(En[F])return En[F];let z;switch(F){case"G":case"GG":case"GGG":z=ne(Mt.Eras,ke.Abbreviated);break;case"GGGG":z=ne(Mt.Eras,ke.Wide);break;case"GGGGG":z=ne(Mt.Eras,ke.Narrow);break;case"y":z=Vn(xt.FullYear,1,0,!1,!0);break;case"yy":z=Vn(xt.FullYear,2,0,!0,!0);break;case"yyy":z=Vn(xt.FullYear,3,0,!1,!0);break;case"yyyy":z=Vn(xt.FullYear,4,0,!1,!0);break;case"Y":z=yn(1);break;case"YY":z=yn(2,!0);break;case"YYY":z=yn(3);break;case"YYYY":z=yn(4);break;case"M":case"L":z=Vn(xt.Month,1,1);break;case"MM":case"LL":z=Vn(xt.Month,2,1);break;case"MMM":z=ne(Mt.Months,ke.Abbreviated);break;case"MMMM":z=ne(Mt.Months,ke.Wide);break;case"MMMMM":z=ne(Mt.Months,ke.Narrow);break;case"LLL":z=ne(Mt.Months,ke.Abbreviated,Le.Standalone);break;case"LLLL":z=ne(Mt.Months,ke.Wide,Le.Standalone);break;case"LLLLL":z=ne(Mt.Months,ke.Narrow,Le.Standalone);break;case"w":z=Nn(1);break;case"ww":z=Nn(2);break;case"W":z=Nn(1,!0);break;case"d":z=Vn(xt.Date,1);break;case"dd":z=Vn(xt.Date,2);break;case"c":case"cc":z=Vn(xt.Day,1);break;case"ccc":z=ne(Mt.Days,ke.Abbreviated,Le.Standalone);break;case"cccc":z=ne(Mt.Days,ke.Wide,Le.Standalone);break;case"ccccc":z=ne(Mt.Days,ke.Narrow,Le.Standalone);break;case"cccccc":z=ne(Mt.Days,ke.Short,Le.Standalone);break;case"E":case"EE":case"EEE":z=ne(Mt.Days,ke.Abbreviated);break;case"EEEE":z=ne(Mt.Days,ke.Wide);break;case"EEEEE":z=ne(Mt.Days,ke.Narrow);break;case"EEEEEE":z=ne(Mt.Days,ke.Short);break;case"a":case"aa":case"aaa":z=ne(Mt.DayPeriods,ke.Abbreviated);break;case"aaaa":z=ne(Mt.DayPeriods,ke.Wide);break;case"aaaaa":z=ne(Mt.DayPeriods,ke.Narrow);break;case"b":case"bb":case"bbb":z=ne(Mt.DayPeriods,ke.Abbreviated,Le.Standalone,!0);break;case"bbbb":z=ne(Mt.DayPeriods,ke.Wide,Le.Standalone,!0);break;case"bbbbb":z=ne(Mt.DayPeriods,ke.Narrow,Le.Standalone,!0);break;case"B":case"BB":case"BBB":z=ne(Mt.DayPeriods,ke.Abbreviated,Le.Format,!0);break;case"BBBB":z=ne(Mt.DayPeriods,ke.Wide,Le.Format,!0);break;case"BBBBB":z=ne(Mt.DayPeriods,ke.Narrow,Le.Format,!0);break;case"h":z=Vn(xt.Hours,1,-12);break;case"hh":z=Vn(xt.Hours,2,-12);break;case"H":z=Vn(xt.Hours,1);break;case"HH":z=Vn(xt.Hours,2);break;case"m":z=Vn(xt.Minutes,1);break;case"mm":z=Vn(xt.Minutes,2);break;case"s":z=Vn(xt.Seconds,1);break;case"ss":z=Vn(xt.Seconds,2);break;case"S":z=Vn(xt.FractionalSeconds,1);break;case"SS":z=Vn(xt.FractionalSeconds,2);break;case"SSS":z=Vn(xt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":z=qe(wn.Short);break;case"ZZZZZ":z=qe(wn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":z=qe(wn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":z=qe(wn.Long);break;default:return null}return En[F]=z,z}(H);S+=Re?Re(_e,L,O):"''"===H?"'":H.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),S}function pi(F,z,L){const Z=new Date(0);return Z.setFullYear(F,z,L),Z.setHours(0,0,0),Z}function oi(F,z){const L=function(F){return(0,E.cg1)(F)[E.wAp.LocaleId]}(F);if(Kn[L]=Kn[L]||{},Kn[L][z])return Kn[L][z];let Z="";switch(z){case"shortDate":Z=mn(F,ye.Short);break;case"mediumDate":Z=mn(F,ye.Medium);break;case"longDate":Z=mn(F,ye.Long);break;case"fullDate":Z=mn(F,ye.Full);break;case"shortTime":Z=ht(F,ye.Short);break;case"mediumTime":Z=ht(F,ye.Medium);break;case"longTime":Z=ht(F,ye.Long);break;case"fullTime":Z=ht(F,ye.Full);break;case"short":const _e=oi(F,"shortTime"),He=oi(F,"shortDate");Z=Rn(Et(F,ye.Short),[_e,He]);break;case"medium":const lt=oi(F,"mediumTime"),P=oi(F,"mediumDate");Z=Rn(Et(F,ye.Medium),[lt,P]);break;case"long":const O=oi(F,"longTime"),S=oi(F,"longDate");Z=Rn(Et(F,ye.Long),[O,S]);break;case"full":const H=oi(F,"fullTime"),Re=oi(F,"fullDate");Z=Rn(Et(F,ye.Full),[H,Re])}return Z&&(Kn[L][z]=Z),Z}function Rn(F,z){return z&&(F=F.replace(/\{([^}]+)}/g,function(L,Z){return null!=z&&Z in z?z[Z]:L})),F}function Pn(F,z,L="-",Z,_e){let He="";(F<0||_e&&F<=0)&&(_e?F=1-F:(F=-F,He=L));let lt=String(F);for(;lt.length<z;)lt="0"+lt;return Z&&(lt=lt.substr(lt.length-z)),He+lt}function Vn(F,z,L=0,Z=!1,_e=!1){return function(He,lt){let P=function(F,z){switch(F){case xt.FullYear:return z.getFullYear();case xt.Month:return z.getMonth();case xt.Date:return z.getDate();case xt.Hours:return z.getHours();case xt.Minutes:return z.getMinutes();case xt.Seconds:return z.getSeconds();case xt.FractionalSeconds:return z.getMilliseconds();case xt.Day:return z.getDay();default:throw new Error(`Unknown DateType value "${F}".`)}}(F,He);if((L>0||P>-L)&&(P+=L),F===xt.Hours)0===P&&-12===L&&(P=12);else if(F===xt.FractionalSeconds)return function(F,z){return Pn(F,3).substr(0,z)}(P,z);const O=Lt(lt,Ae.MinusSign);return Pn(P,z,O,Z,_e)}}function ne(F,z,L=Le.Format,Z=!1){return function(_e,He){return function(F,z,L,Z,_e,He){switch(L){case Mt.Months:return function(F,z,L){const Z=(0,E.cg1)(F),He=Tt([Z[E.wAp.MonthsFormat],Z[E.wAp.MonthsStandalone]],z);return Tt(He,L)}(z,_e,Z)[F.getMonth()];case Mt.Days:return function(F,z,L){const Z=(0,E.cg1)(F),He=Tt([Z[E.wAp.DaysFormat],Z[E.wAp.DaysStandalone]],z);return Tt(He,L)}(z,_e,Z)[F.getDay()];case Mt.DayPeriods:const lt=F.getHours(),P=F.getMinutes();if(He){const S=function(F){const z=(0,E.cg1)(F);return bn(z),(z[E.wAp.ExtraData][2]||[]).map(Z=>"string"==typeof Z?Qt(Z):[Qt(Z[0]),Qt(Z[1])])}(z),H=function(F,z,L){const Z=(0,E.cg1)(F);bn(Z);const He=Tt([Z[E.wAp.ExtraData][0],Z[E.wAp.ExtraData][1]],z)||[];return Tt(He,L)||[]}(z,_e,Z),Re=S.findIndex(wt=>{if(Array.isArray(wt)){const[qt,Jn]=wt,Zr=lt>=qt.hours&&P>=qt.minutes,zr=lt<Jn.hours||lt===Jn.hours&&P<Jn.minutes;if(qt.hours<Jn.hours){if(Zr&&zr)return!0}else if(Zr||zr)return!0}else if(wt.hours===lt&&wt.minutes===P)return!0;return!1});if(-1!==Re)return H[Re]}return function(F,z,L){const Z=(0,E.cg1)(F),He=Tt([Z[E.wAp.DayPeriodsFormat],Z[E.wAp.DayPeriodsStandalone]],z);return Tt(He,L)}(z,_e,Z)[lt<12?0:1];case Mt.Eras:return function(F,z){return Tt((0,E.cg1)(F)[E.wAp.Eras],z)}(z,Z)[F.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${L}`)}}(_e,He,F,z,L,Z)}}function qe(F){return function(z,L,Z){const _e=-1*Z,He=Lt(L,Ae.MinusSign),lt=_e>0?Math.floor(_e/60):Math.ceil(_e/60);switch(F){case wn.Short:return(_e>=0?"+":"")+Pn(lt,2,He)+Pn(Math.abs(_e%60),2,He);case wn.ShortGMT:return"GMT"+(_e>=0?"+":"")+Pn(lt,1,He);case wn.Long:return"GMT"+(_e>=0?"+":"")+Pn(lt,2,He)+":"+Pn(Math.abs(_e%60),2,He);case wn.Extended:return 0===Z?"Z":(_e>=0?"+":"")+Pn(lt,2,He)+":"+Pn(Math.abs(_e%60),2,He);default:throw new Error(`Unknown zone width "${F}"`)}}}function rn(F){return pi(F.getFullYear(),F.getMonth(),F.getDate()+(4-F.getDay()))}function Nn(F,z=!1){return function(L,Z){let _e;if(z){const He=new Date(L.getFullYear(),L.getMonth(),1).getDay()-1,lt=L.getDate();_e=1+Math.floor((lt+He)/7)}else{const He=rn(L),lt=function(F){const z=pi(F,0,1).getDay();return pi(F,0,1+(z<=4?4:11)-z)}(He.getFullYear()),P=He.getTime()-lt.getTime();_e=1+Math.round(P/6048e5)}return Pn(_e,F,Lt(Z,Ae.MinusSign))}}function yn(F,z=!1){return function(L,Z){return Pn(rn(L).getFullYear(),F,Lt(Z,Ae.MinusSign),z)}}const En={};function ge(F,z){F=F.replace(/:/g,"");const L=Date.parse("Jan 01, 1970 00:00:00 "+F)/6e4;return isNaN(L)?z:L}function cn(F){return F instanceof Date&&!isNaN(F.valueOf())}class qn{}let xi=(()=>{class F extends qn{constructor(L){super(),this.locale=L}getPluralCategory(L,Z){switch(Ln(Z||this.locale)(L)){case Ze.Zero:return"zero";case Ze.One:return"one";case Ze.Two:return"two";case Ze.Few:return"few";case Ze.Many:return"many";default:return"other"}}}return F.\u0275fac=function(L){return new(L||F)(E.LFG(E.soG))},F.\u0275prov=E.Yz7({token:F,factory:F.\u0275fac}),F})();function fn(F,z){z=encodeURIComponent(z);for(const L of F.split(";")){const Z=L.indexOf("="),[_e,He]=-1==Z?[L,""]:[L.slice(0,Z),L.slice(Z+1)];if(_e.trim()===z)return decodeURIComponent(He)}return null}let Hi=(()=>{class F{constructor(L,Z,_e,He){this._iterableDiffers=L,this._keyValueDiffers=Z,this._ngEl=_e,this._renderer=He,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(L){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof L?L.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(L){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof L?L.split(/\s+/):L,this._rawClass&&((0,E.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const L=this._iterableDiffer.diff(this._rawClass);L&&this._applyIterableChanges(L)}else if(this._keyValueDiffer){const L=this._keyValueDiffer.diff(this._rawClass);L&&this._applyKeyValueChanges(L)}}_applyKeyValueChanges(L){L.forEachAddedItem(Z=>this._toggleClass(Z.key,Z.currentValue)),L.forEachChangedItem(Z=>this._toggleClass(Z.key,Z.currentValue)),L.forEachRemovedItem(Z=>{Z.previousValue&&this._toggleClass(Z.key,!1)})}_applyIterableChanges(L){L.forEachAddedItem(Z=>{if("string"!=typeof Z.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,E.AaK)(Z.item)}`);this._toggleClass(Z.item,!0)}),L.forEachRemovedItem(Z=>this._toggleClass(Z.item,!1))}_applyClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(Z=>this._toggleClass(Z,!0)):Object.keys(L).forEach(Z=>this._toggleClass(Z,!!L[Z])))}_removeClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(Z=>this._toggleClass(Z,!1)):Object.keys(L).forEach(Z=>this._toggleClass(Z,!1)))}_toggleClass(L,Z){(L=L.trim())&&L.split(/\s+/g).forEach(_e=>{Z?this._renderer.addClass(this._ngEl.nativeElement,_e):this._renderer.removeClass(this._ngEl.nativeElement,_e)})}}return F.\u0275fac=function(L){return new(L||F)(E.Y36(E.ZZ4),E.Y36(E.aQg),E.Y36(E.SBq),E.Y36(E.Qsj))},F.\u0275dir=E.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),F})();class ai{constructor(z,L,Z,_e){this.$implicit=z,this.ngForOf=L,this.index=Z,this.count=_e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hr=(()=>{class F{constructor(L,Z,_e){this._viewContainer=L,this._template=Z,this._differs=_e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;if(!this._differ&&L)try{this._differ=this._differs.find(L).create(this.ngForTrackBy)}catch(Z){throw new Error(`Cannot find a differ supporting object '${L}' of type '${function(F){return F.name||typeof F}(L)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const Z=[];L.forEachOperation((_e,He,lt)=>{if(null==_e.previousIndex){const P=this._viewContainer.createEmbeddedView(this._template,new ai(null,this._ngForOf,-1,-1),null===lt?void 0:lt),O=new Ir(_e,P);Z.push(O)}else if(null==lt)this._viewContainer.remove(null===He?void 0:He);else if(null!==He){const P=this._viewContainer.get(He);this._viewContainer.move(P,lt);const O=new Ir(_e,P);Z.push(O)}});for(let _e=0;_e<Z.length;_e++)this._perViewChange(Z[_e].view,Z[_e].record);for(let _e=0,He=this._viewContainer.length;_e<He;_e++){const lt=this._viewContainer.get(_e);lt.context.index=_e,lt.context.count=He,lt.context.ngForOf=this._ngForOf}L.forEachIdentityChange(_e=>{this._viewContainer.get(_e.currentIndex).context.$implicit=_e.item})}_perViewChange(L,Z){L.context.$implicit=Z.item}static ngTemplateContextGuard(L,Z){return!0}}return F.\u0275fac=function(L){return new(L||F)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(E.ZZ4))},F.\u0275dir=E.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),F})();class Ir{constructor(z,L){this.record=z,this.view=L}}let dn=(()=>{class F{constructor(L,Z){this._viewContainer=L,this._context=new _r,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){Un("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){Un("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,Z){return!0}}return F.\u0275fac=function(L){return new(L||F)(E.Y36(E.s_b),E.Y36(E.Rgc))},F.\u0275dir=E.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),F})();class _r{constructor(){this.$implicit=null,this.ngIf=null}}function Un(F,z){if(z&&!z.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,E.AaK)(z)}'.`)}let ur=(()=>{class F{constructor(L,Z,_e){this._ngEl=L,this._differs=Z,this._renderer=_e,this._ngStyle=null,this._differ=null}set ngStyle(L){this._ngStyle=L,!this._differ&&L&&(this._differ=this._differs.find(L).create())}ngDoCheck(){if(this._differ){const L=this._differ.diff(this._ngStyle);L&&this._applyChanges(L)}}_setStyle(L,Z){const[_e,He]=L.split(".");null!=(Z=null!=Z&&He?`${Z}${He}`:Z)?this._renderer.setStyle(this._ngEl.nativeElement,_e,Z):this._renderer.removeStyle(this._ngEl.nativeElement,_e)}_applyChanges(L){L.forEachRemovedItem(Z=>this._setStyle(Z.key,null)),L.forEachAddedItem(Z=>this._setStyle(Z.key,Z.currentValue)),L.forEachChangedItem(Z=>this._setStyle(Z.key,Z.currentValue))}}return F.\u0275fac=function(L){return new(L||F)(E.Y36(E.SBq),E.Y36(E.aQg),E.Y36(E.Qsj))},F.\u0275dir=E.lG2({type:F,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),F})();let ms=(()=>{class F{constructor(L){this.locale=L}transform(L,Z="mediumDate",_e,He){if(null==L||""===L||L!=L)return null;try{return Er(L,Z,He||this.locale,_e)}catch(lt){throw function(F,z){return Error(`InvalidPipeArgument: '${z}' for pipe '${(0,E.AaK)(F)}'`)}(F,lt.message)}}}return F.\u0275fac=function(L){return new(L||F)(E.Y36(E.soG,16))},F.\u0275pipe=E.Yjl({name:"date",type:F,pure:!0}),F})(),ts=(()=>{class F{}return F.\u0275fac=function(L){return new(L||F)},F.\u0275mod=E.oAB({type:F}),F.\u0275inj=E.cJS({providers:[{provide:qn,useClass:xi}]}),F})();const ns="browser";function ei(F){return"server"===F}let qr=(()=>{class F{}return F.\u0275prov=(0,E.Yz7)({token:F,providedIn:"root",factory:()=>new Di((0,E.LFG)($e),window)}),F})();class Di{constructor(z,L){this.document=z,this.window=L,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const L=function(F,z){const L=F.getElementById(z)||F.getElementsByName(z)[0];if(L)return L;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const Z=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let _e=Z.currentNode;for(;_e;){const He=_e.shadowRoot;if(He){const lt=He.getElementById(z)||He.querySelector(`[name="${z}"]`);if(lt)return lt}_e=Z.nextNode()}}return null}(this.document,z);L&&(this.scrollToElement(L),this.attemptFocus(L))}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=z)}}scrollToElement(z){const L=z.getBoundingClientRect(),Z=L.left+this.window.pageXOffset,_e=L.top+this.window.pageYOffset,He=this.offset();this.window.scrollTo(Z-He[0],_e-He[1])}attemptFocus(z){return z.focus(),this.document.activeElement===z}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=ti(this.window.history)||ti(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch(z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(z){return!1}}}function ti(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class zi{}},3018:(Nt,We,$)=>{"use strict";$.d(We,{deG:()=>af,tb:()=>oE,AFp:()=>rE,ip1:()=>rw,CZH:()=>ef,hGG:()=>$A,z2F:()=>Ng,sBO:()=>MI,Sil:()=>Og,_Vd:()=>Cd,EJc:()=>uE,SBq:()=>Yu,qLn:()=>Bi,vpe:()=>Qu,gxx:()=>io,tBr:()=>Ao,XFs:()=>rt,OlP:()=>Dr,zs3:()=>Or,ZZ4:()=>Sy,aQg:()=>xy,soG:()=>By,YKP:()=>Y0,v3s:()=>EA,h0i:()=>Id,PXZ:()=>mA,R0b:()=>ua,FiY:()=>fo,Lbi:()=>sE,g9A:()=>iE,Qsj:()=>gI,FYo:()=>Ay,JOm:()=>No,Tiy:()=>Mv,q3G:()=>ri,tp0:()=>Qo,EAV:()=>TA,Rgc:()=>vg,dDg:()=>hE,DyG:()=>cs,q4F:()=>Ov,GfV:()=>$0,s_b:()=>Ny,ifc:()=>Rn,eFA:()=>yE,G48:()=>lA,Gpc:()=>Pe,X6Q:()=>cw,_c5:()=>FA,VLi:()=>uA,c2e:()=>aE,zSh:()=>ud,wAp:()=>_n,vHH:()=>Ke,EiD:()=>pf,mCW:()=>wa,qzn:()=>J,JVY:()=>ft,pB0:()=>rr,eBb:()=>Ft,L6k:()=>Ht,LAX:()=>Hn,cg1:()=>bv,Tjo:()=>PA,kL8:()=>d0,yhl:()=>Me,dqk:()=>ne,sIi:()=>hi,CqO:()=>ay,QGY:()=>rg,F4k:()=>oy,RDi:()=>L,AaK:()=>ae,z3N:()=>q,qOj:()=>Vo,TTD:()=>qi,_Bn:()=>V0,xp6:()=>jf,uIk:()=>jp,ekj:()=>wd,Suo:()=>kb,Xpm:()=>ze,lG2:()=>sn,Yz7:()=>ln,cJS:()=>gr,oAB:()=>Yn,Yjl:()=>mr,Y36:()=>md,_UZ:()=>Fl,qZA:()=>ng,TgZ:()=>Uh,EpF:()=>sy,n5z:()=>on,Ikx:()=>wv,LFG:()=>Vr,$8M:()=>Bt,NdJ:()=>ig,CRH:()=>Fb,oxw:()=>Cc,ALo:()=>Mb,xi3:()=>Ob,Q6J:()=>Vh,s9C:()=>Hh,WLB:()=>Ib,iGM:()=>Pb,CHM:()=>vo,LSH:()=>Gd,kYT:()=>An,YNc:()=>Hm,_uU:()=>ue,Oqu:()=>De,hij:()=>Je,AsE:()=>at,lnq:()=>Dt});var E=$(9765),w=$(5319),Y=$(7574),we=$(6682),Ne=$(2441);var Ce=$(1307);function ce(){return new E.xQ}function re(r){for(let i in r)if(r[i]===re)return i;throw Error("Could not find renamed property on target object.")}function de(r,i){for(const s in i)i.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=i[s])}function ae(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ae).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function be(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const Ge=re({__forward_ref__:re});function Pe(r){return r.__forward_ref__=Pe,r.toString=function(){return ae(this())},r}function Ue(r){return he(r)?r():r}function he(r){return"function"==typeof r&&r.hasOwnProperty(Ge)&&r.__forward_ref__===Pe}class Ke extends Error{constructor(i,s){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,s)),this.code=i}}function Xe(r){return"string"==typeof r?r:null==r?"":String(r)}function Gt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Xe(r)}function Ze(r,i){const s=i?` in ${i}`:"";throw new Ke("201",`No provider for ${Gt(r)} found${s}`)}function ht(r,i){null==r&&function(r,i,s,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${s} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function ln(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function gr(r){return{providers:r.providers||[],imports:r.imports||[]}}function Ln(r){return bn(r,Tt)||bn(r,$t)}function bn(r,i){return r.hasOwnProperty(i)?r[i]:null}function Dn(r){return r&&(r.hasOwnProperty(Qt)||r.hasOwnProperty(zt))?r[Qt]:null}const Tt=re({\u0275prov:re}),Qt=re({\u0275inj:re}),$t=re({ngInjectableDef:re}),zt=re({ngInjectorDef:re});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let Jt;function Gn(r){const i=Jt;return Jt=r,i}function wn(r,i,s){const u=Ln(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&rt.Optional?null:void 0!==i?i:void Ze(ae(r),"Injector")}function Mt(r){return{toString:r}.toString()}var Er=(()=>((Er=Er||{})[Er.OnPush=0]="OnPush",Er[Er.Default=1]="Default",Er))(),Rn=(()=>((Rn=Rn||{})[Rn.Emulated=0]="Emulated",Rn[Rn.None=2]="None",Rn[Rn.ShadowDom=3]="ShadowDom",Rn))();const Pn="undefined"!=typeof globalThis&&globalThis,Kt="undefined"!=typeof window&&window,Vn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,pe="undefined"!=typeof global&&global,ne=Pn||pe||Kt||Vn,Oe={},nt=[],At=re({\u0275cmp:re}),rn=re({\u0275dir:re}),Nn=re({\u0275pipe:re}),yn=re({\u0275mod:re}),En=re({\u0275loc:re}),xe=re({\u0275fac:re}),ge=re({__NG_ELEMENT_ID__:re});let Ee=0;function ze(r){return Mt(()=>{const s={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Er.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||nt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Rn.Emulated,id:"c",styles:r.styles||nt,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,h=r.features,f=r.pipes;return u.id+=Ee++,u.inputs=tr(r.inputs,s),u.outputs=tr(r.outputs),h&&h.forEach(_=>_(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(Vt):null,u.pipeDefs=f?()=>("function"==typeof f?f():f).map(cn):null,u})}function Vt(r){return St(r)||function(r){return r[rn]||null}(r)}function cn(r){return function(r){return r[Nn]||null}(r)}const Tn={};function Yn(r){return Mt(()=>{const i={type:r.type,bootstrap:r.bootstrap||nt,declarations:r.declarations||nt,imports:r.imports||nt,exports:r.exports||nt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(Tn[r.id]=r.type),i})}function An(r,i){return Mt(()=>{const s=dr(r,!0);s.declarations=i.declarations||nt,s.imports=i.imports||nt,s.exports=i.exports||nt})}function tr(r,i){if(null==r)return Oe;const s={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=u,i&&(i[c]=h)}return s}const sn=ze;function mr(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function St(r){return r[At]||null}function dr(r,i){const s=r[yn]||null;if(!s&&!0===i)throw new Error(`Type ${ae(r)} does not have '\u0275mod' property.`);return s}function Ar(r){return Array.isArray(r)&&"object"==typeof r[1]}function jn(r){return Array.isArray(r)&&!0===r[1]}function Ci(r){return 0!=(8&r.flags)}function Mr(r){return 2==(2&r.flags)}function Xr(r){return 1==(1&r.flags)}function hr(r){return null!==r.template}function Xi(r){return 0!=(512&r[2])}function Pi(r,i){return r.hasOwnProperty(xe)?r[xe]:null}class Gi{constructor(i,s,u){this.previousValue=i,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function qi(){return ei}function ei(r){return r.type.prototype.ngOnChanges&&(r.setInput=Gs),rs}function rs(){const r=qr(this),i=null==r?void 0:r.current;if(i){const s=r.previous;if(s===Oe)r.previous=i;else for(let u in i)s[u]=i[u];r.current=null,this.ngOnChanges(i)}}function Gs(r,i,s,u){const c=qr(r)||function(r,i){return r[ki]=i}(r,{previous:Oe,current:null}),h=c.current||(c.current={}),f=c.previous,_=this.declaredInputs[s],T=f[_];h[_]=new Gi(T&&T.currentValue,i,f===Oe),r[u]=i}qi.ngInherit=!0;const ki="__ngSimpleChanges__";function qr(r){return r[ki]||null}let z;function L(r){z=r}function He(r){return!!r.listen}const P={createRenderer:(r,i)=>void 0!==z?z:"undefined"!=typeof document?document:void 0};function S(r){for(;Array.isArray(r);)r=r[0];return r}function wt(r,i){return S(i[r])}function qt(r,i){return S(i[r.index])}function Zr(r,i){return r.data[i]}function sr(r,i){const s=i[r];return Ar(s)?s:s[0]}function Ti(r){return 4==(4&r[2])}function Wi(r){return 128==(128&r[2])}function wi(r,i){return null==i?null:r[i]}function xs(r){r[18]=0}function Ai(r,i){r[5]+=i;let s=r,u=r[3];for(;null!==u&&(1===i&&1===s[5]||-1===i&&0===s[5]);)u[5]+=i,s=u,u=u[3]}const hn={lFrame:Cu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function _o(){return hn.bindingsEnabled}function ut(){return hn.lFrame.lView}function zn(){return hn.lFrame.tView}function vo(r){return hn.lFrame.contextLView=r,r[8]}function vr(){let r=ca();for(;null!==r&&64===r.type;)r=r.parent;return r}function ca(){return hn.lFrame.currentTNode}function Ki(r,i){const s=hn.lFrame;s.currentTNode=r,s.isParent=i}function jo(){return hn.lFrame.isParent}function is(){return hn.isInCheckNoChangesMode}function Ms(r){hn.isInCheckNoChangesMode=r}function Kr(){const r=hn.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function Fi(){return hn.lFrame.bindingIndex}function vs(){return hn.lFrame.bindingIndex++}function ss(r){const i=hn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,s}function Eu(r,i){const s=hn.lFrame;s.bindingIndex=s.bindingRootIndex=r,Va(i)}function Va(r){hn.lFrame.currentDirectiveIndex=r}function Zs(){return hn.lFrame.currentQueryIndex}function Ua(r){hn.lFrame.currentQueryIndex=r}function Ba(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function bo(r,i,s){if(s&rt.SkipSelf){let c=i,h=r;for(;!(c=c.parent,null!==c||s&rt.Host||(c=Ba(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;i=c,r=h}const u=hn.lFrame=os();return u.currentTNode=i,u.lView=r,!0}function Eo(r){const i=os(),s=r[1];hn.lFrame=i,i.currentTNode=s.firstChild,i.lView=r,i.tView=s,i.contextLView=r,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function os(){const r=hn.lFrame,i=null===r?null:r.child;return null===i?Cu(r):i}function Cu(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Xu(){const r=hn.lFrame;return hn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const ja=Xu;function lo(){const r=Xu();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function ui(){return hn.lFrame.selectedIndex}function as(r){hn.lFrame.selectedIndex=r}function or(){const r=hn.lFrame;return Zr(r.tView,r.selectedIndex)}function x(r,i){for(let s=i.directiveStart,u=i.directiveEnd;s<u;s++){const h=r.data[s].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:_,ngAfterViewInit:T,ngAfterViewChecked:N,ngOnDestroy:U}=h;f&&(r.contentHooks||(r.contentHooks=[])).push(-s,f),_&&((r.contentHooks||(r.contentHooks=[])).push(s,_),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(s,_)),T&&(r.viewHooks||(r.viewHooks=[])).push(-s,T),N&&((r.viewHooks||(r.viewHooks=[])).push(s,N),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(s,N)),null!=U&&(r.destroyHooks||(r.destroyHooks=[])).push(s,U)}}function B(r,i,s){un(r,i,3,s)}function me(r,i,s,u){(3&r[2])===s&&un(r,i,s,u)}function st(r,i){let s=r[2];(3&s)===i&&(s&=2047,s+=1,r[2]=s)}function un(r,i,s,u){const h=null!=u?u:-1,f=i.length-1;let _=0;for(let T=void 0!==u?65535&r[18]:0;T<f;T++)if("number"==typeof i[T+1]){if(_=i[T],null!=u&&_>=u)break}else i[T]<0&&(r[18]+=65536),(_<h||-1==h)&&(Wn(r,s,i,T),r[18]=(4294901760&r[18])+T+2),T++}function Wn(r,i,s,u){const c=s[u]<0,h=s[u+1],_=r[c?-s[u]:s[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(_)}finally{}}}else try{h.call(_)}finally{}}class Nr{constructor(i,s,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function $a(r,i,s){const u=He(r);let c=0;for(;c<s.length;){const h=s[c];if("number"==typeof h){if(0!==h)break;c++;const f=s[c++],_=s[c++],T=s[c++];u?r.setAttribute(i,_,T,f):i.setAttributeNS(f,_,T)}else{const f=h,_=s[++c];Ho(f)?u&&r.setProperty(i,f,_):u?r.setAttribute(i,f,_):i.setAttribute(f,_),c++}}return c}function pa(r){return 3===r||4===r||6===r}function Ho(r){return 64===r.charCodeAt(0)}function co(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let s=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?s=c:0===s||Ul(r,s,c,null,-1===s||2===s?i[++u]:null)}}return r}function Ul(r,i,s,u,c){let h=0,f=r.length;if(-1===i)f=-1;else for(;h<r.length;){const _=r[h++];if("number"==typeof _){if(_===i){f=-1;break}if(_>i){f=h-1;break}}}for(;h<r.length;){const _=r[h];if("number"==typeof _)break;if(_===s){if(null===u)return void(null!==c&&(r[h+1]=c));if(u===r[h+1])return void(r[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==f&&(r.splice(f,0,i),h=f+1),r.splice(h++,0,s),null!==u&&r.splice(h++,0,u),null!==c&&r.splice(h++,0,c)}function Ys(r){return-1!==r}function ho(r){return 32767&r}function Qs(r,i){let s=function(r){return r>>16}(r),u=i;for(;s>0;)u=u[15],s--;return u}let tl=!0;function $o(r){const i=tl;return tl=r,i}let qa=0;function _t(r,i){const s=Js(r,i);if(-1!==s)return s;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,Pr(u.data,r),Pr(i,null),Pr(u.blueprint,null));const c=ga(r,i),h=r.injectorIndex;if(Ys(c)){const f=ho(c),_=Qs(c,i),T=_[1].data;for(let N=0;N<8;N++)i[h+N]=_[f+N]|T[f+N]}return i[h+8]=c,h}function Pr(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Js(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function ga(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let s=0,u=null,c=i;for(;null!==c;){const h=c[1],f=h.type;if(u=2===f?h.declTNode:1===f?c[6]:null,null===u)return-1;if(s++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return-1}function jt(r,i,s){!function(r,i,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(ge)&&(u=s[ge]),null==u&&(u=s[ge]=qa++);const c=255&u;i.data[r+(c>>5)]|=1<<c}(r,i,s)}function rl(r,i,s){if(s&rt.Optional)return r;Ze(i,"NodeInjector")}function Ot(r,i,s,u){if(s&rt.Optional&&void 0===u&&(u=null),0==(s&(rt.Self|rt.Host))){const c=r[9],h=Gn(void 0);try{return c?c.get(i,u,s&rt.Optional):wn(i,u,s&rt.Optional)}finally{Gn(h)}}return rl(u,i,s)}function C(r,i,s,u=rt.Default,c){if(null!==r){const h=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(ge)?r[ge]:void 0;return"number"==typeof i?i>=0?255&i:b:i}(s);if("function"==typeof h){if(!bo(i,r,u))return u&rt.Host?rl(c,s,u):Ot(i,s,u,c);try{const f=h(u);if(null!=f||u&rt.Optional)return f;Ze(s)}finally{ja()}}else if("number"==typeof h){let f=null,_=Js(r,i),T=-1,N=u&rt.Host?i[16][6]:null;for((-1===_||u&rt.SkipSelf)&&(T=-1===_?ga(r,i):i[_+8],-1!==T&&tt(u,!1)?(f=i[1],_=ho(T),i=Qs(T,i)):_=-1);-1!==_;){const U=i[1];if(Ie(h,_,U.data)){const K=R(_,i,s,f,u,N);if(K!==v)return K}T=i[_+8],-1!==T&&tt(u,i[1].data[_+8]===N)&&Ie(h,_,i)?(f=U,_=ho(T),i=Qs(T,i)):_=-1}}}return Ot(i,s,u,c)}const v={};function b(){return new Ct(vr(),ut())}function R(r,i,s,u,c,h){const f=i[1],_=f.data[r+8],U=V(_,f,s,null==u?Mr(_)&&tl:u!=f&&0!=(3&_.type),c&rt.Host&&h===_);return null!==U?W(i,f,U,_):v}function V(r,i,s,u,c){const h=r.providerIndexes,f=i.data,_=1048575&h,T=r.directiveStart,U=h>>20,Q=c?_+U:r.directiveEnd;for(let fe=u?_:_+U;fe<Q;fe++){const Te=f[fe];if(fe<T&&s===Te||fe>=T&&Te.type===s)return fe}if(c){const fe=f[T];if(fe&&hr(fe)&&fe.type===s)return T}return null}function W(r,i,s,u){let c=r[s];const h=i.data;if(function(r){return r instanceof Nr}(c)){const f=c;f.resolving&&function(r,i){throw new Ke("200",`Circular dependency in DI detected for ${r}`)}(Gt(h[s]));const _=$o(f.canSeeViewProviders);f.resolving=!0;const T=f.injectImpl?Gn(f.injectImpl):null;bo(r,u,rt.Default);try{c=r[s]=f.factory(void 0,h,r,u),i.firstCreatePass&&s>=u.directiveStart&&function(r,i,s){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(u){const f=ei(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(r,f),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,f)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-r,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(r,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,h))}(s,h[s],i)}finally{null!==T&&Gn(T),$o(_),f.resolving=!1,ja()}}return c}function Ie(r,i,s){return!!(s[i+(r>>5)]&1<<r)}function tt(r,i){return!(r&rt.Self||r&rt.Host&&i)}class Ct{constructor(i,s){this._tNode=i,this._lView=s}get(i,s){return C(this._tNode,this._lView,i,void 0,s)}}function on(r){return Mt(()=>{const i=r.prototype.constructor,s=i[xe]||kn(i),u=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==u;){const h=c[xe]||kn(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function kn(r){return he(r)?()=>{const i=kn(Ue(r));return i&&i()}:Pi(r)}function Bt(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const s=r.attrs;if(s){const u=s.length;let c=0;for(;c<u;){const h=s[c];if(pa(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof s[c];)c++;else{if(h===i)return s[c+1];c+=2}}}return null}(vr(),r)}const Yi="__parameters__";function ci(r,i,s){return Mt(()=>{const u=function(r){return function(...s){if(r){const u=r(...s);for(const c in u)this[c]=u[c]}}}(i);function c(...h){if(this instanceof c)return u.apply(this,h),this;const f=new c(...h);return _.annotation=f,_;function _(T,N,U){const K=T.hasOwnProperty(Yi)?T[Yi]:Object.defineProperty(T,Yi,{value:[]})[Yi];for(;K.length<=U;)K.push(null);return(K[U]=K[U]||[]).push(f),T}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class Dr{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=ln({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const af=new Dr("AnalyzeForEntryComponents"),cs=Function;function Qi(r,i){void 0===i&&(i=r);for(let s=0;s<r.length;s++){let u=r[s];Array.isArray(u)?(i===r&&(i=r.slice(0,s)),Qi(u,i)):i!==r&&i.push(u)}return i}function eo(r,i){r.forEach(s=>Array.isArray(s)?eo(s,i):i(s))}function Wo(r,i,s){i>=r.length?r.push(s):r.splice(i,0,s)}function Zo(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function Xn(r,i,s){let u=Wa(r,i);return u>=0?r[1|u]=s:(u=~u,function(r,i,s,u){let c=r.length;if(c==i)r.push(s,u);else if(1===c)r.push(u,r[0]),r[0]=s;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=s,r[i+1]=u}}(r,u,i,s)),u}function ul(r,i){const s=Wa(r,i);if(s>=0)return r[1|s]}function Wa(r,i){return function(r,i,s){let u=0,c=r.length>>s;for(;c!==u;){const h=u+(c-u>>1),f=r[h<<s];if(i===f)return h<<s;f>i?c=h:u=h+1}return~(c<<s)}(r,i,1)}const cl={},dl="__NG_DI_FLAG__",ya="ngTempTokenPath",hl=/\n/gm,Oc="__source",fl=re({provide:String,useValue:re});let bs;function Ya(r){const i=bs;return bs=r,i}function Qa(r,i=rt.Default){if(void 0===bs)throw new Error("inject() must be called from an injection context");return null===bs?wn(r,void 0,i):bs.get(r,i&rt.Optional?null:void 0,i)}function Vr(r,i=rt.Default){return(Jt||Qa)(Ue(r),i)}function Ko(r){const i=[];for(let s=0;s<r.length;s++){const u=Ue(r[s]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,h=rt.Default;for(let f=0;f<u.length;f++){const _=u[f],T=Au(_);"number"==typeof T?-1===T?c=_.token:h|=T:c=_}i.push(Vr(c,h))}else i.push(Vr(u))}return i}function Yo(r,i){return r[dl]=i,r.prototype[dl]=i,r}function Au(r){return r[dl]}function Ps(r,i,s,u){const c=r[ya];throw i[Oc]&&c.unshift(i[Oc]),r.message=function(r,i,s,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=ae(i);if(Array.isArray(i))c=i.map(ae).join(" -> ");else if("object"==typeof i){let h=[];for(let f in i)if(i.hasOwnProperty(f)){let _=i[f];h.push(f+":"+("string"==typeof _?JSON.stringify(_):ae(_)))}c=`{${h.join(", ")}}`}return`${s}${u?"("+u+")":""}[${c}]: ${r.replace(hl,"\n  ")}`}("\n"+r.message,c,s,u),r.ngTokenPath=c,r[ya]=null,r}const Ao=Yo(ci("Inject",r=>({token:r})),-1),fo=Yo(ci("Optional"),8),Qo=Yo(ci("SkipSelf"),4);let Wl;function Ur(r){var i;return(null===(i=function(){if(void 0===Wl&&(Wl=null,ne.trustedTypes))try{Wl=ne.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Wl}())||void 0===i?void 0:i.createHTML(r))||r}class Es{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Bd extends Es{getTypeName(){return"HTML"}}class D extends Es{getTypeName(){return"Style"}}class p extends Es{getTypeName(){return"Script"}}class m extends Es{getTypeName(){return"URL"}}class A extends Es{getTypeName(){return"ResourceURL"}}function q(r){return r instanceof Es?r.changingThisBreaksApplicationSecurity:r}function J(r,i){const s=Me(r);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function Me(r){return r instanceof Es&&r.getTypeName()||null}function ft(r){return new Bd(r)}function Ht(r){return new D(r)}function Ft(r){return new p(r)}function Hn(r){return new m(r)}function rr(r){return new A(r)}class Xo{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Ur(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Kl{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const u=this.inertDocument.createElement("body");s.appendChild(u)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Ur(i),s;const u=this.inertDocument.createElement("body");return u.innerHTML=Ur(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const s=i.attributes;for(let c=s.length-1;0<c;c--){const f=s.item(c).name;("xmlns:ns1"===f||0===f.indexOf("ns1:"))&&i.removeAttribute(f)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Lc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,jd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wa(r){return(r=String(r)).match(Lc)||r.match(jd)?r:"unsafe:"+r}function Zn(r){const i={};for(const s of r.split(","))i[s]=!0;return i}function tu(...r){const i={};for(const s of r)for(const u in s)s.hasOwnProperty(u)&&(i[u]=!0);return i}const Mu=Zn("area,br,col,hr,img,wbr"),Ou=Zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ba=Zn("rp,rt"),Hd=tu(Mu,tu(Ou,Zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tu(ba,Zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tu(ba,Ou)),ff=Zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$d=Zn("srcset"),Ug=tu(ff,$d,Zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),e_=Zn("script,style,template");class jc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!Hd.hasOwnProperty(s))return this.sanitizedSomething=!0,!e_.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=i.attributes;for(let c=0;c<u.length;c++){const h=u.item(c),f=h.name,_=f.toLowerCase();if(!Ug.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let T=h.value;ff[_]&&(T=wa(T)),$d[_]&&(r=T,T=(r=String(r)).split(",").map(i=>wa(i.trim())).join(", ")),this.buf.push(" ",f,'="',Ui(T),'"')}var r;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();Hd.hasOwnProperty(s)&&!Mu.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Ui(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const Bg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,t_=/([^\#-~ |!])/g;function Ui(r){return r.replace(/&/g,"&amp;").replace(Bg,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(t_,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yl;function pf(r,i){let s=null;try{Yl=Yl||function(r){const i=new Kl(r);return function(){try{return!!(new window.DOMParser).parseFromString(Ur(""),"text/html")}catch(r){return!1}}()?new Xo(i):i}(r);let u=i?String(i):"";s=Yl.getInertBodyElement(u);let c=5,h=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=h,h=s.innerHTML,s=Yl.getInertBodyElement(u)}while(u!==h);return Ur((new jc).sanitizeChildren(wl(s)||s))}finally{if(s){const u=wl(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function wl(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var ri=(()=>((ri=ri||{})[ri.NONE=0]="NONE",ri[ri.HTML=1]="HTML",ri[ri.STYLE=2]="STYLE",ri[ri.SCRIPT=3]="SCRIPT",ri[ri.URL=4]="URL",ri[ri.RESOURCE_URL=5]="RESOURCE_URL",ri))();function Gd(r){const i=function(){const r=ut();return r&&r[12]}();return i?i.sanitize(ri.URL,r)||"":J(r,"URL")?q(r):wa(Xe(r))}const _f="__ngContext__";function hs(r,i){r[_f]=i}function vf(r){const i=function(r){return r[_f]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function zd(r){return r.ngOriginalError}function Ca(r,...i){r.error(...i)}class Bi{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),u=this._findContext(i),c=(r=i)&&r.ngErrorLogger||Ca;var r;c(this._console,"ERROR",i),s&&c(this._console,"ORIGINAL ERROR",s),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(i){return i?i.ngDebugContext||this._findContext(zd(i)):null}_findOriginalError(i){let s=i&&zd(i);for(;s&&zd(s);)s=zd(s);return s||null}}const Qg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ne))();function ea(r){return r instanceof Function?r():r}var No=(()=>((No=No||{})[No.Important=1]="Important",No[No.DashCase=2]="DashCase",No))();function Wd(r,i){return undefined(r,i)}function Cl(r){const i=r[3];return jn(i)?i[3]:i}function Nu(r){return tc(r[13])}function Ru(r){return tc(r[4])}function tc(r){for(;null!==r&&!jn(r);)r=r[4];return r}function Pu(r,i,s,u,c){if(null!=u){let h,f=!1;jn(u)?h=u:Ar(u)&&(f=!0,u=u[0]);const _=S(u);0===r&&null!==s?null==c?xf(i,s,_):Ro(i,s,_,c||null,!0):1===r&&null!==s?Ro(i,s,_,c||null,!0):2===r?function(r,i,s){const u=rc(r,i);u&&function(r,i,s,u){He(r)?r.removeChild(i,s,u):i.removeChild(s)}(r,u,i,s)}(i,_,f):3===r&&i.destroyNode(_),null!=h&&function(r,i,s,u,c){const h=s[7];h!==S(s)&&Pu(i,r,u,h,c);for(let _=10;_<s.length;_++){const T=s[_];Fu(T[1],T,r,i,u,h)}}(i,r,h,s,c)}}function Tf(r,i,s){return He(r)?r.createElement(i,s):null===s?r.createElement(i):r.createElementNS(s,i)}function zc(r,i){const s=r[9],u=s.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,Ai(c,-1)),s.splice(u,1)}function Wc(r,i){if(r.length<=10)return;const s=10+i,u=r[s];if(u){const c=u[17];null!==c&&c!==r&&zc(c,u),i>0&&(r[s-1][4]=u[4]);const h=Zo(r,10+i);!function(r,i){Fu(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const f=h[19];null!==f&&f.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Sf(r,i){if(!(256&i[2])){const s=i[11];He(s)&&s.destroyNode&&Fu(r,i,s,3,null,null),function(r){let i=r[13];if(!i)return Ta(r[1],r);for(;i;){let s=null;if(Ar(i))s=i[13];else{const u=i[10];u&&(s=u)}if(!s){for(;i&&!i[4]&&i!==r;)Ar(i)&&Ta(i[1],i),i=i[3];null===i&&(i=r),Ar(i)&&Ta(i[1],i),s=i&&i[4]}i=s}}(i)}}function Ta(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let s;if(null!=r&&null!=(s=r.destroyHooks))for(let u=0;u<s.length;u+=2){const c=i[s[u]];if(!(c instanceof Nr)){const h=s[u+1];if(Array.isArray(h))for(let f=0;f<h.length;f+=2){const _=c[h[f]],T=h[f+1];try{T.call(_)}finally{}}else try{h.call(c)}finally{}}}}(r,i),function(r,i){const s=r.cleanup,u=i[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const f=s[h+1],_="function"==typeof f?f(i):S(i[f]),T=u[c=s[h+2]],N=s[h+3];"boolean"==typeof N?_.removeEventListener(s[h],T,N):N>=0?u[c=N]():u[c=-N].unsubscribe(),h+=2}else{const f=u[c=s[h+1]];s[h].call(f)}if(null!==u){for(let h=c+1;h<u.length;h++)u[h]();i[7]=null}}(r,i),1===i[1].type&&He(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&jn(i[3])){s!==i[3]&&zc(s,i);const u=i[19];null!==u&&u.detachView(r)}}}function ku(r,i,s){return function(r,i,s){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return s[0];if(2&u.flags){const c=r.data[u.directiveStart].encapsulation;if(c===Rn.None||c===Rn.Emulated)return null}return qt(u,s)}(r,i.parent,s)}function Ro(r,i,s,u,c){He(r)?r.insertBefore(i,s,u,c):i.insertBefore(s,u,c)}function xf(r,i,s){He(r)?r.appendChild(i,s):i.appendChild(s)}function ou(r,i,s,u,c){null!==u?Ro(r,i,s,u,c):xf(r,i,s)}function rc(r,i){return He(r)?r.parentNode(i):i.parentNode}let lm=function(r,i,s){return 40&r.type?qt(r,s):null};function au(r,i,s,u){const c=ku(r,u,i),h=i[11],_=function(r,i,s){return lm(r,i,s)}(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(s))for(let T=0;T<s.length;T++)ou(h,c,s[T],_,!1);else ou(h,c,s,_,!1)}function Kc(r,i){if(null!==i){const s=i.type;if(3&s)return qt(i,r);if(4&s)return Of(-1,r[i.index]);if(8&s){const u=i.child;if(null!==u)return Kc(r,u);{const c=r[i.index];return jn(c)?Of(-1,c):S(c)}}if(32&s)return Wd(i,r)()||S(r[i.index]);{const u=cm(r,i);return null!==u?Array.isArray(u)?u[0]:Kc(Cl(r[16]),u):Kc(r,i.next)}}return null}function cm(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Of(r,i){const s=10+r+1;if(s<i.length){const u=i[s],c=u[1].firstChild;if(null!==c)return Kc(u,c)}return i[7]}function Aa(r,i,s,u,c,h,f){for(;null!=s;){const _=u[s.index],T=s.type;if(f&&0===i&&(_&&hs(S(_),u),s.flags|=4),64!=(64&s.flags))if(8&T)Aa(r,i,s.child,u,c,h,!1),Pu(i,r,c,_,h);else if(32&T){const N=Wd(s,u);let U;for(;U=N();)Pu(i,r,c,U,h);Pu(i,r,c,_,h)}else 16&T?Rf(r,i,u,s,c,h):Pu(i,r,c,_,h);s=f?s.projectionNext:s.next}}function Fu(r,i,s,u,c,h){Aa(s,u,r.firstChild,i,c,h,!1)}function Rf(r,i,s,u,c,h){const f=s[16],T=f[6].projection[u.projection];if(Array.isArray(T))for(let N=0;N<T.length;N++)Pu(i,r,c,T[N],h);else Aa(r,i,T,f[3],c,h,!0)}function ic(r,i,s){He(r)?r.setAttribute(i,"style",s):i.style.cssText=s}function sc(r,i,s){He(r)?""===s?r.removeAttribute(i,"class"):r.setAttribute(i,"class",s):i.className=s}function Zd(r,i,s){let u=r.length;for(;;){const c=r.indexOf(i,s);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const h=i.length;if(c+h===u||r.charCodeAt(c+h)<=32)return c}s=c+1}}const Ff="ng-template";function Lf(r,i,s){let u=0;for(;u<r.length;){let c=r[u++];if(s&&"class"===c){if(c=r[u],-1!==Zd(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function Vf(r){return 4===r.type&&r.value!==Ff}function h_(r,i,s){return i===(4!==r.type||s?r.value:Ff)}function dm(r,i,s){let u=4;const c=r.attrs||[],h=function(r){for(let i=0;i<r.length;i++)if(pa(r[i]))return i;return r.length}(c);let f=!1;for(let _=0;_<i.length;_++){const T=i[_];if("number"!=typeof T){if(!f)if(4&u){if(u=2|1&u,""!==T&&!h_(r,T,s)||""===T&&1===i.length){if(Po(u))return!1;f=!0}}else{const N=8&u?T:i[++_];if(8&u&&null!==r.attrs){if(!Lf(r.attrs,N,s)){if(Po(u))return!1;f=!0}continue}const K=Uf(8&u?"class":T,c,Vf(r),s);if(-1===K){if(Po(u))return!1;f=!0;continue}if(""!==N){let Q;Q=K>h?"":c[K+1].toLowerCase();const fe=8&u?Q:null;if(fe&&-1!==Zd(fe,N,0)||2&u&&N!==Q){if(Po(u))return!1;f=!0}}}}else{if(!f&&!Po(u)&&!Po(T))return!1;if(f&&Po(T))continue;f=!1,u=T|1&u}}return Po(u)||f}function Po(r){return 0==(1&r)}function Uf(r,i,s,u){if(null===i)return-1;let c=0;if(u||!s){let h=!1;for(;c<i.length;){const f=i[c];if(f===r)return c;if(3===f||6===f)h=!0;else{if(1===f||2===f){let _=i[++c];for(;"string"==typeof _;)_=i[++c];continue}if(4===f)break;if(0===f){c+=4;continue}}c+=h?1:2}return-1}return function(r,i){let s=r.indexOf(4);if(s>-1)for(s++;s<r.length;){const u=r[s];if("number"==typeof u)return-1;if(u===i)return s;s++}return-1}(i,r)}function hm(r,i,s=!1){for(let u=0;u<i.length;u++)if(dm(r,i[u],s))return!0;return!1}function Tl(r,i){return r?":not("+i.trim()+")":i}function oc(r){let i=r[0],s=1,u=2,c="",h=!1;for(;s<r.length;){let f=r[s];if("string"==typeof f)if(2&u){const _=r[++s];c+="["+f+(_.length>0?'="'+_+'"':"")+"]"}else 8&u?c+="."+f:4&u&&(c+=" "+f);else""!==c&&!Po(f)&&(i+=Tl(h,c),c=""),u=f,h=h||!Po(u);s++}return""!==c&&(i+=Tl(h,c)),i}const Mn={};function jf(r){gm(zn(),ut(),ui()+r,is())}function gm(r,i,s,u){if(!u)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&B(i,h,s)}else{const h=r.preOrderHooks;null!==h&&me(i,h,0,s)}as(s)}function ac(r,i){return r<<17|i<<2}function ta(r){return r>>17&32767}function Yc(r){return 2|r}function uu(r){return(131068&r)>>2}function Qc(r,i){return-131069&r|i<<2}function Hf(r){return 1|r}function Wf(r,i){const s=r.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const c=s[u],h=s[u+1];if(-1!==h){const f=r.data[h];Ua(c),f.contentQueries(2,i[h],h)}}}function nd(r,i,s,u,c,h,f,_,T,N){const U=i.blueprint.slice();return U[0]=c,U[2]=140|u,xs(U),U[3]=U[15]=r,U[8]=s,U[10]=f||r&&r[10],U[11]=_||r&&r[11],U[12]=T||r&&r[12]||null,U[9]=N||r&&r[9]||null,U[6]=h,U[16]=2==i.type?r[16]:U,U}function Uu(r,i,s,u,c){let h=r.data[i];if(null===h)h=function(r,i,s,u,c){const h=ca(),f=jo(),T=r.data[i]=function(r,i,s,u,c,h){return{type:s,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?h:h&&h.parent,s,i,u,c);return null===r.firstChild&&(r.firstChild=T),null!==h&&(f?null==h.child&&null!==T.parent&&(h.child=T):null===h.next&&(h.next=T)),T}(r,i,s,u,c),hn.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=u,h.attrs=c;const f=function(){const r=hn.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===f?-1:f.injectorIndex}return Ki(h,!0),h}function Bu(r,i,s,u){if(0===s)return-1;const c=i.length;for(let h=0;h<s;h++)i.push(u),r.blueprint.push(u),r.data.push(null);return c}function ju(r,i,s){Eo(i);try{const u=r.viewQuery;null!==u&&gp(1,u,s);const c=r.template;null!==c&&Sl(r,i,c,1,s),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Wf(r,i),r.staticViewQueries&&gp(2,r.viewQuery,s);const h=r.components;null!==h&&function(r,i){for(let s=0;s<i.length;s++)cp(r,i[s])}(i,h)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,lo()}}function Hu(r,i,s,u){const c=i[2];if(256==(256&c))return;Eo(i);const h=is();try{xs(i),function(r){hn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==s&&Sl(r,i,s,2,u);const f=3==(3&c);if(!h)if(f){const N=r.preOrderCheckHooks;null!==N&&B(i,N,null)}else{const N=r.preOrderHooks;null!==N&&me(i,N,0,null),st(i,0)}if(function(r){for(let i=Nu(r);null!==i;i=Ru(i)){if(!i[2])continue;const s=i[9];for(let u=0;u<s.length;u++){const c=s[u],h=c[3];0==(1024&c[2])&&Ai(h,1),c[2]|=1024}}}(i),function(r){for(let i=Nu(r);null!==i;i=Ru(i))for(let s=10;s<i.length;s++){const u=i[s],c=u[1];Wi(u)&&Hu(c,u,c.template,u[8])}}(i),null!==r.contentQueries&&Wf(r,i),!h)if(f){const N=r.contentCheckHooks;null!==N&&B(i,N)}else{const N=r.contentHooks;null!==N&&me(i,N,1),st(i,1)}!function(r,i){const s=r.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const c=s[u];if(c<0)as(~c);else{const h=c,f=s[++u],_=s[++u];Eu(f,h),_(2,i[h])}}}finally{as(-1)}}(r,i);const _=r.components;null!==_&&function(r,i){for(let s=0;s<i.length;s++)lp(r,i[s])}(i,_);const T=r.viewQuery;if(null!==T&&gp(2,T,u),!h)if(f){const N=r.viewCheckHooks;null!==N&&B(i,N)}else{const N=r.viewHooks;null!==N&&me(i,N,2),st(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),h||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Ai(i[3],-1))}finally{lo()}}function Em(r,i,s,u){const c=i[10],h=!is(),f=Ti(i);try{h&&!f&&c.begin&&c.begin(),f&&ju(r,i,u),Hu(r,i,s,u)}finally{h&&!f&&c.end&&c.end()}}function Sl(r,i,s,u,c){const h=ui(),f=2&u;try{as(-1),f&&i.length>20&&gm(r,i,20,is()),s(u,c)}finally{as(h)}}function Yf(r,i,s){!_o()||(function(r,i,s,u){const c=s.directiveStart,h=s.directiveEnd;r.firstCreatePass||_t(s,i),hs(u,i);const f=s.initialInputs;for(let _=c;_<h;_++){const T=r.data[_],N=hr(T);N&&D_(i,s,T);const U=W(i,r,_,s);hs(U,i),null!==f&&xm(0,_-c,U,T,0,f),N&&(sr(s.index,i)[8]=U)}}(r,i,s,qt(s,i)),128==(128&s.flags)&&function(r,i,s){const u=s.directiveStart,c=s.directiveEnd,f=s.index,_=hn.lFrame.currentDirectiveIndex;try{as(f);for(let T=u;T<c;T++){const N=r.data[T],U=i[T];Va(T),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&lh(N,U)}}finally{as(-1),Va(_)}}(r,i,s))}function Qf(r,i,s=qt){const u=i.localNames;if(null!==u){let c=i.index+1;for(let h=0;h<u.length;h+=2){const f=u[h+1],_=-1===f?s(i,r):r[f];r[c++]=_}}}function Jf(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=rd(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function rd(r,i,s,u,c,h,f,_,T,N){const U=20+u,K=U+c,Q=function(r,i){const s=[];for(let u=0;u<i;u++)s.push(u<r?null:Mn);return s}(U,K),fe="function"==typeof N?N():N;return Q[1]={type:r,blueprint:Q,template:s,queries:null,viewQuery:_,declTNode:i,data:Q.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:T,consts:fe,incompleteFirstPass:!1}}function Cm(r,i,s,u){const c=hh(i);null===s?c.push(u):(c.push(s),r.firstCreatePass&&Rm(r).push(u,c.length-1))}function Im(r,i,s){for(let u in r)if(r.hasOwnProperty(u)){const c=r[u];(s=null===s?{}:s).hasOwnProperty(u)?s[u].push(i,c):s[u]=[i,c]}return s}function Us(r,i,s,u,c,h,f,_){const T=qt(i,s);let U,N=i.inputs;!_&&null!=N&&(U=N[u])?(gh(r,s,U,u,c),Mr(i)&&function(r,i){const s=sr(i,r);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=f?f(c,i.value||"",u):c,He(h)?h.setProperty(T,u,c):Ho(u)||(T.setProperty?T.setProperty(u,c):T[u]=c))}function np(r,i,s,u){let c=!1;if(_o()){const h=function(r,i,s){const u=r.directiveRegistry;let c=null;if(u)for(let h=0;h<u.length;h++){const f=u[h];hm(s,f.selectors,!1)&&(c||(c=[]),jt(_t(s,i),r,f.type),hr(f)?(Am(r,s),c.unshift(f)):c.push(f))}return c}(r,i,s),f=null===u?null:{"":-1};if(null!==h){c=!0,Sm(s,r.data.length,h.length);for(let U=0;U<h.length;U++){const K=h[U];K.providersResolver&&K.providersResolver(K)}let _=!1,T=!1,N=Bu(r,i,h.length,null);for(let U=0;U<h.length;U++){const K=h[U];s.mergedAttrs=co(s.mergedAttrs,K.hostAttrs),up(r,s,i,N,K),ap(N,K,f),null!==K.contentQueries&&(s.flags|=8),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(s.flags|=128);const Q=K.type.prototype;!_&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(s.index),_=!0),!T&&(Q.ngOnChanges||Q.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(s.index),T=!0),N++}!function(r,i){const u=i.directiveEnd,c=r.data,h=i.attrs,f=[];let _=null,T=null;for(let N=i.directiveStart;N<u;N++){const U=c[N],K=U.inputs,Q=null===h||Vf(i)?null:Mm(K,h);f.push(Q),_=Im(K,N,_),T=Im(U.outputs,N,T)}null!==_&&(_.hasOwnProperty("class")&&(i.flags|=16),_.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=f,i.inputs=_,i.outputs=T}(r,s)}f&&function(r,i,s){if(i){const u=r.localNames=[];for(let c=0;c<i.length;c+=2){const h=s[i[c+1]];if(null==h)throw new Ke("301",`Export of name '${i[c+1]}' not found!`);u.push(i[c],h)}}}(s,u,f)}return s.mergedAttrs=co(s.mergedAttrs,s.attrs),c}function Tm(r,i,s,u,c,h){const f=h.hostBindings;if(f){let _=r.hostBindingOpCodes;null===_&&(_=r.hostBindingOpCodes=[]);const T=~i.index;(function(r){let i=r.length;for(;i>0;){const s=r[--i];if("number"==typeof s&&s<0)return s}return 0})(_)!=T&&_.push(T),_.push(u,c,f)}}function lh(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Am(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function ap(r,i,s){if(s){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)s[i.exportAs[u]]=r;hr(i)&&(s[""]=r)}}function Sm(r,i,s){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+s,r.providerIndexes=i}function up(r,i,s,u,c){r.data[u]=c;const h=c.factory||(c.factory=Pi(c.type)),f=new Nr(h,hr(c),null);r.blueprint[u]=f,s[u]=f,Tm(r,i,0,u,Bu(r,s,c.hostVars,Mn),c)}function D_(r,i,s){const u=qt(i,r),c=Jf(s),h=r[10],f=hc(r,nd(r,c,null,s.onPush?64:16,u,i,h,h.createRenderer(u,s),null,null));r[i.index]=f}function na(r,i,s,u,c,h){const f=qt(r,i);!function(r,i,s,u,c,h,f){if(null==h)He(r)?r.removeAttribute(i,c,s):i.removeAttribute(c);else{const _=null==f?Xe(h):f(h,u||"",c);He(r)?r.setAttribute(i,c,_,s):s?i.setAttributeNS(s,c,_):i.setAttribute(c,_)}}(i[11],f,h,r.value,s,u,c)}function xm(r,i,s,u,c,h){const f=h[i];if(null!==f){const _=u.setInput;for(let T=0;T<f.length;){const N=f[T++],U=f[T++],K=f[T++];null!==_?u.setInput(s,K,N,U):s[U]=K}}}function Mm(r,i){let s=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,r[c],i[u+1])),u+=2}else u+=2;else u+=4}return s}function Om(r,i,s,u){return new Array(r,!0,!1,i,null,0,u,s,null,null)}function lp(r,i){const s=sr(i,r);if(Wi(s)){const u=s[1];80&s[2]?Hu(u,s,u.template,s[8]):s[5]>0&&sd(s)}}function sd(r){for(let u=Nu(r);null!==u;u=Ru(u))for(let c=10;c<u.length;c++){const h=u[c];if(1024&h[2]){const f=h[1];Hu(f,h,f.template,h[8])}else h[5]>0&&sd(h)}const s=r[1].components;if(null!==s)for(let u=0;u<s.length;u++){const c=sr(s[u],r);Wi(c)&&c[5]>0&&sd(c)}}function cp(r,i){const s=sr(i,r),u=s[1];(function(r,i){for(let s=i.length;s<r.blueprint.length;s++)i.push(r.blueprint[s])})(u,s),ju(u,s,s[8])}function hc(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function dp(r){for(;r;){r[2]|=64;const i=Cl(r);if(Xi(r)&&!i)return r;r=i}return null}function od(r,i,s){const u=i[10];u.begin&&u.begin();try{Hu(r,i,r.template,s)}catch(c){throw ph(i,c),c}finally{u.end&&u.end()}}function fp(r){!function(r){for(let i=0;i<r.components.length;i++){const s=r.components[i],u=vf(s),c=u[1];Em(c,u,c.template,s)}}(r[8])}function gp(r,i,s){Ua(0),i(r,s)}const M_=(()=>Promise.resolve(null))();function hh(r){return r[7]||(r[7]=[])}function Rm(r){return r.cleanup||(r.cleanup=[])}function ph(r,i){const s=r[9],u=s?s.get(Bi,null):null;u&&u.handleError(i)}function gh(r,i,s,u,c){for(let h=0;h<s.length;){const f=s[h++],_=s[h++],T=i[f],N=r.data[f];null!==N.setInput?N.setInput(T,c,u,_):T[_]=c}}function ro(r,i,s){const u=wt(i,r);!function(r,i,s){He(r)?r.setValue(i,s):i.textContent=s}(r[11],u,s)}function ad(r,i,s){let u=s?r.styles:null,c=s?r.classes:null,h=0;if(null!==i)for(let f=0;f<i.length;f++){const _=i[f];"number"==typeof _?h=_:1==h?c=be(c,_):2==h&&(u=be(u,_+": "+i[++f]+";"))}s?r.styles=u:r.stylesWithoutHost=u,s?r.classes=c:r.classesWithoutHost=c}const io=new Dr("INJECTOR",-1);class mh{get(i,s=cl){if(s===cl){const u=new Error(`NullInjectorError: No provider for ${ae(i)}!`);throw u.name="NullInjectorError",u}return s}}const ud=new Dr("Set Injector scope."),Ml={},N_={};let yp;function yh(){return void 0===yp&&(yp=new mh),yp}function _h(r,i=null,s=null,u){return new P_(r,s,i||yh(),u)}class P_{constructor(i,s,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&eo(s,_=>this.processProvider(_,i,s)),eo([i],_=>this.processInjectorType(_,[],h)),this.records.set(io,Gu(void 0,this));const f=this.records.get(ud);this.scope=null!=f?f.value:null,this.source=c||("object"==typeof i?null:ae(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=cl,u=rt.Default){this.assertNotDestroyed();const c=Ya(this),h=Gn(void 0);try{if(!(u&rt.SkipSelf)){let _=this.records.get(i);if(void 0===_){const T=("function"==typeof(r=i)||"object"==typeof r&&r instanceof Dr)&&Ln(i);_=T&&this.injectableDefInScope(T)?Gu(ld(i),Ml):null,this.records.set(i,_)}if(null!=_)return this.hydrate(i,_)}return(u&rt.Self?yh():this.parent).get(i,s=u&rt.Optional&&s===cl?null:s)}catch(f){if("NullInjectorError"===f.name){if((f[ya]=f[ya]||[]).unshift(ae(i)),c)throw f;return Ps(f,i,"R3InjectorError",this.source)}throw f}finally{Gn(h),Ya(c)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,c)=>i.push(ae(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,s,u){if(!(i=Ue(i)))return!1;let c=Dn(i);const h=null==c&&i.ngModule||void 0,f=void 0===h?i:h,_=-1!==u.indexOf(f);if(void 0!==h&&(c=Dn(h)),null==c)return!1;if(null!=c.imports&&!_){let U;u.push(f);try{eo(c.imports,K=>{this.processInjectorType(K,s,u)&&(void 0===U&&(U=[]),U.push(K))})}finally{}if(void 0!==U)for(let K=0;K<U.length;K++){const{ngModule:Q,providers:fe}=U[K];eo(fe,Te=>this.processProvider(Te,Q,fe||nt))}}this.injectorDefTypes.add(f);const T=Pi(f)||(()=>new f);this.records.set(f,Gu(T,Ml));const N=c.providers;if(null!=N&&!_){const U=i;eo(N,K=>this.processProvider(K,U,N))}return void 0!==h&&void 0!==i.providers}processProvider(i,s,u){let c=qu(i=Ue(i))?i:Ue(i&&i.provide);const h=wp(r=i)?Gu(void 0,r.useValue):Gu(vp(r),Ml);var r;if(qu(i)||!0!==i.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Gu(void 0,Ml,!0),f.factory=()=>Ko(f.multi),this.records.set(c,f)),c=i,f.multi.push(i)}this.records.set(c,h)}hydrate(i,s){return s.value===Ml&&(s.value=N_,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(r=s.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Ue(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function ld(r){const i=Ln(r),s=null!==i?i.factory:Pi(r);if(null!==s)return s;if(r instanceof Dr)throw new Error(`Token ${ae(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const u=function(r,i){const s=[];for(let u=0;u<r;u++)s.push(i);return s}(i,"?");throw new Error(`Can't resolve all parameters for ${ae(r)}: (${u.join(", ")}).`)}const s=function(r){const i=r&&(r[Tt]||r[$t]);if(i){const s=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(r);return null!==s?()=>s.factory(r):()=>new r}(r);throw new Error("unreachable")}function vp(r,i,s){let u;if(qu(r)){const c=Ue(r);return Pi(c)||ld(c)}if(wp(r))u=()=>Ue(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Ko(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>Vr(Ue(r.useExisting));else{const c=Ue(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Pi(c)||ld(c);u=()=>new c(...Ko(r.deps))}return u}function Gu(r,i,s=!1){return{factory:r,value:i,multi:s?[]:void 0}}function wp(r){return null!==r&&"object"==typeof r&&fl in r}function qu(r){return"function"==typeof r}const Ip=function(r,i,s){return function(r,i=null,s=null,u){const c=_h(r,i,s,u);return c._resolveInjectorDefTypes(),c}({name:s},i,r,s)};class Or{static create(i,s){return Array.isArray(i)?Ip(i,s,""):Ip(i.providers,i.parent,i.name||"")}}function Z_(r,i){x(vf(r)[1],vr())}function Vo(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),s=!0;const u=[r];for(;i;){let c;if(hr(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");c=i.\u0275dir}if(c){if(s){u.push(c);const f=r;f.inputs=Vp(r.inputs),f.declaredInputs=Vp(r.declaredInputs),f.outputs=Vp(r.outputs);const _=c.hostBindings;_&&Um(r,_);const T=c.viewQuery,N=c.contentQueries;if(T&&Ah(r,T),N&&Vm(r,N),de(r.inputs,c.inputs),de(r.declaredInputs,c.declaredInputs),de(r.outputs,c.outputs),hr(c)&&c.data.animation){const U=r.data;U.animation=(U.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let f=0;f<h.length;f++){const _=h[f];_&&_.ngInherit&&_(r),_===Vo&&(s=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,s=null;for(let u=r.length-1;u>=0;u--){const c=r[u];c.hostVars=i+=c.hostVars,c.hostAttrs=co(c.hostAttrs,s=co(s,c.hostAttrs))}}(u)}function Vp(r){return r===Oe?{}:r===nt?[]:r}function Ah(r,i){const s=r.viewQuery;r.viewQuery=s?(u,c)=>{i(u,c),s(u,c)}:i}function Vm(r,i){const s=r.contentQueries;r.contentQueries=s?(u,c,h)=>{i(u,c,h),s(u,c,h)}:i}function Um(r,i){const s=r.hostBindings;r.hostBindings=s?(u,c)=>{i(u,c),s(u,c)}:i}Or.THROW_IF_NOT_FOUND=cl,Or.NULL=new mh,Or.\u0275prov=ln({token:Or,providedIn:"any",factory:()=>Vr(io)}),Or.__NG_ELEMENT_ID__=-1;let Sh=null;function Br(){if(!Sh){const r=ne.Symbol;if(r&&r.iterator)Sh=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const u=i[s];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Sh=u)}}}return Sh}class Sa{constructor(i){this.wrapped=i}static wrap(i){return new Sa(i)}static unwrap(i){return Sa.isWrapped(i)?i.wrapped:i}static isWrapped(i){return i instanceof Sa}}function hi(r){return!!Bp(r)&&(Array.isArray(r)||!(r instanceof Map)&&Br()in r)}function Bp(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Is(r,i,s){return!Object.is(r[i],s)&&(r[i]=s,!0)}function Rl(r,i,s,u){const c=Is(r,i,s);return Is(r,i+1,u)||c}function jp(r,i,s,u){const c=ut();return Is(c,vs(),i)&&(zn(),na(or(),c,r,i,s,u)),jp}function Pl(r,i,s,u){return Is(r,vs(),s)?i+Xe(s)+u:Mn}function hd(r,i,s,u,c,h,f,_){const N=function(r,i,s,u,c){const h=Rl(r,i,s,u);return Is(r,i+2,c)||h}(r,Fi(),s,c,f);return ss(3),N?i+Xe(s)+u+Xe(c)+h+Xe(f)+_:Mn}function Hm(r,i,s,u,c,h,f,_){const T=ut(),N=zn(),U=r+20,K=N.firstCreatePass?function(r,i,s,u,c,h,f,_,T){const N=i.consts,U=Uu(i,r,4,f||null,wi(N,_));np(i,s,U,wi(N,T)),x(i,U);const K=U.tViews=rd(2,U,u,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,N);return null!==i.queries&&(i.queries.template(i,U),K.queries=i.queries.embeddedTView(U)),U}(U,N,T,i,s,u,c,h,f):N.data[U];Ki(K,!1);const Q=T[11].createComment("");au(N,T,Q,K),hs(Q,T),hc(T,T[U]=Om(Q,T,Q,K)),Xr(K)&&Yf(N,T,K),null!=f&&Qf(T,K,_)}function md(r,i=rt.Default){const s=ut();return null===s?Vr(r,i):C(vr(),s,Ue(r),i)}function Vh(r,i,s){const u=ut();return Is(u,vs(),i)&&Us(zn(),or(),u,r,i,u[11],s,!1),Vh}function tg(r,i,s,u,c){const f=c?"class":"style";gh(r,s,i.inputs[f],f,u)}function Uh(r,i,s,u){const c=ut(),h=zn(),f=20+r,_=c[11],T=c[f]=Tf(_,i,hn.lFrame.currentNamespace),N=h.firstCreatePass?function(r,i,s,u,c,h,f){const _=i.consts,N=Uu(i,r,2,c,wi(_,h));return np(i,s,N,wi(_,f)),null!==N.attrs&&ad(N,N.attrs,!1),null!==N.mergedAttrs&&ad(N,N.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,N),N}(f,h,c,0,i,s,u):h.data[f];Ki(N,!0);const U=N.mergedAttrs;null!==U&&$a(_,T,U);const K=N.classes;null!==K&&sc(_,T,K);const Q=N.styles;null!==Q&&ic(_,T,Q),64!=(64&N.flags)&&au(h,c,T,N),0===hn.lFrame.elementDepthCount&&hs(T,c),hn.lFrame.elementDepthCount++,Xr(N)&&(Yf(h,c,N),function(r,i,s){if(Ci(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const f=r.data[h];f.contentQueries&&f.contentQueries(1,s[h],h)}}}(h,N,c)),null!==u&&Qf(c,N)}function ng(){let r=vr();jo()?hn.lFrame.isParent=!1:(r=r.parent,Ki(r,!1));const i=r;hn.lFrame.elementDepthCount--;const s=zn();s.firstCreatePass&&(x(s,r),Ci(r)&&s.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&tg(s,i,ut(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&tg(s,i,ut(),i.stylesWithoutHost,!1)}function Fl(r,i,s,u){Uh(r,i,s,u),ng()}function sy(){return ut()}function rg(r){return!!r&&"function"==typeof r.then}function oy(r){return!!r&&"function"==typeof r.subscribe}const ay=oy;function ig(r,i,s,u){const c=ut(),h=zn(),f=vr();return function(r,i,s,u,c,h,f,_){const T=Xr(u),U=r.firstCreatePass&&Rm(r),K=i[8],Q=hh(i);let fe=!0;if(3&u.type||_){const je=qt(u,i),yt=_?_(je):je,it=Q.length,an=_?In=>_(S(In[u.index])):u.index;if(He(s)){let In=null;if(!_&&T&&(In=function(r,i,s,u){const c=r.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const f=c[h];if(f===s&&c[h+1]===u){const _=i[7],T=c[h+2];return _.length>T?_[T]:null}"string"==typeof f&&(h+=2)}return null}(r,i,c,u.index)),null!==In)(In.__ngLastListenerFn__||In).__ngNextListenerFn__=h,In.__ngLastListenerFn__=h,fe=!1;else{h=jh(u,i,K,h,!1);const cr=s.listen(yt,c,h);Q.push(h,cr),U&&U.push(c,an,it,it+1)}}else h=jh(u,i,K,h,!0),yt.addEventListener(c,h,f),Q.push(h),U&&U.push(c,an,it,f)}else h=jh(u,i,K,h,!1);const Te=u.outputs;let Qe;if(fe&&null!==Te&&(Qe=Te[c])){const je=Qe.length;if(je)for(let yt=0;yt<je;yt+=2){const gs=i[Qe[yt]][Qe[yt+1]].subscribe(h),Ra=Q.length;Q.push(h,gs),U&&U.push(c,u.index,Ra,-(Ra+1))}}}(h,c,c[11],f,r,i,!!s,u),ig}function sg(r,i,s,u){try{return!1!==s(u)}catch(c){return ph(r,c),!1}}function jh(r,i,s,u,c){return function h(f){if(f===Function)return u;const _=2&r.flags?sr(r.index,i):i;0==(32&i[2])&&dp(_);let T=sg(i,0,u,f),N=h.__ngNextListenerFn__;for(;N;)T=sg(i,0,N,f)&&T,N=N.__ngNextListenerFn__;return c&&!1===T&&(f.preventDefault(),f.returnValue=!1),T}}function Cc(r=1){return function(r){return(hn.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,hn.lFrame.contextLView))[8]}(r)}function Hh(r,i,s){return Ic(r,"",i,"",s),Hh}function Ic(r,i,s,u,c){const h=ut(),f=Pl(h,i,s,u);return f!==Mn&&Us(zn(),or(),h,r,f,h[11],c,!1),Ic}function cy(r,i,s,u,c){const h=r[s+1],f=null===i;let _=u?ta(h):uu(h),T=!1;for(;0!==_&&(!1===T||f);){const U=r[_+1];dg(r[_],i)&&(T=!0,r[_+1]=u?Hf(U):Yc(U)),_=u?ta(U):uu(U)}T&&(r[s+1]=u?Yc(h):Hf(h))}function dg(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Wa(r,i)>=0}function wd(r,i){return function(r,i,s,u){const c=ut(),h=zn(),f=ss(2);h.firstUpdatePass&&function(r,i,s,u){const c=r.data;if(null===c[s+1]){const h=c[ui()],f=function(r,i){return i>=r.expandoStartIndex}(r,s);(function(r,i){return 0!=(r.flags&(i?16:32))})(h,u)&&null===i&&!f&&(i=!1),i=function(r,i,s,u){const c=function(r){const i=hn.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let h=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(s=n(s=a(null,r,i,s,u),i.attrs,u),h=null);else{const f=i.directiveStylingLast;if(-1===f||r[f]!==c)if(s=a(c,r,i,s,u),null===h){let T=function(r,i,s){const u=s?i.classBindings:i.styleBindings;if(0!==uu(u))return r[ta(u)]}(r,i,u);void 0!==T&&Array.isArray(T)&&(T=a(null,r,i,T[1],u),T=n(T,i.attrs,u),function(r,i,s,u){r[ta(s?i.classBindings:i.styleBindings)]=u}(r,i,u,T))}else h=function(r,i,s){let u;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)u=n(u,r[h].hostAttrs,s);return n(u,i.attrs,s)}(r,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),s}(c,h,i,u),function(r,i,s,u,c,h){let f=h?i.classBindings:i.styleBindings,_=ta(f),T=uu(f);r[u]=s;let U,N=!1;if(Array.isArray(s)){const K=s;U=K[1],(null===U||Wa(K,U)>0)&&(N=!0)}else U=s;if(c)if(0!==T){const Q=ta(r[_+1]);r[u+1]=ac(Q,_),0!==Q&&(r[Q+1]=Qc(r[Q+1],u)),r[_+1]=function(r,i){return 131071&r|i<<17}(r[_+1],u)}else r[u+1]=ac(_,0),0!==_&&(r[_+1]=Qc(r[_+1],u)),_=u;else r[u+1]=ac(T,0),0===_?_=u:r[T+1]=Qc(r[T+1],u),T=u;N&&(r[u+1]=Yc(r[u+1])),cy(r,U,u,!0),cy(r,U,u,!1),function(r,i,s,u,c){const h=c?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&Wa(h,i)>=0&&(s[u+1]=Hf(s[u+1]))}(i,U,r,u,h),f=ac(_,T),h?i.classBindings=f:i.styleBindings=f}(c,h,i,s,f,u)}}(h,r,f,u),i!==Mn&&Is(c,f,i)&&function(r,i,s,u,c,h,f,_){if(!(3&i.type))return;const T=r.data,N=T[_+1];k(function(r){return 1==(1&r)}(N)?I(T,i,s,c,uu(N),f):void 0)||(k(h)||function(r){return 2==(2&r)}(N)&&(h=I(T,null,s,c,_,f)),function(r,i,s,u,c){const h=He(r);if(i)c?h?r.addClass(s,u):s.classList.add(u):h?r.removeClass(s,u):s.classList.remove(u);else{let f=-1===u.indexOf("-")?void 0:No.DashCase;if(null==c)h?r.removeStyle(s,u,f):s.style.removeProperty(u);else{const _="string"==typeof c&&c.endsWith("!important");_&&(c=c.slice(0,-10),f|=No.Important),h?r.setStyle(s,u,c,f):s.style.setProperty(u,c,_?"important":"")}}}(u,f,wt(ui(),s),c,h))}(h,h.data[ui()],c,c[11],r,c[f+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=ae(q(r)))),r}(i,s),u,f)}(r,i,null,!0),wd}function a(r,i,s,u,c){let h=null;const f=s.directiveEnd;let _=s.directiveStylingLast;for(-1===_?_=s.directiveStart:_++;_<f&&(h=i[_],u=n(u,h.hostAttrs,c),h!==r);)_++;return null!==r&&(s.directiveStylingLast=_),u}function n(r,i,s){const u=s?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const f=i[h];"number"==typeof f?c=f:c===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Xn(r,f,!!s||i[++h]))}return void 0===r?null:r}function I(r,i,s,u,c,h){const f=null===i;let _;for(;c>0;){const T=r[c],N=Array.isArray(T),U=N?T[1]:T,K=null===U;let Q=s[c+1];Q===Mn&&(Q=K?nt:void 0);let fe=K?ul(Q,u):U===u?Q:void 0;if(N&&!k(fe)&&(fe=ul(T,u)),k(fe)&&(_=fe,f))return _;const Te=r[c+1];c=f?ta(Te):uu(Te)}if(null!==i){let T=h?i.residualClasses:i.residualStyles;null!=T&&(_=ul(T,u))}return _}function k(r){return void 0!==r}function ue(r,i=""){const s=ut(),u=zn(),c=r+20,h=u.firstCreatePass?Uu(u,c,1,i,null):u.data[c],f=s[c]=function(r,i){return He(r)?r.createText(i):r.createTextNode(i)}(s[11],i);au(u,s,f,h),Ki(h,!1)}function De(r){return Je("",r,""),De}function Je(r,i,s){const u=ut(),c=Pl(u,r,i,s);return c!==Mn&&ro(u,ui(),c),Je}function at(r,i,s,u,c){const h=ut(),f=function(r,i,s,u,c,h){const _=Rl(r,Fi(),s,c);return ss(2),_?i+Xe(s)+u+Xe(c)+h:Mn}(h,r,i,s,u,c);return f!==Mn&&ro(h,ui(),f),at}function Dt(r,i,s,u,c,h,f){const _=ut(),T=hd(_,r,i,s,u,c,h,f);return T!==Mn&&ro(_,ui(),T),Dt}function wv(r,i,s){const u=ut();return Is(u,vs(),i)&&Us(zn(),or(),u,r,i,u[11],s,!0),wv}const Ed=void 0;var dC=["en",[["a","p"],["AM","PM"],Ed],[["AM","PM"],Ed,Ed],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ed,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ed,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ed,"{1} 'at' {0}",Ed],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),s=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let qh={};function bv(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let s=h0(i);if(s)return s;const u=i.split("-")[0];if(s=h0(u),s)return s;if("en"===u)return dC;throw new Error(`Missing locale data for the locale "${r}".`)}function d0(r){return bv(r)[_n.PluralCase]}function h0(r){return r in qh||(qh[r]=ne.ng&&ne.ng.common&&ne.ng.common.locales&&ne.ng.common.locales[r]),qh[r]}var _n=(()=>((_n=_n||{})[_n.LocaleId=0]="LocaleId",_n[_n.DayPeriodsFormat=1]="DayPeriodsFormat",_n[_n.DayPeriodsStandalone=2]="DayPeriodsStandalone",_n[_n.DaysFormat=3]="DaysFormat",_n[_n.DaysStandalone=4]="DaysStandalone",_n[_n.MonthsFormat=5]="MonthsFormat",_n[_n.MonthsStandalone=6]="MonthsStandalone",_n[_n.Eras=7]="Eras",_n[_n.FirstDayOfWeek=8]="FirstDayOfWeek",_n[_n.WeekendRange=9]="WeekendRange",_n[_n.DateFormat=10]="DateFormat",_n[_n.TimeFormat=11]="TimeFormat",_n[_n.DateTimeFormat=12]="DateTimeFormat",_n[_n.NumberSymbols=13]="NumberSymbols",_n[_n.NumberFormats=14]="NumberFormats",_n[_n.CurrencyCode=15]="CurrencyCode",_n[_n.CurrencySymbol=16]="CurrencySymbol",_n[_n.CurrencyName=17]="CurrencyName",_n[_n.Currencies=18]="Currencies",_n[_n.Directionality=19]="Directionality",_n[_n.PluralCase=20]="PluralCase",_n[_n.ExtraData=21]="ExtraData",_n))();const by="en-US";let f0=by;function Ev(r){ht(r,"Expected localeId to be defined"),"string"==typeof r&&(f0=r.toLowerCase().replace(/_/g,"-"))}function Dv(r,i,s,u,c){if(r=Ue(r),Array.isArray(r))for(let h=0;h<r.length;h++)Dv(r[h],i,s,u,c);else{const h=zn(),f=ut();let _=qu(r)?r:Ue(r.provide),T=vp(r);const N=vr(),U=1048575&N.providerIndexes,K=N.directiveStart,Q=N.providerIndexes>>20;if(qu(r)||!r.multi){const fe=new Nr(T,c,md),Te=Av(_,i,c?U:U+Q,K);-1===Te?(jt(_t(N,f),h,_),Tv(h,r,i.length),i.push(_),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),s.push(fe),f.push(fe)):(s[Te]=fe,f[Te]=fe)}else{const fe=Av(_,i,U+Q,K),Te=Av(_,i,U,U+Q),Qe=fe>=0&&s[fe],je=Te>=0&&s[Te];if(c&&!je||!c&&!Qe){jt(_t(N,f),h,_);const yt=function(r,i,s,u,c){const h=new Nr(r,s,md);return h.multi=[],h.index=i,h.componentProviders=0,L0(h,c,u&&!s),h}(c?uI:aI,s.length,c,u,T);!c&&je&&(s[Te].providerFactory=yt),Tv(h,r,i.length,0),i.push(_),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),s.push(yt),f.push(yt)}else Tv(h,r,fe>-1?fe:Te,L0(s[c?Te:fe],T,!c&&u));!c&&u&&je&&s[Te].componentProviders++}}}function Tv(r,i,s,u){const c=qu(i);if(c||function(r){return!!r.useClass}(i)){const f=(i.useClass||i).prototype.ngOnDestroy;if(f){const _=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const T=_.indexOf(s);-1===T?_.push(s,[u,f]):_[T+1].push(u,f)}else _.push(s,f)}}}function L0(r,i,s){return s&&r.componentProviders++,r.multi.push(i)-1}function Av(r,i,s,u){for(let c=s;c<u;c++)if(i[c]===r)return c;return-1}function aI(r,i,s,u){return Sv(this.multi,[])}function uI(r,i,s,u){const c=this.multi;let h;if(this.providerFactory){const f=this.providerFactory.componentProviders,_=W(s,s[1],this.providerFactory.index,u);h=_.slice(0,f),Sv(c,h);for(let T=f;T<_.length;T++)h.push(_[T])}else h=[],Sv(c,h);return h}function Sv(r,i){for(let s=0;s<r.length;s++)i.push((0,r[s])());return i}function V0(r,i=[]){return s=>{s.providersResolver=(u,c)=>function(r,i,s){const u=zn();if(u.firstCreatePass){const c=hr(r);Dv(s,u.data,u.blueprint,c,!0),Dv(i,u.data,u.blueprint,c,!1)}}(u,c?c(r):r,i)}}class U0{}const j0="ngComponent";class dI{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${ae(r)}. Did you add it to @NgModule.entryComponents?`);return i[j0]=r,i}(i)}}class Cd{}function Ty(...r){}function Wh(r,i){return new Yu(qt(r,i))}Cd.NULL=new dI;const pI=function(){return Wh(vr(),ut())};let Yu=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=pI,r})();function H0(r){return r instanceof Yu?r.nativeElement:r}class Ay{}let gI=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>yI(),r})();const yI=function(){const r=ut(),s=sr(vr().index,r);return function(r){return r[11]}(Ar(s)?s:r)};let Mv=(()=>{class r{}return r.\u0275prov=ln({token:r,providedIn:"root",factory:()=>null}),r})();class $0{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Ov=new $0("12.2.5");class G0{constructor(){}supports(i){return hi(i)}create(i){return new bI(i)}}const wI=(r,i)=>i;class bI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||wI}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,u=this._removalsHead,c=0,h=null;for(;s||u;){const f=!u||s&&s.currentIndex<z0(u,c,h)?s:u,_=z0(f,c,h),T=f.currentIndex;if(f===u)c--,u=u._nextRemoved;else if(s=s._next,null==f.previousIndex)c++;else{h||(h=[]);const N=_-c,U=T-c;if(N!=U){for(let Q=0;Q<N;Q++){const fe=Q<h.length?h[Q]:h[Q]=0,Te=fe+Q;U<=Te&&Te<N&&(h[Q]=fe+1)}h[f.previousIndex]=U-N}}_!==T&&i(f,_,T)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!hi(i))throw new Error(`Error trying to diff '${ae(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,f,s=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let _=0;_<this.length;_++)h=i[_],f=this._trackByFn(_,h),null!==s&&Object.is(s.trackById,f)?(u&&(s=this._verifyReinsertion(s,h,f,_)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,f,_),u=!0),s=s._next}else c=0,function(r,i){if(Array.isArray(r))for(let s=0;s<r.length;s++)i(r[s]);else{const s=r[Br()]();let u;for(;!(u=s.next()).done;)i(u.value)}}(i,_=>{f=this._trackByFn(c,_),null!==s&&Object.is(s.trackById,f)?(u&&(s=this._verifyReinsertion(s,_,f,c)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,f,c),u=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,u,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,c)):i=this._addAfter(new EI(s,u),h,c),i}_verifyReinsertion(i,s,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,s,u),this._addToMoves(i,u),i}_moveAfter(i,s,u){return this._unlink(i),this._insertAfter(i,s,u),this._addToMoves(i,u),i}_addAfter(i,s,u){return this._insertAfter(i,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,u){const c=null===s?this._itHead:s._next;return i._next=c,i._prev=s,null===c?this._itTail=i:c._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new q0),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,u=i._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new q0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class EI{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const s=i._prevDup,u=i._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class q0{constructor(){this.map=new Map}put(i){const s=i.trackById;let u=this.map.get(s);u||(u=new CI,this.map.set(s,u)),u.add(i)}get(i,s){const c=this.map.get(i);return c?c.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function z0(r,i,s){const u=r.previousIndex;if(null===u)return u;let c=0;return s&&u<s.length&&(c=s[u]),u+i+c}class W0{constructor(){}supports(i){return i instanceof Map||Bp(i)}create(){return new II}}class II{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Bp(i)))throw new Error(`Error trying to diff '${ae(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,u);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const u=i._prev;return s._next=i,s._prev=u,i._prev=s,u&&(u._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,s);const h=c._prev,f=c._next;return h&&(h._next=f),f&&(f._prev=h),c._next=null,c._prev=null,c}const u=new DI(i);return this._records.set(i,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(u=>s(i[u],u))}}class DI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Z0(){return new Sy([new G0])}let Sy=(()=>{class r{constructor(s){this.factories=s}static create(s,u){if(null!=u){const c=u.factories.slice();s=s.concat(c)}return new r(s)}static extend(s){return{provide:r,useFactory:u=>r.create(s,u||Z0()),deps:[[r,new Qo,new fo]]}}find(s){const u=this.factories.find(c=>c.supports(s));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(r){return r.name||typeof r}(s)}'`)}}return r.\u0275prov=ln({token:r,providedIn:"root",factory:Z0}),r})();function K0(){return new xy([new W0])}let xy=(()=>{class r{constructor(s){this.factories=s}static create(s,u){if(u){const c=u.factories.slice();s=s.concat(c)}return new r(s)}static extend(s){return{provide:r,useFactory:u=>r.create(s,u||K0()),deps:[[r,new Qo,new fo]]}}find(s){const u=this.factories.find(c=>c.supports(s));if(u)return u;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return r.\u0275prov=ln({token:r,providedIn:"root",factory:K0}),r})();function My(r,i,s,u,c=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&u.push(S(h)),jn(h))for(let _=10;_<h.length;_++){const T=h[_],N=T[1].firstChild;null!==N&&My(T[1],T,N,u)}const f=s.type;if(8&f)My(r,i,s.child,u);else if(32&f){const _=Wd(s,i);let T;for(;T=_();)u.push(T)}else if(16&f){const _=cm(i,s);if(Array.isArray(_))u.push(..._);else{const T=Cl(i[16]);My(T[1],T,_,u,!0)}}s=c?s.projectionNext:s.next}return u}class _g{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return My(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(jn(i)){const s=i[8],u=s?s.indexOf(this):-1;u>-1&&(Wc(i,u),Zo(s,u))}this._attachedToViewContainer=!1}Sf(this._lView[1],this._lView)}onDestroy(i){Cm(this._lView[1],this._lView,null,i)}markForCheck(){dp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){od(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,s){Ms(!0);try{od(r,i,s)}finally{Ms(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,Fu(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class AI extends _g{constructor(i){super(i),this._view=i}detectChanges(){fp(this._view)}checkNoChanges(){!function(r){Ms(!0);try{fp(r)}finally{Ms(!1)}}(this._view)}get context(){return null}}const xI=function(r){return function(r,i,s){if(Mr(r)&&!s){const u=sr(r.index,i);return new _g(u,u)}return 47&r.type?new _g(i[16],i):null}(vr(),ut(),16==(16&r))};let MI=(()=>{class r{}return r.__NG_ELEMENT_ID__=xI,r})();const RI=[new W0],kI=new Sy([new G0]),FI=new xy(RI),VI=function(){return Oy(vr(),ut())};let vg=(()=>{class r{}return r.__NG_ELEMENT_ID__=VI,r})();const UI=vg,BI=class extends UI{constructor(i,s,u){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=u}createEmbeddedView(i){const s=this._declarationTContainer.tViews,u=nd(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(u[19]=h.createEmbeddedView(s)),ju(s,u,i),new _g(u)}};function Oy(r,i){return 4&r.type?new BI(i,r,Wh(r,i)):null}class Id{}class Y0{}const $I=function(){return X0(vr(),ut())};let Ny=(()=>{class r{}return r.__NG_ELEMENT_ID__=$I,r})();const qI=Ny,Q0=class extends qI{constructor(i,s,u){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=u}get element(){return Wh(this._hostTNode,this._hostLView)}get injector(){return new Ct(this._hostTNode,this._hostLView)}get parentInjector(){const i=ga(this._hostTNode,this._hostLView);if(Ys(i)){const s=Qs(i,this._hostLView),u=ho(i);return new Ct(s[1].data[u+8],s)}return new Ct(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=J0(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,u){const c=i.createEmbeddedView(s||{});return this.insert(c,u),c}createComponent(i,s,u,c,h){const f=u||this.parentInjector;if(!h&&null==i.ngModule&&f){const T=f.get(Id,null);T&&(h=T)}const _=i.create(f,c,void 0,h);return this.insert(_.hostView,s),_}insert(i,s){const u=i._lView,c=u[1];if(jn(u[3])){const U=this.indexOf(i);if(-1!==U)this.detach(U);else{const K=u[3],Q=new Q0(K,K[6],K[3]);Q.detach(Q.indexOf(i))}}const h=this._adjustIndex(s),f=this._lContainer;!function(r,i,s,u){const c=10+u,h=s.length;u>0&&(s[c-1][4]=i),u<h-10?(i[4]=s[c],Wo(s,10+u,i)):(s.push(i),i[4]=null),i[3]=s;const f=i[17];null!==f&&s!==f&&function(r,i){const s=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===s?r[9]=[i]:s.push(i)}(f,i);const _=i[19];null!==_&&_.insertView(r),i[2]|=128}(c,u,f,h);const _=Of(h,f),T=u[11],N=rc(T,f[7]);return null!==N&&function(r,i,s,u,c,h){u[0]=c,u[6]=i,Fu(r,u,s,1,c,h)}(c,f[6],T,u,N,_),i.attachToViewContainerRef(),Wo(Nv(f),h,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=J0(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),u=Wc(this._lContainer,s);u&&(Zo(Nv(this._lContainer),s),Sf(u[1],u))}detach(i){const s=this._adjustIndex(i,-1),u=Wc(this._lContainer,s);return u&&null!=Zo(Nv(this._lContainer),s)?new _g(u):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function J0(r){return r[8]}function Nv(r){return r[8]||(r[8]=[])}function X0(r,i){let s;const u=i[r.index];if(jn(u))s=u;else{let c;if(8&r.type)c=S(u);else{const h=i[11];c=h.createComment("");const f=qt(r,i);Ro(h,rc(h,f),c,function(r,i){return He(r)?r.nextSibling(i):i.nextSibling}(h,f),!1)}i[r.index]=s=Om(u,i,c,r),hc(i,s)}return new Q0(s,r,i)}const Qh={};class vb extends Cd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=St(i);return new bb(s,this.ngModule)}}function wb(r){const i=[];for(let s in r)r.hasOwnProperty(s)&&i.push({propName:r[s],templateName:s});return i}const jD=new Dr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Qg});class bb extends U0{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=i.selectors.map(oc).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return wb(this.componentDef.inputs)}get outputs(){return wb(this.componentDef.outputs)}create(i,s,u,c){const h=(c=c||this.ngModule)?function(r,i){return{get:(s,u,c)=>{const h=r.get(s,Qh,c);return h!==Qh||u===Qh?h:i.get(s,u,c)}}}(i,c.injector):i,f=h.get(Ay,P),_=h.get(Mv,null),T=f.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",U=u?function(r,i,s){if(He(r))return r.selectRootElement(i,s===Rn.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(T,u,this.componentDef.encapsulation):Tf(f.createRenderer(null,this.componentDef),N,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(N)),K=this.componentDef.onPush?576:528,Q=function(r,i){return{components:[],scheduler:r||Qg,clean:M_,playerHandler:i||null,flags:0}}(),fe=rd(0,null,null,1,0,null,null,null,null,null),Te=nd(null,fe,Q,K,null,null,f,T,_,h);let Qe,je;Eo(Te);try{const yt=function(r,i,s,u,c,h){const f=s[1];s[20]=r;const T=Uu(f,20,2,"#host",null),N=T.mergedAttrs=i.hostAttrs;null!==N&&(ad(T,N,!0),null!==r&&($a(c,r,N),null!==T.classes&&sc(c,r,T.classes),null!==T.styles&&ic(c,r,T.styles)));const U=u.createRenderer(r,i),K=nd(s,Jf(i),null,i.onPush?64:16,s[20],T,u,U,h||null,null);return f.firstCreatePass&&(jt(_t(T,s),f,i.type),Am(f,T),Sm(T,s.length,1)),hc(s,K),s[20]=K}(U,this.componentDef,Te,f,T);if(U)if(u)$a(T,U,["ng-version",Ov.full]);else{const{attrs:it,classes:an}=function(r){const i=[],s=[];let u=1,c=2;for(;u<r.length;){let h=r[u];if("string"==typeof h)2===c?""!==h&&i.push(h,r[++u]):8===c&&s.push(h);else{if(!Po(c))break;c=h}u++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);it&&$a(T,U,it),an&&an.length>0&&sc(T,U,an.join(" "))}if(je=Zr(fe,20),void 0!==s){const it=je.projection=[];for(let an=0;an<this.ngContentSelectors.length;an++){const In=s[an];it.push(null!=In?Array.from(In):null)}}Qe=function(r,i,s,u,c){const h=s[1],f=function(r,i,s){const u=vr();r.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),up(r,u,i,Bu(r,i,1,null),s));const c=W(i,r,u.directiveStart,u);hs(c,i);const h=qt(u,i);return h&&hs(h,i),c}(h,s,i);if(u.components.push(f),r[8]=f,c&&c.forEach(T=>T(f,i)),i.contentQueries){const T=vr();i.contentQueries(1,f,T.directiveStart)}const _=vr();return!h.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(as(_.index),Tm(s[1],_,0,_.directiveStart,_.directiveEnd,i),lh(i,f)),f}(yt,this.componentDef,Te,Q,[Z_]),ju(fe,Te,null)}finally{lo()}return new GD(this.componentType,Qe,Wh(je,Te),Te,je)}}class GD extends class{}{constructor(i,s,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new AI(c),this.componentType=i}get injector(){return new Ct(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Jh=new Map;class WD extends Id{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vb(this);const u=dr(i),c=i[En]||null;c&&Ev(c),this._bootstrapComponents=ea(u.bootstrap),this._r3Injector=_h(i,s,[{provide:Id,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],ae(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=Or.THROW_IF_NOT_FOUND,u=rt.Default){return i===Or||i===Id||i===io?this:this._r3Injector.get(i,s,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class qv extends Y0{constructor(i){super(),this.moduleType=i,null!==dr(i)&&function(r){const i=new Set;!function s(u){const c=dr(u,!0),h=c.id;null!==h&&(function(r,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${r} - ${ae(i)} vs ${ae(i.name)}`)}(h,Jh.get(h),u),Jh.set(h,u));const f=ea(c.imports);for(const _ of f)i.has(_)||(i.add(_),s(_))}(r)}(i)}create(i){return new WD(this.moduleType,i)}}function Ib(r,i,s,u,c){return Tb(ut(),Kr(),r,i,s,u,c)}function Tb(r,i,s,u,c,h,f){const _=i+s;return Rl(r,_,c,h)?function(r,i,s){return r[i]=s}(r,_+2,f?u.call(f,c,h):u(c,h)):function(r,i){const s=r[i];return s===Mn?void 0:s}(r,_+2)}function Mb(r,i){const s=zn();let u;const c=r+20;s.firstCreatePass?(u=function(r,i){if(i)for(let s=i.length-1;s>=0;s--){const u=i[s];if(r===u.name)return u}throw new Ke("302",`The pipe '${r}' could not be found!`)}(i,s.pipeRegistry),s.data[c]=u,u.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,u.onDestroy)):u=s.data[c];const h=u.factory||(u.factory=Pi(u.type)),f=Gn(md);try{const _=$o(!1),T=h();return $o(_),function(r,i,s,u){s>=r.data.length&&(r.data[s]=null,r.blueprint[s]=null),i[s]=u}(s,ut(),c,T),T}finally{Gn(f)}}function Ob(r,i,s,u){const c=r+20,h=ut(),f=function(r,i){return r[i]}(h,c);return function(r,i){Sa.isWrapped(i)&&(i=Sa.unwrap(i),r[Fi()]=Mn);return i}(h,function(r,i){return r[1].data[i].pure}(h,c)?Tb(h,Kr(),i,f.transform,s,u,f):f.transform(s,u))}function zv(r){return i=>{setTimeout(r,void 0,i)}}const Qu=class extends E.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,u){var c,h,f;let _=i,T=s||(()=>null),N=u;if(i&&"object"==typeof i){const K=i;_=null===(c=K.next)||void 0===c?void 0:c.bind(K),T=null===(h=K.error)||void 0===h?void 0:h.bind(K),N=null===(f=K.complete)||void 0===f?void 0:f.bind(K)}this.__isAsync&&(T=zv(T),_&&(_=zv(_)),N&&(N=zv(N)));const U=super.subscribe({next:_,error:T,complete:N});return i instanceof w.w&&i.add(U),U}};function lT(){return this._results[Br()]()}class Ly{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Br(),u=Ly.prototype;u[s]||(u[s]=lT)}get changes(){return this._changes||(this._changes=new Qu)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const u=this;u.dirty=!1;const c=Qi(i);(this._changesDetected=!function(r,i,s){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],h=i[u];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(u._results,c,s))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Wv{constructor(i){this.queryList=i,this.matches=null}clone(){return new Wv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const u=null!==i.contentQueries?i.contentQueries[0]:s.length,c=[];for(let h=0;h<u;h++){const f=s.getByIndex(h);c.push(this.queries[f.indexInDeclarationView].clone())}return new Zv(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Ub(i,s).matches&&this.queries[s].setDirty()}}class Nb{constructor(i,s,u=null){this.predicate=i,this.flags=s,this.read=u}}class Kv{constructor(i=[]){this.queries=i}elementStart(i,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let u=0;u<this.length;u++){const c=null!==s?s.length:0,h=this.getByIndex(u).embeddedTView(i,c);h&&(h.indexInDeclarationView=u,null!==s?s.push(h):s=[h])}return null!==s?new Kv(s):null}template(i,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Yv{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Yv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(i,s,hT(s,h)),this.matchTNodeWithReadOption(i,s,V(s,i,h,!1,!1))}else u===vg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,V(s,i,u,!1,!1))}matchTNodeWithReadOption(i,s,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Yu||c===Ny||c===vg&&4&s.type)this.addMatch(s.index,-2);else{const h=V(s,i,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,u)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function hT(r,i){const s=r.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===i)return s[u+1];return null}function pT(r,i,s,u){return-1===s?function(r,i){return 11&r.type?Wh(r,i):4&r.type?Oy(r,i):null}(i,r):-2===s?function(r,i,s){return s===Yu?Wh(i,r):s===vg?Oy(i,r):s===Ny?X0(i,r):void 0}(r,i,u):W(r,r[1],s,i)}function Rb(r,i,s,u){const c=i[19].queries[u];if(null===c.matches){const h=r.data,f=s.matches,_=[];for(let T=0;T<f.length;T+=2){const N=f[T];_.push(N<0?null:pT(i,h[N],f[T+1],s.metadata.read))}c.matches=_}return c.matches}function Qv(r,i,s,u){const c=r.queries.getByIndex(s),h=c.matches;if(null!==h){const f=Rb(r,i,c,s);for(let _=0;_<h.length;_+=2){const T=h[_];if(T>0)u.push(f[_/2]);else{const N=h[_+1],U=i[-T];for(let K=10;K<U.length;K++){const Q=U[K];Q[17]===Q[3]&&Qv(Q[1],Q,N,u)}if(null!==U[9]){const K=U[9];for(let Q=0;Q<K.length;Q++){const fe=K[Q];Qv(fe[1],fe,N,u)}}}}}return u}function Pb(r){const i=ut(),s=zn(),u=Zs();Ua(u+1);const c=Ub(s,u);if(r.dirty&&Ti(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const h=c.crossesNgTemplate?Qv(s,i,u,[]):Rb(s,i,c,u);r.reset(h,H0),r.notifyOnChanges()}return!0}return!1}function kb(r,i,s,u){const c=zn();if(c.firstCreatePass){const h=vr();(function(r,i,s){null===r.queries&&(r.queries=new Kv),r.queries.track(new Yv(i,s))})(c,new Nb(i,s,u),h.index),function(r,i){const s=r.contentQueries||(r.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(r.queries.length-1,i)}(c,r),2==(2&s)&&(c.staticContentQueries=!0)}!function(r,i,s){const u=new Ly(4==(4&s));Cm(r,i,u,u.destroy),null===i[19]&&(i[19]=new Zv),i[19].queries.push(new Wv(u))}(c,ut(),s)}function Fb(){return r=ut(),i=Zs(),r[19].queries[i].queryList;var r,i}function Ub(r,i){return r.queries.getByIndex(i)}const rw=new Dr("Application Initializer");let ef=(()=>{class r{constructor(s){this.appInits=s,this.resolve=Ty,this.reject=Ty,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(rg(h))s.push(h);else if(ay(h)){const f=new Promise((_,T)=>{h.subscribe({complete:_,error:T})});s.push(f)}}Promise.all(s).then(()=>{u()}).catch(c=>{this.reject(c)}),0===s.length&&u(),this.initialized=!0}}return r.\u0275fac=function(s){return new(s||r)(Vr(rw,8))},r.\u0275prov=ln({token:r,factory:r.\u0275fac}),r})();const rE=new Dr("AppId"),zT={provide:rE,useFactory:function(){return`${iw()}${iw()}${iw()}`},deps:[]};function iw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iE=new Dr("Platform Initializer"),sE=new Dr("Platform ID"),oE=new Dr("appBootstrapListener");let aE=(()=>{class r{log(s){console.log(s)}warn(s){console.warn(s)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=ln({token:r,factory:r.\u0275fac}),r})();const By=new Dr("LocaleId"),uE=new Dr("DefaultCurrencyCode");class ZT{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}const sw=function(r){return new qv(r)},KT=sw,YT=function(r){return Promise.resolve(sw(r))},lE=function(r){const i=sw(r),u=ea(dr(r).declarations).reduce((c,h)=>{const f=St(h);return f&&c.push(new bb(f)),c},[]);return new ZT(i,u)},QT=lE,JT=function(r){return Promise.resolve(lE(r))};let Og=(()=>{class r{constructor(){this.compileModuleSync=KT,this.compileModuleAsync=YT,this.compileModuleAndAllComponentsSync=QT,this.compileModuleAndAllComponentsAsync=JT}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=ln({token:r,factory:r.\u0275fac}),r})();const tA=(()=>Promise.resolve(0))();function ow(r){"undefined"==typeof Zone?tA.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class ua{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qu(!1),this.onMicrotaskEmpty=new Qu(!1),this.onStable=new Qu(!1),this.onError=new Qu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&s,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let r=ne.requestAnimationFrame,i=ne.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const s=r[Zone.__symbol__("OriginalDelegate")];s&&(r=s);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ne,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,uw(r),r.isCheckStableRunning=!0,aw(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),uw(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,c,h,f,_)=>{try{return cE(r),s.invokeTask(c,h,f,_)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),dE(r)}},onInvoke:(s,u,c,h,f,_,T)=>{try{return cE(r),s.invoke(c,h,f,_,T)}finally{r.shouldCoalesceRunChangeDetection&&i(),dE(r)}},onHasTask:(s,u,c,h)=>{s.hasTask(c,h),u===c&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,uw(r),aw(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,u,c,h)=>(s.handleError(c,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ua.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ua.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,u){return this._inner.run(i,s,u)}runTask(i,s,u,c){const h=this._inner,f=h.scheduleEventTask("NgZoneEvent: "+c,i,rA,Ty,Ty);try{return h.runTask(f,s,u)}finally{h.cancelTask(f)}}runGuarded(i,s,u){return this._inner.runGuarded(i,s,u)}runOutsideAngular(i){return this._outer.run(i)}}const rA={};function aw(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function uw(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function cE(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function dE(r){r._nesting--,aw(r)}class oA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qu,this.onMicrotaskEmpty=new Qu,this.onStable=new Qu,this.onError=new Qu}run(i,s,u){return i.apply(s,u)}runGuarded(i,s,u){return i.apply(s,u)}runOutsideAngular(i){return i()}runTask(i,s,u,c){return i.apply(s,u)}}let hE=(()=>{class r{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ua.assertNotInAngularZone(),ow(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ow(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==h),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,u,c){return[]}}return r.\u0275fac=function(s){return new(s||r)(Vr(ua))},r.\u0275prov=ln({token:r,factory:r.\u0275fac}),r})(),fE=(()=>{class r{constructor(){this._applications=new Map,lw.addToWindow(this)}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return lw.findTestabilityInTree(this,s,u)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=ln({token:r,factory:r.\u0275fac}),r})();class aA{addToWindow(i){}findTestabilityInTree(i,s,u){return null}}function uA(r){lw=r}let lw=new aA,pE=!0,gE=!1;function cw(){return gE=!0,pE}function lA(){if(gE)throw new Error("Cannot enable prod mode after platform setup.");pE=!1}let yu;const mE=new Dr("AllowMultipleToken");class mA{constructor(i,s){this.name=i,this.token=s}}function yE(r,i,s=[]){const u=`Platform: ${i}`,c=new Dr(u);return(h=[])=>{let f=_E();if(!f||f.injector.get(mE,!1))if(r)r(s.concat(h).concat({provide:c,useValue:!0}));else{const _=s.concat(h).concat({provide:c,useValue:!0},{provide:ud,useValue:"platform"});!function(r){if(yu&&!yu.destroyed&&!yu.injector.get(mE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yu=r.get(vE);const i=r.get(iE,null);i&&i.forEach(s=>s())}(Or.create({providers:_,name:u}))}return function(r){const i=_E();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(c)}}function _E(){return yu&&!yu.destroyed?yu:null}let vE=(()=>{class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const _=function(r,i){let s;return s="noop"===r?new oA:("zone.js"===r?void 0:r)||new ua({enableLongStackTrace:cw(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),T=[{provide:ua,useValue:_}];return _.run(()=>{const N=Or.create({providers:T,parent:this.injector,name:s.moduleType.name}),U=s.create(N),K=U.injector.get(Bi,null);if(!K)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const Q=_.onError.subscribe({next:fe=>{K.handleError(fe)}});U.onDestroy(()=>{dw(this._modules,U),Q.unsubscribe()})}),function(r,i,s){try{const u=s();return rg(u)?u.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(K,_,()=>{const Q=U.injector.get(ef);return Q.runInitializers(),Q.donePromise.then(()=>(Ev(U.injector.get(By,by)||by),this._moduleDoBootstrap(U),U))})})}bootstrapModule(s,u=[]){const c=wE({},u);return function(r,i,s){const u=new qv(s);return Promise.resolve(u)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const u=s.injector.get(Ng);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${ae(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(s){return new(s||r)(Vr(Or))},r.\u0275prov=ln({token:r,factory:r.\u0275fac}),r})();function wE(r,i){return Array.isArray(i)?i.reduce(wE,r):Object.assign(Object.assign({},r),i)}let Ng=(()=>{class r{constructor(s,u,c,h,f){this._zone=s,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new Y.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),T=new Y.y(N=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{ua.assertNotInAngularZone(),ow(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{ua.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{U.unsubscribe(),K.unsubscribe()}});this.isStable=(0,we.T)(_,T.pipe(r=>(0,Ce.x)()(function(r,i){return function(u){let c;c="function"==typeof r?r:function(){return r};const h=Object.create(u,Ne.N);return h.source=u,h.subjectFactory=c,h}}(ce)(r))))}bootstrap(s,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=s instanceof U0?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const h=function(r){return r.isBoundToModule}(c)?void 0:this._injector.get(Id),_=c.create(Or.NULL,[],u||c.selector,h),T=_.location.nativeElement,N=_.injector.get(hE,null),U=N&&_.injector.get(fE);return N&&U&&U.registerApplication(T,N),_.onDestroy(()=>{this.detachView(_.hostView),dw(this.components,_),U&&U.unregisterApplication(T)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;dw(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(oE,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(s){return new(s||r)(Vr(ua),Vr(Or),Vr(Bi),Vr(Cd),Vr(ef))},r.\u0275prov=ln({token:r,factory:r.\u0275fac}),r})();function dw(r,i){const s=r.indexOf(i);s>-1&&r.splice(s,1)}class EA{}class IA{}const DA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let TA=(()=>{class r{constructor(s,u){this._compiler=s,this._config=u||DA}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[u,c]=s.split("#");return void 0===c&&(c="default"),$(8255)(u).then(h=>h[c]).then(h=>IE(h,u,c)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(s){let[u,c]=s.split("#"),h="NgFactory";return void 0===c&&(c="default",h=""),$(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(f=>f[c+h]).then(f=>IE(f,u,c))}}return r.\u0275fac=function(s){return new(s||r)(Vr(Og),Vr(IA,8))},r.\u0275prov=ln({token:r,factory:r.\u0275fac}),r})();function IE(r,i,s){if(!r)throw new Error(`Cannot find '${s}' in '${i}'`);return r}const PA=function(r){return null},FA=yE(null,"core",[{provide:sE,useValue:"unknown"},{provide:vE,deps:[Or]},{provide:fE,deps:[]},{provide:aE,deps:[]}]),jA=[{provide:Ng,useClass:Ng,deps:[ua,Or,Bi,Cd,ef]},{provide:jD,deps:[ua],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(s){i.push(s)}}},{provide:ef,useClass:ef,deps:[[new fo,rw]]},{provide:Og,useClass:Og,deps:[]},zT,{provide:Sy,useFactory:function(){return kI},deps:[]},{provide:xy,useFactory:function(){return FI},deps:[]},{provide:By,useFactory:function(r){return Ev(r=r||"undefined"!=typeof $localize&&$localize.locale||by),r},deps:[[new Ao(By),new fo,new Qo]]},{provide:uE,useValue:"USD"}];let $A=(()=>{class r{constructor(s){}}return r.\u0275fac=function(s){return new(s||r)(Vr(Ng))},r.\u0275mod=Yn({type:r}),r.\u0275inj=gr({providers:jA}),r})()},8006:(Nt,We,$)=>{"use strict";$.d(We,{zQ:()=>bt,ww:()=>Zt,rT:()=>ke,f7:()=>Ae,L6:()=>Ze,_Q:()=>Le,lh:()=>ye,Qv:()=>Fe,nw:()=>Be});var E=$(3018),w=$(9765),Y=$(5917),we=$(7574),Ne=$(4402),ve=$(6682),$e=$(7771),Ce=$(5319),ce=$(309),ee=$(7971),re=$(8858);class de extends w.xQ{constructor(pt=Number.POSITIVE_INFINITY,Rt=Number.POSITIVE_INFINITY,nn){super(),this.scheduler=nn,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=pt<1?1:pt,this._windowTime=Rt<1?1:Rt,Rt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(pt){if(!this.isStopped){const Rt=this._events;Rt.push(pt),Rt.length>this._bufferSize&&Rt.shift()}super.next(pt)}nextTimeWindow(pt){this.isStopped||(this._events.push(new ae(this._getNow(),pt)),this._trimBufferThenGetEvents()),super.next(pt)}_subscribe(pt){const Rt=this._infiniteTimeWindow,nn=Rt?this._events:this._trimBufferThenGetEvents(),gn=this.scheduler,mn=nn.length;let ht;if(this.closed)throw new ee.N;if(this.isStopped||this.hasError?ht=Ce.w.EMPTY:(this.observers.push(pt),ht=new re.W(this,pt)),gn&&pt.add(pt=new ce.ht(pt,gn)),Rt)for(let Et=0;Et<mn&&!pt.closed;Et++)pt.next(nn[Et]);else for(let Et=0;Et<mn&&!pt.closed;Et++)pt.next(nn[Et].value);return this.hasError?pt.error(this.thrownError):this.isStopped&&pt.complete(),ht}_getNow(){return(this.scheduler||$e.c).now()}_trimBufferThenGetEvents(){const pt=this._getNow(),Rt=this._bufferSize,nn=this._windowTime,gn=this._events,mn=gn.length;let ht=0;for(;ht<mn&&!(pt-gn[ht].time<nn);)ht++;return mn>Rt&&(ht=Math.max(ht,mn-Rt)),ht>0&&gn.splice(0,ht),gn}}class ae{constructor(pt,Rt){this.time=pt,this.value=Rt}}function be(ct,pt,Rt){let nn;return nn=ct&&"object"==typeof ct?ct:{bufferSize:ct,windowTime:pt,refCount:!1,scheduler:Rt},gn=>gn.lift(function({bufferSize:ct=Number.POSITIVE_INFINITY,windowTime:pt=Number.POSITIVE_INFINITY,refCount:Rt,scheduler:nn}){let gn,ht,mn=0,Et=!1,Lt=!1;return function($n){let ln;mn++,!gn||Et?(Et=!1,gn=new de(ct,pt,nn),ln=gn.subscribe(this),ht=$n.subscribe({next(er){gn.next(er)},error(er){Et=!0,gn.error(er)},complete(){Lt=!0,ht=void 0,gn.complete()}}),Lt&&(ht=void 0)):ln=gn.subscribe(this),this.add(()=>{mn--,ln.unsubscribe(),ln=void 0,ht&&!Lt&&Rt&&0===mn&&(ht.unsubscribe(),ht=void 0,gn=void 0)})}}(nn))}var Pe=$(3190);function Ue(ct,pt){return pt?(0,Pe.w)(()=>ct,pt):(0,Pe.w)(()=>ct)}var he=$(8002),Ye=$(8049),Ke=$(3101),ot=$(5435),oe=$(9126),Xe=$(8939),Gt=$(8583),et=$(7841);const Fe=new E.OlP("angularfire2.auth.use-emulator"),Ze=new E.OlP("angularfire2.auth.settings"),Le=new E.OlP("angularfire2.auth.tenant-id"),ke=new E.OlP("angularfire2.auth.langugage-code"),ye=new E.OlP("angularfire2.auth.use-device-language"),Ae=new E.OlP("angularfire.auth.persistence"),Be=(ct,pt,Rt,nn,gn,mn,ht,Et)=>(0,oe.cc)(`${ct.name}.auth`,"AngularFireAuth",ct.name,()=>{const Lt=pt.runOutsideAngular(()=>ct.auth());if(Rt&&Lt.useEmulator(...Rt),nn&&(Lt.tenantId=nn),Lt.languageCode=gn,mn&&Lt.useDeviceLanguage(),ht)for(const[kt,$n]of Object.entries(ht))Lt.settings[kt]=$n;return Et&&Lt.setPersistence(Et),Lt},[Rt,nn,gn,mn,ht,Et]);let bt=(()=>{class ct{constructor(Rt,nn,gn,mn,ht,Et,Lt,kt,$n,ln,er){const gr=new w.xQ,Ln=(0,Y.of)(void 0).pipe((0,ce.QV)(ht.outsideAngular),(0,Pe.w)(()=>mn.runOutsideAngular(()=>Promise.resolve().then($.bind($,4828)))),(0,he.U)(()=>(0,Xe.on)(Rt,mn,nn)),(0,he.U)(bn=>Be(bn,mn,Et,kt,$n,ln,Lt,er)),be({bufferSize:1,refCount:!1}));if((0,Gt.PM)(gn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Y.of)(null);else{Ln.pipe((0,Ye.P)()).subscribe();const Pt=Ln.pipe((0,Pe.w)(Tt=>Tt.getRedirectResult().then(Qt=>Qt,()=>null)),oe.iC,be({bufferSize:1,refCount:!1})),vn=Ln.pipe((0,Pe.w)(Tt=>new we.y(Qt=>({unsubscribe:mn.runOutsideAngular(()=>Tt.onAuthStateChanged($t=>Qt.next($t),$t=>Qt.error($t),()=>Qt.complete()))})))),Dn=Ln.pipe((0,Pe.w)(Tt=>new we.y(Qt=>({unsubscribe:mn.runOutsideAngular(()=>Tt.onIdTokenChanged($t=>Qt.next($t),$t=>Qt.error($t),()=>Qt.complete()))}))));this.authState=Pt.pipe(Ue(vn),(0,Ke.R)(ht.outsideAngular),(0,ce.QV)(ht.insideAngular)),this.user=Pt.pipe(Ue(Dn),(0,Ke.R)(ht.outsideAngular),(0,ce.QV)(ht.insideAngular)),this.idToken=this.user.pipe((0,Pe.w)(Tt=>Tt?(0,Ne.D)(Tt.getIdToken()):(0,Y.of)(null))),this.idTokenResult=this.user.pipe((0,Pe.w)(Tt=>Tt?(0,Ne.D)(Tt.getIdTokenResult()):(0,Y.of)(null))),this.credential=(0,ve.T)(Pt,gr,this.authState.pipe((0,ot.h)(Tt=>!Tt))).pipe((0,he.U)(Tt=>(null==Tt?void 0:Tt.user)?Tt:null),(0,Ke.R)(ht.outsideAngular),(0,ce.QV)(ht.insideAngular))}return(0,Xe.pX)(this,Ln,mn,{spy:{apply:(bn,Pt,vn)=>{(bn.startsWith("signIn")||bn.startsWith("createUser"))&&vn.then(Dn=>gr.next(Dn))}}})}}return ct.\u0275fac=function(Rt){return new(Rt||ct)(E.LFG(Xe.Dh),E.LFG(Xe.xv,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(oe.HU),E.LFG(Fe,8),E.LFG(Ze,8),E.LFG(Le,8),E.LFG(ke,8),E.LFG(ye,8),E.LFG(Ae,8))},ct.\u0275prov=E.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"any"}),ct})(),Zt=(()=>{class ct{constructor(){et.Z.registerVersion("angularfire",oe.q4.full,"auth-compat")}}return ct.\u0275fac=function(Rt){return new(Rt||ct)},ct.\u0275mod=E.oAB({type:ct}),ct.\u0275inj=E.cJS({providers:[bt]}),ct})()},5391:(Nt,We,$)=>{"use strict";$.d(We,{ST:()=>vv});var E=$(3018),w=$(3637),Y=$(7574),we=$(4402),Ne=$(5917),ve=$(9126),$e=$(7393);function Ce(){return a=>a.lift(new ce)}class ce{call(n,o){return o.subscribe(new ee(n))}}class ee extends $e.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let o;this.hasPrev?o=[this.prev,n]:this.hasPrev=!0,this.prev=n,o&&this.destination.next(o)}}class de{constructor(n,o){this.compare=n,this.keySelector=o}call(n,o){return o.subscribe(new ae(n,this.compare,this.keySelector))}}class ae extends $e.L{constructor(n,o,l){super(n),this.keySelector=l,this.hasKey=!1,"function"==typeof o&&(this.compare=o)}compare(n,o){return n===o}_next(n){let o;try{const{keySelector:d}=this;o=d?d(n):n}catch(d){return this.destination.error(d)}let l=!1;if(this.hasKey)try{const{compare:d}=this;l=d(this.key,o)}catch(d){return this.destination.error(d)}else this.hasKey=!0;l||(this.key=o,this.destination.next(n))}}var be=$(9761),Ge=$(8002),Pe=$(2145),Ue=$(5435),he=$(8939),Ye=$(8583),ot=($(4828),$(4486)),oe=$(8239),Xe=$(5452),Gt=$(6034),et=$(300),gt=$(4685),Fe=function(a,n){return(Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d])})(a,n)};function Le(a){var n="function"==typeof Symbol&&Symbol.iterator,o=n&&a[n],l=0;if(o)return o.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&l>=a.length&&(a=void 0),{value:a&&a[l++],done:!a}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var ye,ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ae=Ae||{},Be=ke||self;function bt(){}function Zt(a){var n=typeof a;return"array"==(n="object"!=n?n:a?Array.isArray(a)?"array":n:"null")||"object"==n&&"number"==typeof a.length}function ct(a){var n=typeof a;return"object"==n&&null!=a||"function"==n}var Rt="closure_uid_"+(1e9*Math.random()>>>0),nn=0;function gn(a,n,o){return a.call.apply(a.bind,arguments)}function mn(a,n,o){if(!a)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,l),a.apply(n,d)}}return function(){return a.apply(n,arguments)}}function ht(a,n,o){return(ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gn:mn).apply(null,arguments)}function Et(a,n){var o=Array.prototype.slice.call(arguments,1);return function(){var l=o.slice();return l.push.apply(l,arguments),a.apply(this,l)}}function Lt(a,n){function o(){}o.prototype=n.prototype,a.Z=n.prototype,a.prototype=new o,a.prototype.constructor=a,a.Vb=function(l,d,g){for(var I=Array(arguments.length-2),k=2;k<arguments.length;k++)I[k-2]=arguments[k];return n.prototype[d].apply(l,I)}}function kt(){this.s=this.s,this.o=this.o}var ln={};kt.prototype.s=!1,kt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var a=function(a){return Object.prototype.hasOwnProperty.call(a,Rt)&&a[Rt]||(a[Rt]=++nn)}(this);delete ln[a]}},kt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var er=Array.prototype.indexOf?function(a,n){return Array.prototype.indexOf.call(a,n,void 0)}:function(a,n){if("string"==typeof a)return"string"!=typeof n||1!=n.length?-1:a.indexOf(n,0);for(var o=0;o<a.length;o++)if(o in a&&a[o]===n)return o;return-1},gr=Array.prototype.forEach?function(a,n,o){Array.prototype.forEach.call(a,n,o)}:function(a,n,o){for(var l=a.length,d="string"==typeof a?a.split(""):a,g=0;g<l;g++)g in d&&n.call(o,d[g],g,a)};function bn(a){return Array.prototype.concat.apply([],arguments)}function Pt(a){var n=a.length;if(0<n){for(var o=Array(n),l=0;l<n;l++)o[l]=a[l];return o}return[]}function vn(a){return/^[\s\xa0]*$/.test(a)}var $t,Dn=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function Tt(a,n){return-1!=a.indexOf(n)}function Qt(a,n){return a<n?-1:a>n?1:0}e:{var zt=Be.navigator;if(zt){var rt=zt.userAgent;if(rt){$t=rt;break e}}$t=""}function Jt(a,n,o){for(var l in a)n.call(o,a[l],l,a)}function Kn(a){var n={};for(var o in a)n[o]=a[o];return n}var Gn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wn(a,n){for(var o,l,d=1;d<arguments.length;d++){for(o in l=arguments[d])a[o]=l[o];for(var g=0;g<Gn.length;g++)o=Gn[g],Object.prototype.hasOwnProperty.call(l,o)&&(a[o]=l[o])}}function xt(a){return xt[" "](a),a}xt[" "]=bt;var pe,a,Er=Tt($t,"Opera"),pi=Tt($t,"Trident")||Tt($t,"MSIE"),oi=Tt($t,"Edge"),Rn=oi||pi,Pn=Tt($t,"Gecko")&&!(Tt($t.toLowerCase(),"webkit")&&!Tt($t,"Edge"))&&!(Tt($t,"Trident")||Tt($t,"MSIE"))&&!Tt($t,"Edge"),Kt=Tt($t.toLowerCase(),"webkit")&&!Tt($t,"Edge");function Vn(){var a=Be.document;return a?a.documentMode:void 0}e:{var ne="",Se=(a=$t,Pn?/rv:([^\);]+)(\)|;)/.exec(a):oi?/Edge\/([\d\.]+)/.exec(a):pi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Kt?/WebKit\/(\S+)/.exec(a):Er?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Se&&(ne=Se?Se[1]:""),pi){var qe=Vn();if(null!=qe&&qe>parseFloat(ne)){pe=String(qe);break e}}pe=ne}var Oe={};function nt(){return n=Oe,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){for(var a=0,n=Dn(String(pe)).split("."),o=Dn("9").split("."),l=Math.max(n.length,o.length),d=0;0==a&&d<l;d++){var g=n[d]||"",I=o[d]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],0==g[0].length&&0==I[0].length)break;a=Qt(0==g[1].length?0:parseInt(g[1],10),0==I[1].length?0:parseInt(I[1],10))||Qt(0==g[2].length,0==I[2].length)||Qt(g[2],I[2]),g=g[3],I=I[3]}while(0==a)}return 0<=a}();var n}var Nn=Be.document&&pi&&(Vn()||parseInt(pe,10))||void 0,yn=function(){if(!Be.addEventListener||!Object.defineProperty)return!1;var a=!1,n=Object.defineProperty({},"passive",{get:function(){a=!0}});try{Be.addEventListener("test",bt,n),Be.removeEventListener("test",bt,n)}catch(o){}return a}();function En(a,n){this.type=a,this.g=this.target=n,this.defaultPrevented=!1}function xe(a,n){if(En.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var o=this.type=a.type,l=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=n,n=a.relatedTarget){if(Pn){e:{try{xt(n.nodeName);var d=!0;break e}catch(g){}d=!1}d||(n=null)}}else"mouseover"==o?n=a.fromElement:"mouseout"==o&&(n=a.toElement);this.relatedTarget=n,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:ge[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&xe.Z.h.call(this)}}En.prototype.h=function(){this.defaultPrevented=!0},Lt(xe,En);var ge={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.Z.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),ze=0;function It(a,n,o,l,d){this.listener=a,this.proxy=null,this.src=n,this.type=o,this.capture=!!l,this.ia=d,this.key=++ze,this.ca=this.fa=!1}function Vt(a){a.ca=!0,a.listener=null,a.proxy=null,a.src=null,a.ia=null}function cn(a){this.src=a,this.g={},this.h=0}function Tn(a,n){var o=n.type;if(o in a.g){var g,l=a.g[o],d=er(l,n);(g=0<=d)&&Array.prototype.splice.call(l,d,1),g&&(Vt(n),0==a.g[o].length&&(delete a.g[o],a.h--))}}function Yn(a,n,o,l){for(var d=0;d<a.length;++d){var g=a[d];if(!g.ca&&g.listener==n&&g.capture==!!o&&g.ia==l)return d}return-1}cn.prototype.add=function(a,n,o,l,d){var g=a.toString();(a=this.g[g])||(a=this.g[g]=[],this.h++);var I=Yn(a,n,l,d);return-1<I?(n=a[I],o||(n.fa=!1)):((n=new It(n,this.src,g,!!l,d)).fa=o,a.push(n)),n};var An="closure_lm_"+(1e6*Math.random()|0),tr={};function sn(a,n,o,l,d){if(l&&l.once)return jr(a,n,o,l,d);if(Array.isArray(n)){for(var g=0;g<n.length;g++)sn(a,n[g],o,l,d);return null}return o=Qn(o),a&&a[Ee]?a.N(n,o,ct(l)?!!l.capture:!!l,d):mr(a,n,o,!1,l,d)}function mr(a,n,o,l,d,g){if(!n)throw Error("Invalid event type");var I=ct(d)?!!d.capture:!!d,k=vt(a);if(k||(a[An]=k=new cn(a)),(o=k.add(n,o,l,I,g)).proxy)return o;if(l=function(){var n=xr;return function a(o){return n.call(a.src,a.listener,o)}}(),o.proxy=l,l.src=a,l.listener=o,a.addEventListener)yn||(d=I),void 0===d&&(d=!1),a.addEventListener(n.toString(),l,d);else if(a.attachEvent)a.attachEvent(Cr(n.toString()),l);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(l)}return o}function jr(a,n,o,l,d){if(Array.isArray(n)){for(var g=0;g<n.length;g++)jr(a,n[g],o,l,d);return null}return o=Qn(o),a&&a[Ee]?a.O(n,o,ct(l)?!!l.capture:!!l,d):mr(a,n,o,!0,l,d)}function gi(a,n,o,l,d){if(Array.isArray(n))for(var g=0;g<n.length;g++)gi(a,n[g],o,l,d);else l=ct(l)?!!l.capture:!!l,o=Qn(o),a&&a[Ee]?(a=a.i,(n=String(n).toString())in a.g&&-1<(o=Yn(g=a.g[n],o,l,d))&&(Vt(g[o]),Array.prototype.splice.call(g,o,1),0==g.length&&(delete a.g[n],a.h--))):a&&(a=vt(a))&&(n=a.g[n.toString()],a=-1,n&&(a=Yn(n,o,l,d)),(o=-1<a?n[a]:null)&&dr(o))}function dr(a){if("number"!=typeof a&&a&&!a.ca){var n=a.src;if(n&&n[Ee])Tn(n.i,a);else{var o=a.type,l=a.proxy;n.removeEventListener?n.removeEventListener(o,l,a.capture):n.detachEvent?n.detachEvent(Cr(o),l):n.addListener&&n.removeListener&&n.removeListener(l),(o=vt(n))?(Tn(o,a),0==o.h&&(o.src=null,n[An]=null)):Vt(a)}}}function Cr(a){return a in tr?tr[a]:tr[a]="on"+a}function xr(a,n){if(a.ca)a=!0;else{n=new xe(n,this);var o=a.listener,l=a.ia||a.src;a.fa&&dr(a),a=o.call(l,n)}return a}function vt(a){return(a=a[An])instanceof cn?a:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qn(a){return"function"==typeof a?a:(a[en]||(a[en]=function(n){return a.handleEvent(n)}),a[en])}function Cn(){kt.call(this),this.i=new cn(this),this.P=this,this.I=null}function ar(a,n){var o,l=a.I;if(l)for(o=[];l;l=l.I)o.push(l);if(a=a.P,l=n.type||n,"string"==typeof n)n=new En(n,a);else if(n instanceof En)n.target=n.target||a;else{var d=n;wn(n=new En(l,a),d)}if(d=!0,o)for(var g=o.length-1;0<=g;g--){var I=n.g=o[g];d=Sn(I,l,!0,n)&&d}if(d=Sn(I=n.g=a,l,!0,n)&&d,d=Sn(I,l,!1,n)&&d,o)for(g=0;g<o.length;g++)d=Sn(I=n.g=o[g],l,!1,n)&&d}function Sn(a,n,o,l){if(!(n=a.i.g[String(n)]))return!0;n=n.concat();for(var d=!0,g=0;g<n.length;++g){var I=n[g];if(I&&!I.ca&&I.capture==o){var k=I.listener,j=I.ia||I.src;I.fa&&Tn(a.i,I),d=!1!==k.call(j,l)&&d}}return d&&!l.defaultPrevented}Lt(Cn,kt),Cn.prototype[Ee]=!0,Cn.prototype.removeEventListener=function(a,n,o,l){gi(this,a,n,o,l)},Cn.prototype.M=function(){if(Cn.Z.M.call(this),this.i){var n,a=this.i;for(n in a.g){for(var o=a.g[n],l=0;l<o.length;l++)Vt(o[l]);delete a.g[n],a.h--}}this.I=null},Cn.prototype.N=function(a,n,o,l){return this.i.add(String(a),n,!1,o,l)},Cn.prototype.O=function(a,n,o,l){return this.i.add(String(a),n,!0,o,l)};var qn=Be.JSON.stringify;function nr(){var a=$r,n=null;return a.g&&(n=a.g,a.g=a.g.next,a.g||(a.h=null),n.next=null),n}var ai,xi=function(){function a(){this.h=this.g=null}return a.prototype.add=function(n,o){var l=Mi.get();l.set(n,o),this.h?this.h.next=l:this.g=l,this.h=l},a}(),Mi=new(function(){function a(n,o){this.i=n,this.j=o,this.h=0,this.g=null}return a.prototype.get=function(){var n;return 0<this.h?(this.h--,this.g=(n=this.g).next,n.next=null):n=this.i(),n},a}())(function(){return new fn},function(a){return a.reset()}),fn=function(){function a(){this.next=this.g=this.h=null}return a.prototype.set=function(n,o){this.h=n,this.g=o,this.next=null},a.prototype.reset=function(){this.next=this.g=this.h=null},a}();function Hi(a){Be.setTimeout(function(){throw a},0)}function Qr(a,n){ai||function(){var a=Be.Promise.resolve(void 0);ai=function(){a.then(dn)}}(),Ir||(ai(),Ir=!0),$r.add(a,n)}var Ir=!1,$r=new xi;function dn(){for(var a;a=nr();){try{a.h.call(a.g)}catch(o){Hi(o)}var n=Mi;n.j(a),100>n.h&&(n.h++,a.next=n.g,n.g=a)}Ir=!1}function _r(a,n){Cn.call(this),this.h=a||1,this.g=n||Be,this.j=ht(this.kb,this),this.l=Date.now()}function Un(a){a.da=!1,a.S&&(a.g.clearTimeout(a.S),a.S=null)}function Oi(a,n,o){if("function"==typeof a)o&&(a=ht(a,o));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=ht(a.handleEvent,a)}return 2147483647<Number(n)?-1:Be.setTimeout(a,n||0)}function Wt(a){a.g=Oi(function(){a.g=null,a.i&&(a.i=!1,Wt(a))},a.j);var n=a.h;a.h=null,a.m.apply(null,n)}Lt(_r,Cn),(ye=_r.prototype).da=!1,ye.S=null,ye.kb=function(){if(this.da){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-a):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ar(this,"tick"),this.da&&(Un(this),this.start()))}},ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ye.M=function(){_r.Z.M.call(this),Un(this),delete this.g};var Ji=function(a){function n(o,l){var d=a.call(this)||this;return d.m=o,d.j=l,d.h=null,d.i=!1,d.g=null,d}return function(a,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=a}Fe(a,n),a.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}(n,a),n.prototype.l=function(o){this.h=arguments,this.g?this.i=!0:Wt(this)},n.prototype.M=function(){a.prototype.M.call(this),this.g&&(Be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},n}(kt);function Tr(a){kt.call(this),this.h=a,this.g={}}Lt(Tr,kt);var _i=[];function Gr(a,n,o,l){Array.isArray(o)||(o&&(_i[0]=o.toString()),o=_i);for(var d=0;d<o.length;d++){var g=sn(n,o[d],l||a.handleEvent,!1,a.h||a);if(!g)break;a.g[g.key]=g}}function mi(a){Jt(a.g,function(n,o){this.g.hasOwnProperty(o)&&dr(n)},a),a.g={}}function ur(){this.g=!0}function jn(a,n,o,l){a.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(a,n){if(!a.g)return n;if(!n)return null;try{var o=JSON.parse(n);if(o)for(a=0;a<o.length;a++)if(Array.isArray(o[a])){var l=o[a];if(!(2>l.length)){var d=l[1];if(Array.isArray(d)&&!(1>d.length)){var g=d[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var I=1;I<d.length;I++)d[I]=""}}}return qn(o)}catch(k){return n}}(a,o)+(l?" "+l:"")})}Tr.prototype.M=function(){Tr.Z.M.call(this),mi(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ur.prototype.Aa=function(){this.g=!1},ur.prototype.info=function(){};var Xr={},hr=null;function Xi(){return hr=hr||new Cn}function Ni(a){En.call(this,Xr.Ma,a)}function $i(a){var n=Xi();ar(n,new Ni(n,a))}function Ii(a,n){En.call(this,Xr.STAT_EVENT,a),this.stat=n}function Sr(a){var n=Xi();ar(n,new Ii(n,a))}function ms(a,n){En.call(this,Xr.Na,a),this.size=n}function te(a,n){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return Be.setTimeout(function(){a()},n)}Xr.Ma="serverreachability",Lt(Ni,En),Xr.STAT_EVENT="statevent",Lt(Ii,En),Xr.Na="timingevent",Lt(ms,En);var se={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},G={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ie(){}function mt(){}ie.prototype.h=null;var Ri,Ut={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ir(){En.call(this,"d")}function fr(){En.call(this,"c")}function ys(){}function es(a,n,o,l){this.l=a,this.j=n,this.m=o,this.X=l||1,this.V=new Tr(this),this.P=_s,this.W=new _r(a=Rn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Hs}function Hs(){this.i=null,this.g="",this.h=!1}Lt(ir,En),Lt(fr,En),Lt(ys,ie),ys.prototype.g=function(){return new XMLHttpRequest},ys.prototype.i=function(){return{}},Ri=new ys;var _s=45e3,ts={},ns={};function $s(a,n,o){a.K=1,a.v=Re(He(n)),a.s=o,a.U=!0,Pi(a,null)}function Pi(a,n){a.F=Date.now(),rs(a),a.A=He(a.v);var o=a.A,l=a.X;Array.isArray(l)||(l=[String(l)]),ka(o.h,"t",l),a.C=0,o=a.l.H,a.h=new Hs,a.g=Co(a.l,o?n:null,!a.s),0<a.O&&(a.L=new Ji(ht(a.Ia,a,a.g),a.O)),Gr(a.V,a.g,"readystatechange",a.gb),n=a.H?Kn(a.H):{},a.s?(a.u||(a.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.s,n)):(a.u="GET",a.g.ea(a.A,a.u,null,n)),$i(1),function(a,n,o,l,d,g){a.info(function(){if(a.g)if(g)for(var I="",k=g.split("&"),j=0;j<k.length;j++){var X=k[j].split("=");if(1<X.length){var ue=X[0];X=X[1];var De=ue.split("_");I=2<=De.length&&"type"==De[1]?I+(ue+"=")+X+"&":I+(ue+"=redacted&")}}else I=null;else I=g;return"XMLHTTP REQ ("+l+") [attempt "+d+"]: "+n+"\n"+o+"\n"+I})}(a.j,a.u,a.A,a.m,a.X,a.s)}function Gi(a){return!!a.g&&"GET"==a.u&&2!=a.K&&a.l.Ba}function qi(a,n,o){for(var d,l=!0;!a.I&&a.C<o.length;){if((d=ei(a,o))==ns){4==n&&(a.o=4,Sr(14),l=!1),jn(a.j,a.m,null,"[Incomplete Response]");break}if(d==ts){a.o=4,Sr(15),jn(a.j,a.m,o,"[Invalid Chunk]"),l=!1;break}jn(a.j,a.m,d,null),ti(a,d)}Gi(a)&&d!=ns&&d!=ts&&(a.h.g="",a.C=0),4!=n||0!=o.length||a.h.h||(a.o=1,Sr(16),l=!1),a.i=a.i&&l,l?0<o.length&&!a.aa&&(a.aa=!0,(n=a.l).g==a&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+o.length),B(n),n.L=!0,Sr(11))):(jn(a.j,a.m,o,"[Invalid Chunked Response]"),Di(a),qr(a))}function ei(a,n){var o=a.C,l=n.indexOf("\n",o);return-1==l?ns:(o=Number(n.substring(o,l)),isNaN(o)?ts:(l+=1)+o>n.length?ns:(n=n.substr(l,o),a.C=l+o,n))}function rs(a){a.Y=Date.now()+a.P,Gs(a,a.P)}function Gs(a,n){if(null!=a.B)throw Error("WatchDog timer not null");a.B=te(ht(a.eb,a),n)}function ki(a){a.B&&(Be.clearTimeout(a.B),a.B=null)}function qr(a){0==a.l.G||a.I||un(a.l,a)}function Di(a){ki(a);var n=a.L;n&&"function"==typeof n.na&&n.na(),a.L=null,Un(a.W),mi(a.V),a.g&&(n=a.g,a.g=null,n.abort(),n.na())}function ti(a,n){try{var o=a.l;if(0!=o.G&&(o.g==a||vo(o.i,a)))if(o.I=a.N,!a.J&&vo(o.i,a)&&3==o.G){try{var l=o.Ca.g.parse(n)}catch(On){l=null}if(Array.isArray(l)&&3==l.length){var d=l;if(0==d[0])e:if(o.u)o.ta=d[1],0<o.ta-o.U&&37500>d[2]&&o.N&&0==o.A&&!o.v&&(o.v=te(ht(o.ab,o),6e3));else{if(o.g){if(!(o.g.F+3e3<a.F))break e;st(o),ui(o)}x(o),Sr(18)}if(1>=zn(o.i)&&o.ka){try{o.ka()}catch(On){}o.ka=void 0}}else wr(o,11)}else if((a.J||o.g==a)&&st(o),!vn(n))for(d=o.Ca.g.parse(n),n=0;n<d.length;n++){var g=d[n];if(o.U=g[0],g=g[1],2==o.G)if("c"==g[0]){o.J=g[1],o.la=g[2];var I=g[3];null!=I&&(o.ma=I,o.h.info("VER="+o.ma));var k=g[4];null!=k&&(o.za=k,o.h.info("SVER="+o.za));var j=g[5];null!=j&&"number"==typeof j&&0<j&&(o.K=l=1.5*j,o.h.info("backChannelRequestTimeoutMs_="+l)),l=o;var X=a.g;if(X){var ue=X.g?X.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ue){var De=l.i;!De.g&&(Tt(ue,"spdy")||Tt(ue,"quic")||Tt(ue,"h2"))&&(De.j=De.l,De.g=new Set,De.h&&(vr(De,De.h),De.h=null))}if(l.D){var Je=X.g?X.g.getResponseHeader("X-HTTP-Session-Id"):null;Je&&(l.sa=Je,H(l.F,l.D,Je))}}o.G=3,o.j&&o.j.xa(),o.$&&(o.O=Date.now()-a.F,o.h.info("Handshake RTT: "+o.O+"ms"));var at=a;if((l=o).oa=ws(l,l.H?l.la:null,l.W),at.J){ca(l.i,at);var Dt=at,tn=l.K;tn&&Dt.setTimeout(tn),Dt.B&&(ki(Dt),rs(Dt)),l.g=at}else M(l);0<o.l.length&&Ns(o)}else"stop"!=g[0]&&"close"!=g[0]||wr(o,7);else 3==o.G&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?wr(o,7):da(o):"noop"!=g[0]&&o.j&&o.j.wa(g),o.A=0)}$i(4)}catch(On){}}function Wr(a,n){if(a.forEach&&"function"==typeof a.forEach)a.forEach(n,void 0);else if(Zt(a)||"string"==typeof a)gr(a,n,void 0);else{if(a.T&&"function"==typeof a.T)var o=a.T();else if(a.R&&"function"==typeof a.R)o=void 0;else if(Zt(a)||"string"==typeof a){o=[];for(var l=a.length,d=0;d<l;d++)o.push(d)}else for(d in o=[],l=0,a)o[l++]=d;d=(l=function(a){if(a.R&&"function"==typeof a.R)return a.R();if("string"==typeof a)return a.split("");if(Zt(a)){for(var n=[],o=a.length,l=0;l<o;l++)n.push(a[l]);return n}for(l in n=[],o=0,a)n[o++]=a[l];return n}(a)).length;for(var g=0;g<d;g++)n.call(void 0,l[g],o&&o[g],a)}}function zi(a,n){this.h={},this.g=[],this.i=0;var o=arguments.length;if(1<o){if(o%2)throw Error("Uneven number of arguments");for(var l=0;l<o;l+=2)this.set(arguments[l],arguments[l+1])}else if(a)if(a instanceof zi)for(o=a.T(),l=0;l<o.length;l++)this.set(o[l],a.get(o[l]));else for(l in a)this.set(l,a[l])}function F(a){if(a.i!=a.g.length){for(var n=0,o=0;n<a.g.length;){var l=a.g[n];z(a.h,l)&&(a.g[o++]=l),n++}a.g.length=o}if(a.i!=a.g.length){var d={};for(o=n=0;n<a.g.length;)z(d,l=a.g[n])||(a.g[o++]=l,d[l]=1),n++;a.g.length=o}}function z(a,n){return Object.prototype.hasOwnProperty.call(a,n)}(ye=es.prototype).setTimeout=function(a){this.P=a},ye.gb=function(a){a=a.target;var n=this.L;n&&3==os(a)?n.l():this.Ia(a)},ye.Ia=function(a){try{if(a==this.g)e:{var n=os(this.g),o=this.g.Da(),l=this.g.ba();if(!(3>n)&&(3!=n||Rn||this.g&&(this.h.h||this.g.ga()||Cu(this.g)))){this.I||4!=n||7==o||$i(8==o||0>=l?3:2),ki(this);var d=this.g.ba();this.N=d;t:if(Gi(this)){var g=Cu(this.g);a="";var I=g.length,k=4==os(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Di(this),qr(this);var j="";break t}this.h.i=new Be.TextDecoder}for(o=0;o<I;o++)this.h.h=!0,a+=this.h.i.decode(g[o],{stream:k&&o==I-1});g.splice(0,I),this.h.g+=a,this.C=0,j=this.h.g}else j=this.g.ga();if(this.i=200==d,function(a,n,o,l,d,g,I){a.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+d+"]: "+n+"\n"+o+"\n"+g+" "+I})}(this.j,this.u,this.A,this.m,this.X,n,d),this.i){if(this.$&&!this.J){t:{if(this.g){var X,ue=this.g;if((X=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vn(X)){var De=X;break t}}De=null}if(!(d=De)){this.i=!1,this.o=3,Sr(12),Di(this),qr(this);break e}jn(this.j,this.m,d,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ti(this,d)}this.U?(qi(this,n,j),Rn&&this.i&&3==n&&(Gr(this.V,this.W,"tick",this.fb),this.W.start())):(jn(this.j,this.m,j,null),ti(this,j)),4==n&&Di(this),this.i&&!this.I&&(4==n?un(this.l,this):(this.i=!1,rs(this)))}else 400==d&&0<j.indexOf("Unknown SID")?(this.o=3,Sr(12)):(this.o=0,Sr(13)),Di(this),qr(this)}}}catch(Je){}},ye.fb=function(){if(this.g){var a=os(this.g),n=this.g.ga();this.C<n.length&&(ki(this),qi(this,a,n),this.i&&4!=a&&rs(this))}},ye.cancel=function(){this.I=!0,Di(this)},ye.eb=function(){this.B=null;var a=Date.now();0<=a-this.Y?(function(a,n){a.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&($i(3),Sr(17)),Di(this),this.o=2,qr(this)):Gs(this,this.Y-a)},(ye=zi.prototype).R=function(){F(this);for(var a=[],n=0;n<this.g.length;n++)a.push(this.h[this.g[n]]);return a},ye.T=function(){return F(this),this.g.concat()},ye.get=function(a,n){return z(this.h,a)?this.h[a]:n},ye.set=function(a,n){z(this.h,a)||(this.i++,this.g.push(a)),this.h[a]=n},ye.forEach=function(a,n){for(var o=this.T(),l=0;l<o.length;l++){var d=o[l],g=this.get(d);a.call(n,g,d,this)}};var L=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _e(a,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,a instanceof _e){this.g=void 0!==n?n:a.g,lt(this,a.j),this.s=a.s,P(this,a.i),O(this,a.m),this.l=a.l,n=a.h;var o=new xs;o.i=n.i,n.g&&(o.g=new zi(n.g),o.h=n.h),S(this,o),this.o=a.o}else a&&(o=String(a).match(L))?(this.g=!!n,lt(this,o[1]||"",!0),this.s=Jn(o[2]||""),P(this,o[3]||"",!0),O(this,o[4]),this.l=Jn(o[5]||"",!0),S(this,o[6]||"",!0),this.o=Jn(o[7]||"")):(this.g=!!n,this.h=new xs(null,this.g))}function He(a){return new _e(a)}function lt(a,n,o){a.j=o?Jn(n,!0):n,a.j&&(a.j=a.j.replace(/:$/,""))}function P(a,n,o){a.i=o?Jn(n,!0):n}function O(a,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);a.m=n}else a.m=null}function S(a,n,o){n instanceof xs?(a.h=n,function(a,n){n&&!a.j&&(Ai(a),a.i=null,a.g.forEach(function(o,l){var d=l.toLowerCase();l!=d&&(hn(this,l),ka(this,d,o))},a)),a.j=n}(a.h,a.g)):(o||(n=Zr(n,vi)),a.h=new xs(n,a.g))}function H(a,n,o){a.h.set(n,o)}function Re(a){return H(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Jn(a,n){return a?n?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Zr(a,n,o){return"string"==typeof a?(a=encodeURI(a).replace(n,zr),o&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function zr(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}_e.prototype.toString=function(){var a=[],n=this.j;n&&a.push(Zr(n,sr,!0),":");var o=this.i;return(o||"file"==n)&&(a.push("//"),(n=this.s)&&a.push(Zr(n,sr,!0),"@"),a.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&a.push(":",String(o))),(o=this.l)&&(this.i&&"/"!=o.charAt(0)&&a.push("/"),a.push(Zr(o,"/"==o.charAt(0)?Wi:Ti,!0))),(o=this.h.toString())&&a.push("?",o),(o=this.o)&&a.push("#",Zr(o,wi)),a.join("")};var sr=/[#\/\?@]/g,Ti=/[#\?:]/g,Wi=/[#\?]/g,vi=/[#\?@]/g,wi=/#/g;function xs(a,n){this.h=this.g=null,this.i=a||null,this.j=!!n}function Ai(a){a.g||(a.g=new zi,a.h=0,a.i&&function(a,n){if(a){a=a.split("&");for(var o=0;o<a.length;o++){var l=a[o].indexOf("="),d=null;if(0<=l){var g=a[o].substring(0,l);d=a[o].substring(l+1)}else g=a[o];n(g,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(a.i,function(n,o){a.add(decodeURIComponent(n.replace(/\+/g," ")),o)}))}function hn(a,n){Ai(a),n=qs(a,n),z(a.g.h,n)&&(a.i=null,a.h-=a.g.get(n).length,z((a=a.g).h,n)&&(delete a.h[n],a.i--,a.g.length>2*a.i&&F(a)))}function Pa(a,n){return Ai(a),n=qs(a,n),z(a.g.h,n)}function ka(a,n,o){hn(a,n),0<o.length&&(a.i=null,a.g.set(qs(a,n),Pt(o)),a.h+=o.length)}function qs(a,n){return n=String(n),a.j&&(n=n.toLowerCase()),n}(ye=xs.prototype).add=function(a,n){Ai(this),this.i=null,a=qs(this,a);var o=this.g.get(a);return o||this.g.set(a,o=[]),o.push(n),this.h+=1,this},ye.forEach=function(a,n){Ai(this),this.g.forEach(function(o,l){gr(o,function(d){a.call(n,d,l,this)},this)},this)},ye.T=function(){Ai(this);for(var a=this.g.R(),n=this.g.T(),o=[],l=0;l<n.length;l++)for(var d=a[l],g=0;g<d.length;g++)o.push(n[l]);return o},ye.R=function(a){Ai(this);var n=[];if("string"==typeof a)Pa(this,a)&&(n=bn(n,this.g.get(qs(this,a))));else{a=this.g.R();for(var o=0;o<a.length;o++)n=bn(n,a[o])}return n},ye.set=function(a,n){return Ai(this),this.i=null,Pa(this,a=qs(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[n]),this.h+=1,this},ye.get=function(a,n){return a&&0<(a=this.R(a)).length?String(a[0]):n},ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],n=this.g.T(),o=0;o<n.length;o++){var l=n[o],d=encodeURIComponent(String(l));l=this.R(l);for(var g=0;g<l.length;g++){var I=d;""!==l[g]&&(I+="="+encodeURIComponent(String(l[g]))),a.push(I)}}return this.i=a.join("&")};var _o=function(n,o){this.h=n,this.g=o};function wu(a){this.l=a||la,a=Be.PerformanceNavigationTiming?0<(a=Be.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):!!(Be.g&&Be.g.Ea&&Be.g.Ea()&&Be.g.Ea().Zb),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var la=10;function ut(a){return!!a.h||!!a.g&&a.g.size>=a.j}function zn(a){return a.h?1:a.g?a.g.size:0}function vo(a,n){return a.h?a.h==n:!!a.g&&a.g.has(n)}function vr(a,n){a.g?a.g.add(n):a.h=n}function ca(a,n){a.h&&a.h==n?a.h=null:a.g&&a.g.has(n)&&a.g.delete(n)}function Zi(a){var n,o;if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){var l=a.i;try{for(var d=Le(a.g.values()),g=d.next();!g.done;g=d.next())l=l.concat(g.value.D)}catch(k){n={error:k}}finally{try{g&&!g.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}return l}return Pt(a.i)}function Ki(){}function jo(){this.g=new Ki}function zs(a,n,o){var l=o||"";try{Wr(a,function(d,g){var I=d;ct(d)&&(I=qn(d)),n.push(l+g+"="+encodeURIComponent(I))})}catch(d){throw n.push(l+"type="+encodeURIComponent("_badmap")),d}}function wo(a,n,o,l,d){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,d(l)}catch(g){}}function is(a){this.l=a.$b||null,this.j=a.ib||!1}function Ms(a,n){Cn.call(this),this.D=a,this.u=n,this.m=void 0,this.readyState=Kr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wu.prototype.cancel=function(){var a,n;if(this.i=Zi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var o=Le(this.g.values()),l=o.next();!l.done;l=o.next())l.value.cancel()}catch(g){a={error:g}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}this.g.clear()}},Ki.prototype.stringify=function(a){return Be.JSON.stringify(a,void 0)},Ki.prototype.parse=function(a){return Be.JSON.parse(a,void 0)},Lt(is,ie),is.prototype.g=function(){return new Ms(this.l,this.j)},is.prototype.i=function(a){return function(){return a}}({}),Lt(Ms,Cn);var Kr=0;function Fi(a){a.j.read().then(a.Sa.bind(a)).catch(a.ha.bind(a))}function Os(a){a.readyState=4,a.l=null,a.j=null,a.A=null,vs(a)}function vs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(ye=Ms.prototype).open=function(a,n){if(this.readyState!=Kr)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=n,this.readyState=1,vs(this)},ye.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(n.body=a),(this.D||Be).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Os(this)),this.readyState=Kr},ye.Va=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Be.ReadableStream&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fi(this)}else a.text().then(this.Ua.bind(this),this.ha.bind(this))},ye.Sa=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var n=a.value?a.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!a.done}))&&(this.response=this.responseText+=n)}a.done?Os(this):vs(this),3==this.readyState&&Fi(this)}},ye.Ua=function(a){this.g&&(this.response=this.responseText=a,Os(this))},ye.Ta=function(a){this.g&&(this.response=a,Os(this))},ye.ha=function(){this.g&&Os(this)},ye.setRequestHeader=function(a,n){this.v.append(a,n)},ye.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},ye.getAllResponseHeaders=function(){if(!this.h)return"";for(var a=[],n=this.h.entries(),o=n.next();!o.done;)a.push((o=o.value)[0]+": "+o[1]),o=n.next();return a.join("\r\n")},Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var ss=Be.JSON.parse;function Fr(a){Cn.call(this),this.headers=new zi,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fa,this.K=this.L=!1}Lt(Fr,Cn);var Fa="",Eu=/^https?$/i,La=["POST","PUT"];function Ws(a){return"content-type"==a.toLowerCase()}function Zs(a,n){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=n,a.m=5,Ua(a),bo(a)}function Ua(a){a.D||(a.D=!0,ar(a,"complete"),ar(a,"error"))}function Ba(a){if(a.h&&void 0!==Ae&&(!a.C[1]||4!=os(a)||2!=a.ba()))if(a.v&&4==os(a))Oi(a.Fa,0,a);else if(ar(a,"readystatechange"),4==os(a)){a.h=!1;try{var l,n=a.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}if(!(l=o)){var d;if(d=0===n){var g=String(a.H).match(L)[1]||null;if(!g&&Be.self&&Be.self.location){var I=Be.self.location.protocol;g=I.substr(0,I.length-1)}d=!Eu.test(g?g.toLowerCase():"")}l=d}if(l)ar(a,"complete"),ar(a,"success");else{a.m=6;try{var k=2<os(a)?a.g.statusText:""}catch(j){k=""}a.j=k+" ["+a.ba()+"]",Ua(a)}}finally{bo(a)}}}function bo(a,n){if(a.g){Eo(a);var o=a.g,l=a.C[0]?bt:null;a.g=null,a.C=null,n||ar(a,"ready");try{o.onreadystatechange=l}catch(d){}}}function Eo(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&(Be.clearTimeout(a.A),a.A=null)}function os(a){return a.g?a.g.readyState:0}function Cu(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case Fa:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(n){return null}}function ja(a,n,o){e:{for(l in o){var l=!1;break e}l=!0}l||(o=function(a){var n="";return Jt(a,function(o,l){n+=l,n+=":",n+=o,n+="\r\n"}),n}(o),"string"==typeof a?null!=o&&encodeURIComponent(String(o)):H(a,n,o))}function lo(a,n,o){return o&&o.internalChannelParams&&o.internalChannelParams[a]||n}function el(a){this.za=0,this.l=[],this.h=new ur,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=lo("failFast",!1,a),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=lo("baseRetryDelayMs",5e3,a),this.$a=lo("retryDelaySeedMs",1e4,a),this.Ya=lo("forwardChannelMaxRetries",2,a),this.ra=lo("forwardChannelRequestTimeoutMs",2e4,a),this.qa=a&&a.xmlHttpFactory||void 0,this.Ba=a&&a.Yb||!1,this.K=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.J="",this.i=new wu(a&&a.concurrentRequestLimit),this.Ca=new jo,this.ja=a&&a.fastHandshake||!1,this.Ra=a&&a.Wb||!1,a&&a.Aa&&this.h.Aa(),a&&a.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&a&&a.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!a||!1!==a.Xb}function da(a){if(as(a),3==a.G){var n=a.V++,o=He(a.F);H(o,"SID",a.J),H(o,"RID",n),H(o,"TYPE","terminate"),bi(a,o),(n=new es(a,a.h,n,void 0)).K=2,n.v=Re(He(o)),o=!1,Be.navigator&&Be.navigator.sendBeacon&&(o=Be.navigator.sendBeacon(n.v.toString(),"")),!o&&Be.Image&&((new Image).src=n.v,o=!0),o||(n.g=Co(n.l,null),n.g.ea(n.v)),n.F=Date.now(),rs(n)}Nr(a)}function ui(a){a.g&&(B(a),a.g.cancel(),a.g=null)}function as(a){ui(a),a.u&&(Be.clearTimeout(a.u),a.u=null),st(a),a.i.cancel(),a.m&&("number"==typeof a.m&&Be.clearTimeout(a.m),a.m=null)}function or(a,n){a.l.push(new _o(a.Za++,n)),3==a.G&&Ns(a)}function Ns(a){ut(a.i)||a.m||(a.m=!0,Qr(a.Ha,a),a.C=0)}function ha(a,n){var o;o=n?n.m:a.V++;var l=He(a.F);H(l,"SID",a.J),H(l,"RID",o),H(l,"AID",a.U),bi(a,l),a.o&&a.s&&ja(l,a.o,a.s),o=new es(a,a.h,o,a.C+1),null===a.o&&(o.H=a.s),n&&(a.l=n.D.concat(a.l)),n=Ks(a,o,1e3),o.setTimeout(Math.round(.5*a.ra)+Math.round(.5*a.ra*Math.random())),vr(a.i,o),$s(o,l,n)}function bi(a,n){a.j&&Wr({},function(o,l){H(n,l,o)})}function Ks(a,n,o){o=Math.min(a.l.length,o);var l=a.j?ht(a.j.Oa,a.j,a):null;e:for(var d=a.l,g=-1;;){var I=["count="+o];-1==g?0<o?I.push("ofs="+(g=d[0].h)):g=0:I.push("ofs="+g);for(var k=!0,j=0;j<o;j++){var X=d[j].h,ue=d[j].g;if(0>(X-=g))g=Math.max(0,d[j].h-100),k=!1;else try{zs(ue,I,"req"+X+"_")}catch(De){l&&l(ue)}}if(k){l=I.join("&");break e}}return a=a.l.splice(0,o),n.D=a,l}function M(a){a.g||a.u||(a.Y=1,Qr(a.Ga,a),a.A=0)}function x(a){return!(a.g||a.u||3<=a.A||(a.Y++,a.u=te(ht(a.Ga,a),Wn(a,a.A)),a.A++,0))}function B(a){null!=a.B&&(Be.clearTimeout(a.B),a.B=null)}function me(a){a.g=new es(a,a.h,"rpc",a.Y),null===a.o&&(a.g.H=a.s),a.g.O=0;var n=He(a.oa);H(n,"RID","rpc"),H(n,"SID",a.J),H(n,"CI",a.N?"0":"1"),H(n,"AID",a.U),bi(a,n),H(n,"TYPE","xmlhttp"),a.o&&a.s&&ja(n,a.o,a.s),a.K&&a.g.setTimeout(a.K);var o=a.g;a=a.la,o.K=1,o.v=Re(He(n)),o.s=null,o.U=!0,Pi(o,a)}function st(a){null!=a.v&&(Be.clearTimeout(a.v),a.v=null)}function un(a,n){var o=null;if(a.g==n){st(a),B(a),a.g=null;var l=2}else{if(!vo(a.i,n))return;o=n.D,ca(a.i,n),l=1}if(a.I=n.N,0!=a.G)if(n.i)if(1==l){o=n.s?n.s.length:0,n=Date.now()-n.F;var d=a.C;ar(l=Xi(),new ms(l,o,n,d)),Ns(a)}else M(a);else if(3==(d=n.o)||0==d&&0<a.I||!(1==l&&function(a,n){return!(zn(a.i)>=a.i.j-(a.m?1:0)||(a.m?(a.l=n.D.concat(a.l),0):1==a.G||2==a.G||a.C>=(a.Xa?0:a.Ya)||(a.m=te(ht(a.Ha,a,n),Wn(a,a.C)),a.C++,0)))}(a,n)||2==l&&x(a)))switch(o&&0<o.length&&(n=a.i,n.i=n.i.concat(o)),d){case 1:wr(a,5);break;case 4:wr(a,10);break;case 3:wr(a,6);break;default:wr(a,2)}}function Wn(a,n){var o=a.Pa+Math.floor(Math.random()*a.$a);return a.j||(o*=2),o*n}function wr(a,n){if(a.h.info("Error code "+n),2==n){var o=null;a.j&&(o=null);var l=ht(a.jb,a);o||(o=new _e("//www.google.com/images/cleardot.gif"),Be.location&&"http"==Be.location.protocol||lt(o,"https"),Re(o)),function(a,n){var o=new ur;if(Be.Image){var l=new Image;l.onload=Et(wo,o,l,"TestLoadImage: loaded",!0,n),l.onerror=Et(wo,o,l,"TestLoadImage: error",!1,n),l.onabort=Et(wo,o,l,"TestLoadImage: abort",!1,n),l.ontimeout=Et(wo,o,l,"TestLoadImage: timeout",!1,n),Be.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=a}else n(!1)}(o.toString(),l)}else Sr(2);a.G=0,a.j&&a.j.va(n),Nr(a),as(a)}function Nr(a){a.G=0,a.I=-1,a.j&&((0!=Zi(a.i).length||0!=a.l.length)&&(a.i.i.length=0,Pt(a.l),a.l.length=0),a.j.ua())}function ws(a,n,o){var l=function(a){return a instanceof _e?He(a):new _e(a,void 0)}(o);if(""!=l.i)n&&P(l,n+"."+l.i),O(l,l.m);else{var d=Be.location;l=function(a,n,o,l){var d=new _e(null,void 0);return a&&lt(d,a),n&&P(d,n),o&&O(d,o),l&&(d.l=l),d}(d.protocol,n?n+"."+d.hostname:d.hostname,+d.port,o)}return a.aa&&Jt(a.aa,function(g,I){H(l,I,g)}),o=a.sa,(n=a.D)&&o&&H(l,n,o),H(l,"VER",a.ma),bi(a,l),l}function Co(a,n,o){if(n&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Fr(o&&a.Ba&&!a.qa?new is({ib:!0}):a.qa)).L=a.H,n}function us(){}function fa(){if(pi&&!(10<=Number(Nn)))throw Error("Environmental error: no available transport.")}function ls(a,n){Cn.call(this),this.g=new el(n),this.l=a,this.h=n&&n.messageUrlParams||null,a=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(a?a["X-WebChannel-Content-Type"]=n.messageContentType:a={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(a?a["X-WebChannel-Client-Profile"]=n.ya:a={"X-WebChannel-Client-Profile":n.ya}),this.g.P=a,(a=n&&n.httpHeadersOverwriteParam)&&!vn(a)&&(this.g.o=a),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!vn(n)&&(this.g.D=n,null!==(a=this.h)&&n in a&&n in(a=this.h)&&delete a[n]),this.j=new Rr(this)}function Io(a){ir.call(this);var n=a.__sm__;if(n){e:{for(var o in n){a=o;break e}a=void 0}(this.i=a)&&(a=this.i,n=null!==n&&a in n?n[a]:void 0),this.data=n}else this.data=a}function Ac(){fr.call(this),this.status=1}function Rr(a){this.g=a}(ye=Fr.prototype).ea=function(a,n,o,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);n=n?n.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ri.g(),this.C=function(a){return a.h||(a.h=a.i())}(this.u?this.u:Ri),this.g.onreadystatechange=ht(this.Fa,this);try{this.F=!0,this.g.open(n,String(a),!0),this.F=!1}catch(g){return void Zs(this,g)}a=o||"";var d=new zi(this.headers);l&&Wr(l,function(g,I){d.set(I,g)}),l=function(a){e:{for(var n=Ws,o=a.length,l="string"==typeof a?a.split(""):a,d=0;d<o;d++)if(d in l&&n.call(void 0,l[d],d,a)){n=d;break e}n=-1}return 0>n?null:"string"==typeof a?a.charAt(n):a[n]}(d.T()),o=Be.FormData&&a instanceof Be.FormData,!(0<=er(La,n))||l||o||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),d.forEach(function(g,I){this.g.setRequestHeader(I,g)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Eo(this),0<this.B&&((this.K=function(a){return pi&&nt()&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ht(this.pa,this)):this.A=Oi(this.pa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(g){Zs(this,g)}},ye.pa=function(){void 0!==Ae&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ar(this,"timeout"),this.abort(8))},ye.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,ar(this,"complete"),ar(this,"abort"),bo(this))},ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bo(this,!0)),Fr.Z.M.call(this)},ye.Fa=function(){this.s||(this.F||this.v||this.l?Ba(this):this.cb())},ye.cb=function(){Ba(this)},ye.ba=function(){try{return 2<os(this)?this.g.status:-1}catch(a){return-1}},ye.ga=function(){try{return this.g?this.g.responseText:""}catch(a){return""}},ye.Qa=function(a){if(this.g){var n=this.g.responseText;return a&&0==n.indexOf(a)&&(n=n.substring(a.length)),ss(n)}},ye.Da=function(){return this.m},ye.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ye=el.prototype).ma=8,ye.G=1,ye.hb=function(a){try{this.h.info("Origin Trials invoked: "+a)}catch(n){}},ye.Ha=function(a){if(this.m)if(this.m=null,1==this.G){if(!a){this.V=Math.floor(1e5*Math.random()),a=this.V++;var n=new es(this,this.h,a,void 0),o=this.s;if(this.P&&(o?wn(o=Kn(o),this.P):o=this.P),null===this.o&&(n.H=o),this.ja)e:{for(var l=0,d=0;d<this.l.length;d++){var g=this.l[d];if(void 0===(g="__data__"in g.g&&"string"==typeof(g=g.g.__data__)?g.length:void 0))break;if(4096<(l+=g)){l=d;break e}if(4096===l||d===this.l.length-1){l=d+1;break e}}l=1e3}else l=1e3;l=Ks(this,n,l),H(d=He(this.F),"RID",a),H(d,"CVER",22),this.D&&H(d,"X-HTTP-Session-Id",this.D),bi(this,d),this.o&&o&&ja(d,this.o,o),vr(this.i,n),this.Ra&&H(d,"TYPE","init"),this.ja?(H(d,"$req",l),H(d,"SID","null"),n.$=!0,$s(n,d,null)):$s(n,d,l),this.G=2}}else 3==this.G&&(a?ha(this,a):0==this.l.length||ut(this.i)||ha(this))},ye.Ga=function(){if(this.u=null,me(this),this.$&&!(this.L||null==this.g||0>=this.O)){var a=2*this.O;this.h.info("BP detection timer enabled: "+a),this.B=te(ht(this.bb,this),a)}},ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Sr(10),ui(this),me(this))},ye.ab=function(){null!=this.v&&(this.v=null,ui(this),x(this),Sr(19))},ye.jb=function(a){a?(this.h.info("Successfully pinged google.com"),Sr(2)):(this.h.info("Failed to ping google.com"),Sr(1))},(ye=us.prototype).xa=function(){},ye.wa=function(){},ye.va=function(){},ye.ua=function(){},ye.Oa=function(){},fa.prototype.g=function(a,n){return new ls(a,n)},Lt(ls,Cn),ls.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var a=this.g,n=this.l,o=this.h||void 0;a.Wa&&(a.h.info("Origin Trials enabled."),Qr(ht(a.hb,a,n))),Sr(0),a.W=n,a.aa=o||{},a.N=a.X,a.F=ws(a,null,a.W),Ns(a)},ls.prototype.close=function(){da(this.g)},ls.prototype.u=function(a){if("string"==typeof a){var n={};n.__data__=a,or(this.g,n)}else this.v?((n={}).__data__=qn(a),or(this.g,n)):or(this.g,a)},ls.prototype.M=function(){this.g.j=null,delete this.j,da(this.g),delete this.g,ls.Z.M.call(this)},Lt(Io,ir),Lt(Ac,fr),Lt(Rr,us),Rr.prototype.xa=function(){ar(this.g,"a")},Rr.prototype.wa=function(a){ar(this.g,new Io(a))},Rr.prototype.va=function(a){ar(this.g,new Ac(a))},Rr.prototype.ua=function(){ar(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,ls.prototype.send=ls.prototype.u,ls.prototype.open=ls.prototype.m,ls.prototype.close=ls.prototype.close,se.NO_ERROR=0,se.TIMEOUT=8,se.HTTP_ERROR=6,G.COMPLETE="complete",mt.EventType=Ut,Ut.OPEN="a",Ut.CLOSE="b",Ut.ERROR="c",Ut.MESSAGE="d",Cn.prototype.listen=Cn.prototype.N,Fr.prototype.listenOnce=Fr.prototype.O,Fr.prototype.getLastError=Fr.prototype.La,Fr.prototype.getLastErrorCode=Fr.prototype.Da,Fr.prototype.getStatus=Fr.prototype.ba,Fr.prototype.getResponseJson=Fr.prototype.Qa,Fr.prototype.getResponseText=Fr.prototype.ga,Fr.prototype.send=Fr.prototype.ea;var Ho=se,co=G,Ul=Xr,Ys_PROXY=10,Ys_NOPROXY=11,ho=is,Ga=mt,Qs=Fr;class li{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}li.UNAUTHENTICATED=new li(null),li.GOOGLE_CREDENTIALS=new li("google-credentials-uid"),li.FIRST_PARTY=new li("first-party-uid"),li.MOCK_USER=new li("mock-user");let Go="9.0.2";const Rs=new et.Yd("@firebase/firestore");function qa(){return Rs.logLevel}function _t(a,...n){if(Rs.logLevel<=et.in.DEBUG){const o=n.map(ga);Rs.debug(`Firestore (${Go}): ${a}`,...o)}}function Pr(a,...n){if(Rs.logLevel<=et.in.ERROR){const o=n.map(ga);Rs.error(`Firestore (${Go}): ${a}`,...o)}}function Js(a,...n){if(Rs.logLevel<=et.in.WARN){const o=n.map(ga);Rs.warn(`Firestore (${Go}): ${a}`,...o)}}function ga(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch(o){return a}}function jt(a="Unexpected state"){const n=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+a;throw Pr(n),new Error(n)}function pn(a,n){a||jt()}function Ot(a,n){return a}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class v extends Error{constructor(n,o){super(o),this.code=n,this.message=o,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class b{constructor(){this.promise=new Promise((n,o)=>{this.resolve=n,this.reject=o})}}class R{constructor(n,o){this.user=o,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,o){n.enqueueRetryable(()=>o(li.UNAUTHENTICATED))}shutdown(){}}class W{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,o){this.changeListener=o,n.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class le{constructor(n){this.t=n,this.currentUser=li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,o){var l=this;let d=this.i;const g=X=>this.i!==d?(d=this.i,o(X)):Promise.resolve();let I=new b;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new b,n.enqueueRetryable(()=>g(this.currentUser))};const k=()=>{const X=I;n.enqueueRetryable((0,oe.Z)(function*(){yield X.promise,yield g(l.currentUser)}))},j=X=>{_t("FirebaseCredentialsProvider","Auth detected"),this.auth=X,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(X=>j(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?j(X):(_t("FirebaseCredentialsProvider","Auth not yet detected"),I.resolve(),I=new b)}},0),k()}getToken(){const n=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(l=>this.i!==n?(_t("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(pn("string"==typeof l.accessToken),new R(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return pn(null===n||"string"==typeof n),new li(n)}}class Ie{constructor(n,o,l){this.h=n,this.l=o,this.m=l,this.type="FirstParty",this.user=li.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},o=this.h.auth.getAuthHeaderValueForFirstParty([]);return o&&(n.Authorization=o),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class tt{constructor(n,o,l){this.h=n,this.l=o,this.m=l}getToken(){return Promise.resolve(new Ie(this.h,this.l,this.m))}start(n,o){n.enqueueRetryable(()=>o(li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ct{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=l=>this.g(l),this.p=l=>o.writeSequenceNumber(l))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function on(a){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),o=new Uint8Array(a);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(o);else for(let l=0;l<a;l++)o[l]=Math.floor(256*Math.random());return o}Ct.T=-1;class kn{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/n.length)*n.length;let l="";for(;l.length<20;){const d=on(40);for(let g=0;g<d.length;++g)l.length<20&&d[g]<o&&(l+=n.charAt(d[g]%n.length))}return l}}function Bt(a,n){return a<n?-1:a>n?1:0}function xn(a,n,o){return a.length===n.length&&a.every((l,d)=>o(l,n[d]))}function Yi(a){return a+"\0"}class lr{constructor(n,o){if(this.seconds=n,this.nanoseconds=o,o<0)throw new v(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new v(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(n<-62135596800)throw new v(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new v(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return lr.fromMillis(Date.now())}static fromDate(n){return lr.fromMillis(n.getTime())}static fromMillis(n){const o=Math.floor(n/1e3),l=Math.floor(1e6*(n-1e3*o));return new lr(o,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Bt(this.nanoseconds,n.nanoseconds):Bt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Xt(n)}static min(){return new Xt(new lr(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Do(a){let n=0;for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&n++;return n}function ci(a,n){for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&n(o,a[o])}function To(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}class ma{constructor(n,o,l){void 0===o?o=0:o>n.length&&jt(),void 0===l?l=n.length-o:l>n.length-o&&jt(),this.segments=n,this.offset=o,this.len=l}get length(){return this.len}isEqual(n){return 0===ma.comparator(this,n)}child(n){const o=this.segments.slice(this.offset,this.limit());return n instanceof ma?n.forEach(l=>{o.push(l)}):o.push(n),this.construct(o)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}forEach(n){for(let o=this.offset,l=this.limit();o<l;o++)n(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,o){const l=Math.min(n.length,o.length);for(let d=0;d<l;d++){const g=n.get(d),I=o.get(d);if(g<I)return-1;if(g>I)return 1}return n.length<o.length?-1:n.length>o.length?1:0}}class yr extends ma{construct(n,o,l){return new yr(n,o,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const o=[];for(const l of n){if(l.indexOf("//")>=0)throw new v(C.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);o.push(...l.split("/").filter(d=>d.length>0))}return new yr(o)}static emptyPath(){return new yr([])}}const xd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Li extends ma{construct(n,o,l){return new Li(n,o,l)}static isValidIdentifier(n){return xd.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Li.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Li(["__name__"])}static fromServerFormat(n){const o=[];let l="",d=0;const g=()=>{if(0===l.length)throw new v(C.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(l),l=""};let I=!1;for(;d<n.length;){const k=n[d];if("\\"===k){if(d+1===n.length)throw new v(C.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const j=n[d+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new v(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);l+=j,d+=2}else"`"===k?(I=!I,d++):"."!==k||I?(l+=k,d++):(g(),d++)}if(g(),I)throw new v(C.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Li(o)}static emptyPath(){return new Li([])}}class Dr{constructor(n){this.fields=n,n.sort(Li.comparator)}covers(n){for(const o of this.fields)if(o.isPrefixOf(n))return!0;return!1}isEqual(n){return xn(this.fields,n.fields,(o,l)=>o.isEqual(l))}}class di{constructor(n){this.binaryString=n}static fromBase64String(n){const o=atob(n);return new di(o)}static fromUint8Array(n){const o=function(l){let d="";for(let g=0;g<l.length;++g)d+=String.fromCharCode(l[g]);return d}(n);return new di(o)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Bt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}di.EMPTY_BYTE_STRING=new di("");const Vg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qo(a){if(pn(!!a),"string"==typeof a){let n=0;const o=Vg.exec(a);if(pn(!!o),o[1]){let d=o[1];d=(d+"000000000").substr(0,9),n=Number(d)}const l=new Date(a);return{seconds:Math.floor(l.getTime()/1e3),nanos:n}}return{seconds:ni(a.seconds),nanos:ni(a.nanos)}}function ni(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function za(a){return"string"==typeof a?di.fromBase64String(a):di.fromUint8Array(a)}function Md(a){var n,o;return"server_timestamp"===(null===(o=((null===(n=null==a?void 0:a.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function Sc(a){const n=a.mapValue.fields.__previous_value__;return Md(n)?Sc(n):n}function Bl(a){const n=qo(a.mapValue.fields.__local_write_time__.timestampValue);return new lr(n.seconds,n.nanos)}function Xs(a){return null==a}function il(a){return 0===a&&1/a==-1/0}function Iu(a){return"number"==typeof a&&Number.isInteger(a)&&!il(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}class Yt{constructor(n){this.path=n}static fromPath(n){return new Yt(yr.fromString(n))}static fromName(n){return new Yt(yr.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===yr.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,o){return yr.comparator(n.path,o.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Yt(new yr(n.slice()))}}function Lr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Md(a)?4:10:jt()}function cs(a,n){const o=Lr(a);if(o!==Lr(n))return!1;switch(o){case 0:return!0;case 1:return a.booleanValue===n.booleanValue;case 4:return Bl(a).isEqual(Bl(n));case 3:return function(l,d){if("string"==typeof l.timestampValue&&"string"==typeof d.timestampValue&&l.timestampValue.length===d.timestampValue.length)return l.timestampValue===d.timestampValue;const g=qo(l.timestampValue),I=qo(d.timestampValue);return g.seconds===I.seconds&&g.nanos===I.nanos}(a,n);case 5:return a.stringValue===n.stringValue;case 6:return d=n,za(a.bytesValue).isEqual(za(d.bytesValue));case 7:return a.referenceValue===n.referenceValue;case 8:return function(l,d){return ni(l.geoPointValue.latitude)===ni(d.geoPointValue.latitude)&&ni(l.geoPointValue.longitude)===ni(d.geoPointValue.longitude)}(a,n);case 2:return function(l,d){if("integerValue"in l&&"integerValue"in d)return ni(l.integerValue)===ni(d.integerValue);if("doubleValue"in l&&"doubleValue"in d){const g=ni(l.doubleValue),I=ni(d.doubleValue);return g===I?il(g)===il(I):isNaN(g)&&isNaN(I)}return!1}(a,n);case 9:return xn(a.arrayValue.values||[],n.arrayValue.values||[],cs);case 10:return function(l,d){const g=l.mapValue.fields||{},I=d.mapValue.fields||{};if(Do(g)!==Do(I))return!1;for(const k in g)if(g.hasOwnProperty(k)&&(void 0===I[k]||!cs(g[k],I[k])))return!1;return!0}(a,n);default:return jt()}var d}function zo(a,n){return void 0!==(a.values||[]).find(o=>cs(o,n))}function sl(a,n){const o=Lr(a),l=Lr(n);if(o!==l)return Bt(o,l);switch(o){case 0:return 0;case 1:return Bt(a.booleanValue,n.booleanValue);case 2:return function(d,g){const I=ni(d.integerValue||d.doubleValue),k=ni(g.integerValue||g.doubleValue);return I<k?-1:I>k?1:I===k?0:isNaN(I)?isNaN(k)?0:-1:1}(a,n);case 3:return Od(a.timestampValue,n.timestampValue);case 4:return Od(Bl(a),Bl(n));case 5:return Bt(a.stringValue,n.stringValue);case 6:return function(d,g){const I=za(d),k=za(g);return I.compareTo(k)}(a.bytesValue,n.bytesValue);case 7:return function(d,g){const I=d.split("/"),k=g.split("/");for(let j=0;j<I.length&&j<k.length;j++){const X=Bt(I[j],k[j]);if(0!==X)return X}return Bt(I.length,k.length)}(a.referenceValue,n.referenceValue);case 8:return function(d,g){const I=Bt(ni(d.latitude),ni(g.latitude));return 0!==I?I:Bt(ni(d.longitude),ni(g.longitude))}(a.geoPointValue,n.geoPointValue);case 9:return function(d,g){const I=d.values||[],k=g.values||[];for(let j=0;j<I.length&&j<k.length;++j){const X=sl(I[j],k[j]);if(X)return X}return Bt(I.length,k.length)}(a.arrayValue,n.arrayValue);case 10:return function(d,g){const I=d.fields||{},k=Object.keys(I),j=g.fields||{},X=Object.keys(j);k.sort(),X.sort();for(let ue=0;ue<k.length&&ue<X.length;++ue){const De=Bt(k[ue],X[ue]);if(0!==De)return De;const Je=sl(I[k[ue]],j[X[ue]]);if(0!==Je)return Je}return Bt(k.length,X.length)}(a.mapValue,n.mapValue);default:throw jt()}}function Od(a,n){if("string"==typeof a&&"string"==typeof n&&a.length===n.length)return Bt(a,n);const o=qo(a),l=qo(n),d=Bt(o.seconds,l.seconds);return 0!==d?d:Bt(o.nanos,l.nanos)}function Qi(a){return eo(a)}function eo(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(l){const d=qo(l);return`time(${d.seconds},${d.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?za(a.bytesValue).toBase64():"referenceValue"in a?Yt.fromName(a.referenceValue).toString():"geoPointValue"in a?`geo(${(n=a.geoPointValue).latitude},${n.longitude})`:"arrayValue"in a?function(l){let d="[",g=!0;for(const I of l.values||[])g?g=!1:d+=",",d+=eo(I);return d+"]"}(a.arrayValue):"mapValue"in a?function(l){const d=Object.keys(l.fields||{}).sort();let g="{",I=!0;for(const k of d)I?I=!1:g+=",",g+=`${k}:${eo(l.fields[k])}`;return g+"}"}(a.mapValue):jt();var n}function Wo(a,n){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${n.path.canonicalString()}`}}function Zo(a){return!!a&&"integerValue"in a}function to(a){return!!a&&"arrayValue"in a}function ol(a){return!!a&&"nullValue"in a}function Nd(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Du(a){return!!a&&"mapValue"in a}function jl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const n={mapValue:{fields:{}}};return ci(a.mapValue.fields,(o,l)=>n.mapValue.fields[o]=jl(l)),n}if(a.arrayValue){const n={arrayValue:{values:[]}};for(let o=0;o<(a.arrayValue.values||[]).length;++o)n.arrayValue.values[o]=jl(a.arrayValue.values[o]);return n}return Object.assign({},a)}class ds{constructor(n){this.value=n}static empty(){return new ds({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let o=this.value;for(let l=0;l<n.length-1;++l)if(o=(o.mapValue.fields||{})[n.get(l)],!Du(o))return null;return o=(o.mapValue.fields||{})[n.lastSegment()],o||null}}set(n,o){this.getFieldsMap(n.popLast())[n.lastSegment()]=jl(o)}setAll(n){let o=Li.emptyPath(),l={},d=[];n.forEach((I,k)=>{if(!o.isImmediateParentOf(k)){const j=this.getFieldsMap(o);this.applyChanges(j,l,d),l={},d=[],o=k.popLast()}I?l[k.lastSegment()]=jl(I):d.push(k.lastSegment())});const g=this.getFieldsMap(o);this.applyChanges(g,l,d)}delete(n){const o=this.field(n.popLast());Du(o)&&o.mapValue.fields&&delete o.mapValue.fields[n.lastSegment()]}isEqual(n){return cs(this.value,n.value)}getFieldsMap(n){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let l=0;l<n.length;++l){let d=o.mapValue.fields[n.get(l)];Du(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},o.mapValue.fields[n.get(l)]=d),o=d}return o.mapValue.fields}applyChanges(n,o,l){ci(o,(d,g)=>n[d]=g);for(const d of l)delete n[d]}clone(){return new ds(jl(this.value))}}function al(a){const n=[];return ci(a.fields,(o,l)=>{const d=new Li([o]);if(Du(l)){const g=al(l.mapValue).fields;if(0===g.length)n.push(d);else for(const I of g)n.push(d.child(I))}else n.push(d)}),new Dr(n)}class Xn{constructor(n,o,l,d,g){this.key=n,this.documentType=o,this.version=l,this.data=d,this.documentState=g}static newInvalidDocument(n){return new Xn(n,0,Xt.min(),ds.empty(),0)}static newFoundDocument(n,o,l){return new Xn(n,1,o,l,0)}static newNoDocument(n,o){return new Xn(n,2,o,ds.empty(),0)}static newUnknownDocument(n,o){return new Xn(n,3,o,ds.empty(),2)}convertToFoundDocument(n,o){return this.version=n,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Xn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new Xn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ul{constructor(n,o=null,l=[],d=[],g=null,I=null,k=null){this.path=n,this.collectionGroup=o,this.orderBy=l,this.filters=d,this.limit=g,this.startAt=I,this.endAt=k,this.A=null}}function Wa(a,n=null,o=[],l=[],d=null,g=null,I=null){return new ul(a,n,o,l,d,g,I)}function Tu(a){const n=Ot(a);if(null===n.A){let o=n.path.canonicalString();null!==n.collectionGroup&&(o+="|cg:"+n.collectionGroup),o+="|f:",o+=n.filters.map(l=>function(a){return a.field.canonicalString()+a.op.toString()+Qi(a.value)}(l)).join(","),o+="|ob:",o+=n.orderBy.map(l=>{return(d=l).field.canonicalString()+d.dir;var d}).join(","),Xs(n.limit)||(o+="|l:",o+=n.limit),n.startAt&&(o+="|lb:",o+=hl(n.startAt)),n.endAt&&(o+="|ub:",o+=hl(n.endAt)),n.A=o}return n.A}function Hl(a,n){if(a.limit!==n.limit||a.orderBy.length!==n.orderBy.length)return!1;for(let d=0;d<a.orderBy.length;d++)if(!Oc(a.orderBy[d],n.orderBy[d]))return!1;if(a.filters.length!==n.filters.length)return!1;for(let d=0;d<a.filters.length;d++)if((o=a.filters[d]).op!==(l=n.filters[d]).op||!o.field.isEqual(l.field)||!cs(o.value,l.value))return!1;var o,l;return a.collectionGroup===n.collectionGroup&&!!a.path.isEqual(n.path)&&!!fl(a.startAt,n.startAt)&&fl(a.endAt,n.endAt)}function $l(a){return Yt.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}class Vi extends class{}{constructor(n,o,l){super(),this.field=n,this.op=o,this.value=l}static create(n,o,l){return n.isKeyField()?"in"===o||"not-in"===o?this.R(n,o,l):new lf(n,o,l):"array-contains"===o?new Rd(n,l):"in"===o?new cl(n,l):"not-in"===o?new dl(n,l):"array-contains-any"===o?new ya(n,l):new Vi(n,o,l)}static R(n,o,l){return"in"===o?new Za(n,l):new Mc(n,l)}matches(n){const o=n.data.field(this.field);return"!="===this.op?null!==o&&this.P(sl(o,this.value)):null!==o&&Lr(this.value)===Lr(o)&&this.P(sl(o,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return jt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class lf extends Vi{constructor(n,o,l){super(n,o,l),this.key=Yt.fromName(l.referenceValue)}matches(n){const o=Yt.comparator(n.key,this.key);return this.P(o)}}class Za extends Vi{constructor(n,o){super(n,"in",o),this.keys=ll(0,o)}matches(n){return this.keys.some(o=>o.isEqual(n.key))}}class Mc extends Vi{constructor(n,o){super(n,"not-in",o),this.keys=ll(0,o)}matches(n){return!this.keys.some(o=>o.isEqual(n.key))}}function ll(a,n){var o;return((null===(o=n.arrayValue)||void 0===o?void 0:o.values)||[]).map(l=>Yt.fromName(l.referenceValue))}class Rd extends Vi{constructor(n,o){super(n,"array-contains",o)}matches(n){const o=n.data.field(this.field);return to(o)&&zo(o.arrayValue,this.value)}}class cl extends Vi{constructor(n,o){super(n,"in",o)}matches(n){const o=n.data.field(this.field);return null!==o&&zo(this.value.arrayValue,o)}}class dl extends Vi{constructor(n,o){super(n,"not-in",o)}matches(n){if(zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=n.data.field(this.field);return null!==o&&!zo(this.value.arrayValue,o)}}class ya extends Vi{constructor(n,o){super(n,"array-contains-any",o)}matches(n){const o=n.data.field(this.field);return!(!to(o)||!o.arrayValue.values)&&o.arrayValue.values.some(l=>zo(this.value.arrayValue,l))}}class Ka{constructor(n,o){this.position=n,this.before=o}}function hl(a){return`${a.before?"b":"a"}:${a.position.map(n=>Qi(n)).join(",")}`}class _a{constructor(n,o="asc"){this.field=n,this.dir=o}}function Oc(a,n){return a.dir===n.dir&&a.field.isEqual(n.field)}function Pd(a,n,o){let l=0;for(let d=0;d<a.position.length;d++){const g=n[d],I=a.position[d];if(l=g.field.isKeyField()?Yt.comparator(Yt.fromName(I.referenceValue),o.key):sl(I,o.data.field(g.field)),"desc"===g.dir&&(l*=-1),0!==l)break}return a.before?l<=0:l<0}function fl(a,n){if(null===a)return null===n;if(null===n||a.before!==n.before||a.position.length!==n.position.length)return!1;for(let o=0;o<a.position.length;o++)if(!cs(a.position[o],n.position[o]))return!1;return!0}class bs{constructor(n,o=null,l=[],d=[],g=null,I="F",k=null,j=null){this.path=n,this.collectionGroup=o,this.explicitOrderBy=l,this.filters=d,this.limit=g,this.limitType=I,this.startAt=k,this.endAt=j,this.V=null,this.S=null}}function Ya(a,n,o,l,d,g,I,k){return new bs(a,n,o,l,d,g,I,k)}function Qa(a){return new bs(a)}function Vr(a){return!Xs(a.limit)&&"F"===a.limitType}function pl(a){return!Xs(a.limit)&&"L"===a.limitType}function kd(a){return a.explicitOrderBy.length>0?a.explicitOrderBy[0].field:null}function Ko(a){for(const n of a.filters)if(n.v())return n.field;return null}function Yo(a){return null!==a.collectionGroup}function Au(a){const n=Ot(a);if(null===n.V){n.V=[];const o=Ko(n),l=kd(n);if(null!==o&&null===l)o.isKeyField()||n.V.push(new _a(o)),n.V.push(new _a(Li.keyField(),"asc"));else{let d=!1;for(const g of n.explicitOrderBy)n.V.push(g),g.field.isKeyField()&&(d=!0);if(!d){const g=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new _a(Li.keyField(),g))}}}return n.V}function Ps(a){const n=Ot(a);if(!n.S)if("F"===n.limitType)n.S=Wa(n.path,n.collectionGroup,Au(n),n.filters,n.limit,n.startAt,n.endAt);else{const o=[];for(const g of Au(n))o.push(new _a(g.field,"desc"===g.dir?"asc":"desc"));const l=n.endAt?new Ka(n.endAt.position,!n.endAt.before):null,d=n.startAt?new Ka(n.startAt.position,!n.startAt.before):null;n.S=Wa(n.path,n.collectionGroup,o,n.filters,n.limit,l,d)}return n.S}function Gl(a,n,o){return new bs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),n,o,a.startAt,a.endAt)}function ql(a,n){return Hl(Ps(a),Ps(n))&&a.limitType===n.limitType}function Ao(a){return`${Tu(Ps(a))}|lt:${a.limitType}`}function fo(a){return`Query(target=${function(a){let n=a.path.canonicalString();return null!==a.collectionGroup&&(n+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(n+=`, filters: [${a.filters.map(o=>{return`${(l=o).field.canonicalString()} ${l.op} ${Qi(l.value)}`;var l}).join(", ")}]`),Xs(a.limit)||(n+=", limit: "+a.limit),a.orderBy.length>0&&(n+=`, orderBy: [${a.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),a.startAt&&(n+=", startAt: "+hl(a.startAt)),a.endAt&&(n+=", endAt: "+hl(a.endAt)),`Target(${n})`}(Ps(a))}; limitType=${a.limitType})`}function va(a,n){return n.isFoundDocument()&&function(o,l){const d=l.key.path;return null!==o.collectionGroup?l.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(d):Yt.isDocumentKey(o.path)?o.path.isEqual(d):o.path.isImmediateParentOf(d)}(a,n)&&function(o,l){for(const d of o.explicitOrderBy)if(!d.field.isKeyField()&&null===l.data.field(d.field))return!1;return!0}(a,n)&&function(o,l){for(const d of o.filters)if(!d.matches(l))return!1;return!0}(a,n)&&(l=n,!((o=a).startAt&&!Pd(o.startAt,Au(o),l)||o.endAt&&Pd(o.endAt,Au(o),l)));var o,l}function Qo(a){return(n,o)=>{let l=!1;for(const d of Au(a)){const g=cf(d,n,o);if(0!==g)return g;l=l||d.field.isKeyField()}return 0}}function cf(a,n,o){const l=a.field.isKeyField()?Yt.comparator(n.key,o.key):function(d,g,I){const k=g.data.field(d),j=I.data.field(d);return null!==k&&null!==j?sl(k,j):jt()}(a.field,n,o);switch(a.dir){case"asc":return l;case"desc":return-1*l;default:return jt()}}function Nc(a,n){if(a.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:il(n)?"-0":n}}function zl(a){return{integerValue:""+a}}function gl(a,n){return Iu(n)?zl(n):Nc(a,n)}class ml{constructor(){this._=void 0}}function Rc(a,n,o){return a instanceof So?function(l,d){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return d&&(g.fields.__previous_value__=d),{mapValue:g}}(o,n):a instanceof Xa?hf(a,n):a instanceof Jo?Fd(a,n):function(l,d){const g=Ja(l,d),I=Ld(g)+Ld(l.C);return Zo(g)&&Zo(l.C)?zl(I):Nc(l.N,I)}(a,n)}function df(a,n,o){return a instanceof Xa?hf(a,n):a instanceof Jo?Fd(a,n):o}function Ja(a,n){return a instanceof yl?Zo(o=n)||(l=o)&&"doubleValue"in l?n:{integerValue:0}:null;var l,o}class So extends ml{}class Xa extends ml{constructor(n){super(),this.elements=n}}function hf(a,n){const o=Vd(n);for(const l of a.elements)o.some(d=>cs(d,l))||o.push(l);return{arrayValue:{values:o}}}class Jo extends ml{constructor(n){super(),this.elements=n}}function Fd(a,n){let o=Vd(n);for(const l of a.elements)o=o.filter(d=>!cs(d,l));return{arrayValue:{values:o}}}class yl extends ml{constructor(n,o){super(),this.N=n,this.C=o}}function Ld(a){return ni(a.integerValue||a.doubleValue)}function Vd(a){return to(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class eu{constructor(n,o){this.field=n,this.transform=o}}class _l{constructor(n,o){this.version=n,this.transformResults=o}}class Ur{constructor(n,o){this.updateTime=n,this.exists=o}static none(){return new Ur}static exists(n){return new Ur(void 0,n)}static updateTime(n){return new Ur(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function vl(a,n){return void 0!==a.updateTime?n.isFoundDocument()&&n.version.isEqual(a.updateTime):void 0===a.exists||a.exists===n.isFoundDocument()}class Zl{}function Ud(a,n,o){a instanceof xu?function(l,d,g){const I=l.value.clone(),k=D(l.fieldTransforms,d,g.transformResults);I.setAll(k),d.convertToFoundDocument(g.version,I).setHasCommittedMutations()}(a,n,o):a instanceof Es?function(l,d,g){if(!vl(l.precondition,d))return void d.convertToUnknownDocument(g.version);const I=D(l.fieldTransforms,d,g.transformResults),k=d.data;k.setAll(Bd(l)),k.setAll(I),d.convertToFoundDocument(g.version,k).setHasCommittedMutations()}(a,n,o):n.convertToNoDocument(o.version).setHasCommittedMutations()}function Su(a,n,o){var d;a instanceof xu?function(l,d,g){if(!vl(l.precondition,d))return;const I=l.value.clone(),k=p(l.fieldTransforms,g,d);I.setAll(k),d.convertToFoundDocument(Fc(d),I).setHasLocalMutations()}(a,n,o):a instanceof Es?function(l,d,g){if(!vl(l.precondition,d))return;const I=p(l.fieldTransforms,g,d),k=d.data;k.setAll(Bd(l)),k.setAll(I),d.convertToFoundDocument(Fc(d),k).setHasLocalMutations()}(a,n,o):vl(a.precondition,d=n)&&d.convertToNoDocument(Xt.min())}function Pc(a,n){let o=null;for(const l of a.fieldTransforms){const d=n.data.field(l.field),g=Ja(l.transform,d||null);null!=g&&(null==o&&(o=ds.empty()),o.set(l.field,g))}return o||null}function kc(a,n){return a.type===n.type&&!!a.key.isEqual(n.key)&&!!a.precondition.isEqual(n.precondition)&&(l=n.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===l||o&&l&&xn(o,l,(d,g)=>function(a,n){return a.field.isEqual(n.field)&&(l=n.transform,(o=a.transform)instanceof Xa&&l instanceof Xa||o instanceof Jo&&l instanceof Jo?xn(o.elements,l.elements,cs):o instanceof yl&&l instanceof yl?cs(o.C,l.C):o instanceof So&&l instanceof So);var o,l}(d,g))))&&(0===a.type?a.value.isEqual(n.value):1!==a.type||a.data.isEqual(n.data)&&a.fieldMask.isEqual(n.fieldMask));var o,l}function Fc(a){return a.isFoundDocument()?a.version:Xt.min()}class xu extends Zl{constructor(n,o,l,d=[]){super(),this.key=n,this.value=o,this.precondition=l,this.fieldTransforms=d,this.type=0}}class Es extends Zl{constructor(n,o,l,d,g=[]){super(),this.key=n,this.data=o,this.fieldMask=l,this.precondition=d,this.fieldTransforms=g,this.type=1}}function Bd(a){const n=new Map;return a.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const l=a.data.field(o);n.set(o,l)}}),n}function D(a,n,o){const l=new Map;pn(a.length===o.length);for(let d=0;d<o.length;d++){const g=a[d],I=g.transform,k=n.data.field(g.field);l.set(g.field,df(I,k,o[d]))}return l}function p(a,n,o){const l=new Map;for(const d of a){const g=d.transform,I=o.data.field(d.field);l.set(d.field,Rc(g,I,n))}return l}class m extends Zl{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=2,this.fieldTransforms=[]}}class A extends Zl{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=3,this.fieldTransforms=[]}}class q{constructor(n){this.count=n}}var J,Me;function ft(a){switch(a){case C.OK:return jt();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0;default:return jt()}}function Ht(a){if(void 0===a)return Pr("GRPC error has no .code"),C.UNKNOWN;switch(a){case J.OK:return C.OK;case J.CANCELLED:return C.CANCELLED;case J.UNKNOWN:return C.UNKNOWN;case J.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case J.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case J.INTERNAL:return C.INTERNAL;case J.UNAVAILABLE:return C.UNAVAILABLE;case J.UNAUTHENTICATED:return C.UNAUTHENTICATED;case J.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case J.NOT_FOUND:return C.NOT_FOUND;case J.ALREADY_EXISTS:return C.ALREADY_EXISTS;case J.PERMISSION_DENIED:return C.PERMISSION_DENIED;case J.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case J.ABORTED:return C.ABORTED;case J.OUT_OF_RANGE:return C.OUT_OF_RANGE;case J.UNIMPLEMENTED:return C.UNIMPLEMENTED;case J.DATA_LOSS:return C.DATA_LOSS;default:return jt()}}(Me=J||(J={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";class Ft{constructor(n,o){this.comparator=n,this.root=o||rr.EMPTY}insert(n,o){return new Ft(this.comparator,this.root.insert(n,o,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(n){return new Ft(this.comparator,this.root.remove(n,this.comparator).copy(null,null,rr.BLACK,null,null))}get(n){let o=this.root;for(;!o.isEmpty();){const l=this.comparator(n,o.key);if(0===l)return o.value;l<0?o=o.left:l>0&&(o=o.right)}return null}indexOf(n){let o=0,l=this.root;for(;!l.isEmpty();){const d=this.comparator(n,l.key);if(0===d)return o+l.left.size;d<0?l=l.left:(o+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((o,l)=>(n(o,l),!1))}toString(){const n=[];return this.inorderTraversal((o,l)=>(n.push(`${o}:${l}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Hn(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Hn(this.root,n,this.comparator,!1)}getReverseIterator(){return new Hn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Hn(this.root,n,this.comparator,!0)}}class Hn{constructor(n,o,l,d){this.isReverse=d,this.nodeStack=[];let g=1;for(;!n.isEmpty();)if(g=o?l(n.key,o):1,d&&(g*=-1),g<0)n=this.isReverse?n.left:n.right;else{if(0===g){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const o={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class rr{constructor(n,o,l,d,g){this.key=n,this.value=o,this.color=null!=l?l:rr.RED,this.left=null!=d?d:rr.EMPTY,this.right=null!=g?g:rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,o,l,d,g){return new rr(null!=n?n:this.key,null!=o?o:this.value,null!=l?l:this.color,null!=d?d:this.left,null!=g?g:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,o,l){let d=this;const g=l(n,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(n,o,l),null):0===g?d.copy(null,o,null,null,null):d.copy(null,null,null,null,d.right.insert(n,o,l)),d.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,o){let l,d=this;if(o(n,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(n,o),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===o(n,d.key)){if(d.right.isEmpty())return rr.EMPTY;l=d.right.min(),d=d.copy(l.key,l.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(n,o))}return d.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,o)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw jt();const n=this.left.check();if(n!==this.right.check())throw jt();return n+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1,rr.EMPTY=new class{constructor(){this.size=0}get key(){throw jt()}get value(){throw jt()}get color(){throw jt()}get left(){throw jt()}get right(){throw jt()}copy(a,n,o,l,d){return this}insert(a,n,o){return new rr(a,n)}remove(a,n){return this}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pr{constructor(n){this.comparator=n,this.data=new Ft(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((o,l)=>(n(o),!1))}forEachInRange(n,o){const l=this.data.getIteratorFrom(n[0]);for(;l.hasNext();){const d=l.getNext();if(this.comparator(d.key,n[1])>=0)return;o(d.key)}}forEachWhile(n,o){let l;for(l=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();l.hasNext();)if(!n(l.getNext().key))return}firstAfterOrEqual(n){const o=this.data.getIteratorFrom(n);return o.hasNext()?o.getNext().key:null}getIterator(){return new Xo(this.data.getIterator())}getIteratorFrom(n){return new Xo(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let o=this;return o.size<n.size&&(o=n,n=this),n.forEach(l=>{o=o.add(l)}),o}isEqual(n){if(!(n instanceof pr)||this.size!==n.size)return!1;const o=this.data.getIterator(),l=n.data.getIterator();for(;o.hasNext();){const d=o.getNext().key,g=l.getNext().key;if(0!==this.comparator(d,g))return!1}return!0}toArray(){const n=[];return this.forEach(o=>{n.push(o)}),n}toString(){const n=[];return this.forEach(o=>n.push(o)),"SortedSet("+n.toString()+")"}copy(n){const o=new pr(this.comparator);return o.data=n,o}}class Xo{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Kl=new Ft(Yt.comparator);function ks(){return Kl}const Lc=new Ft(Yt.comparator);function Vc(){return Lc}const jd=new Ft(Yt.comparator);function wa(){return jd}const Uc=new pr(Yt.comparator);function Zn(...a){let n=Uc;for(const o of a)n=n.add(o);return n}const tu=new pr(Bt);function Mu(){return tu}class Ou{constructor(n,o,l,d,g){this.snapshotVersion=n,this.targetChanges=o,this.targetMismatches=l,this.documentUpdates=d,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(n,o){const l=new Map;return l.set(n,ba.createSynthesizedTargetChangeForCurrentChange(n,o)),new Ou(Xt.min(),l,Mu(),ks(),Zn())}}class ba{constructor(n,o,l,d,g){this.resumeToken=n,this.current=o,this.addedDocuments=l,this.modifiedDocuments=d,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(n,o){return new ba(di.EMPTY_BYTE_STRING,o,Zn(),Zn(),Zn())}}class Bc{constructor(n,o,l,d){this.k=n,this.removedTargetIds=o,this.key=l,this.$=d}}class Qy{constructor(n,o){this.targetId=n,this.O=o}}class Jy{constructor(n,o,l=di.EMPTY_BYTE_STRING,d=null){this.state=n,this.targetIds=o,this.resumeToken=l,this.cause=d}}class Hd{constructor(){this.F=0,this.M=Xy(),this.L=di.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=Zn(),o=Zn(),l=Zn();return this.M.forEach((d,g)=>{switch(g){case 0:n=n.add(d);break;case 2:o=o.add(d);break;case 1:l=l.add(d);break;default:jt()}}),new ba(this.L,this.B,n,o,l)}G(){this.U=!1,this.M=Xy()}H(n,o){this.U=!0,this.M=this.M.insert(n,o)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class ff{constructor(n){this.tt=n,this.et=new Map,this.nt=ks(),this.st=$d(),this.it=new pr(Bt)}rt(n){for(const o of n.k)n.$&&n.$.isFoundDocument()?this.ot(o,n.$):this.at(o,n.key,n.$);for(const o of n.removedTargetIds)this.at(o,n.key,n.$)}ct(n){this.forEachTarget(n,o=>{const l=this.ut(o);switch(n.state){case 0:this.ht(o)&&l.j(n.resumeToken);break;case 1:l.X(),l.q||l.G(),l.j(n.resumeToken);break;case 2:l.X(),l.q||this.removeTarget(o);break;case 3:this.ht(o)&&(l.Z(),l.j(n.resumeToken));break;case 4:this.ht(o)&&(this.lt(o),l.j(n.resumeToken));break;default:jt()}})}forEachTarget(n,o){n.targetIds.length>0?n.targetIds.forEach(o):this.et.forEach((l,d)=>{this.ht(d)&&o(d)})}ft(n){const o=n.targetId,l=n.O.count,d=this.dt(o);if(d){const g=d.target;if($l(g))if(0===l){const I=new Yt(g.path);this.at(o,I,Xn.newNoDocument(I,Xt.min()))}else pn(1===l);else this.wt(o)!==l&&(this.lt(o),this.it=this.it.add(o))}}_t(n){const o=new Map;this.et.forEach((g,I)=>{const k=this.dt(I);if(k){if(g.current&&$l(k.target)){const j=new Yt(k.target.path);null!==this.nt.get(j)||this.gt(I,j)||this.at(I,j,Xn.newNoDocument(j,n))}g.K&&(o.set(I,g.W()),g.G())}});let l=Zn();this.st.forEach((g,I)=>{let k=!0;I.forEachWhile(j=>{const X=this.dt(j);return!X||2===X.purpose||(k=!1,!1)}),k&&(l=l.add(g))});const d=new Ou(n,o,this.it,this.nt,l);return this.nt=ks(),this.st=$d(),this.it=new pr(Bt),d}ot(n,o){if(!this.ht(n))return;const l=this.gt(n,o.key)?2:0;this.ut(n).H(o.key,l),this.nt=this.nt.insert(o.key,o),this.st=this.st.insert(o.key,this.yt(o.key).add(n))}at(n,o,l){if(!this.ht(n))return;const d=this.ut(n);this.gt(n,o)?d.H(o,1):d.J(o),this.st=this.st.insert(o,this.yt(o).delete(n)),l&&(this.nt=this.nt.insert(o,l))}removeTarget(n){this.et.delete(n)}wt(n){const o=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+o.addedDocuments.size-o.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let o=this.et.get(n);return o||(o=new Hd,this.et.set(n,o)),o}yt(n){let o=this.st.get(n);return o||(o=new pr(Bt),this.st=this.st.insert(n,o)),o}ht(n){const o=null!==this.dt(n);return o||_t("WatchChangeAggregator","Detected inactive target",n),o}dt(n){const o=this.et.get(n);return o&&o.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new Hd),this.tt.getRemoteKeysForTarget(n).forEach(o=>{this.at(n,o,null)})}gt(n,o){return this.tt.getRemoteKeysForTarget(n).has(o)}}function $d(){return new Ft(Yt.comparator)}function Xy(){return new Ft(Yt.comparator)}const Ow={asc:"ASCENDING",desc:"DESCENDING"},Ug={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class e_{constructor(n,o){this.databaseId=n,this.D=o}}function jc(a,n){return a.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Bg(a,n){return a.D?n.toBase64():n.toUint8Array()}function t_(a,n){return jc(a,n.toTimestamp())}function Ui(a){return pn(!!a),Xt.fromTimestamp(function(n){const o=qo(n);return new lr(o.seconds,o.nanos)}(a))}function Yl(a,n){return(o=a,new yr(["projects",o.projectId,"databases",o.database])).child("documents").child(n).canonicalString();var o}function pf(a){const n=yr.fromString(a);return pn(zg(n)),n}function wl(a,n){return Yl(a.databaseId,n.path)}function Ea(a,n){const o=pf(n);if(o.get(1)!==a.databaseId.projectId)throw new v(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+a.databaseId.projectId);if(o.get(3)!==a.databaseId.database)throw new v(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+a.databaseId.database);return new Yt(Gd(o))}function ri(a,n){return Yl(a.databaseId,n)}function jg(a){const n=pf(a);return 4===n.length?yr.emptyPath():Gd(n)}function Hc(a){return new yr(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Gd(a){return pn(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function gf(a,n,o){return{name:wl(a,n),fields:o.value.mapValue.fields}}function Hg(a,n,o){const l=Ea(a,n.name),d=Ui(n.updateTime),g=new ds({mapValue:{fields:n.fields}}),I=Xn.newFoundDocument(l,d,g);return o&&I.setHasCommittedMutations(),o?I.setHasCommittedMutations():I}function qd(a,n){let o;if(n instanceof xu)o={update:gf(a,n.key,n.value)};else if(n instanceof m)o={delete:wl(a,n.key)};else if(n instanceof Es)o={update:gf(a,n.key,n.data),updateMask:qg(n.fieldMask)};else{if(!(n instanceof A))return jt();o={verify:wl(a,n.key)}}return n.fieldTransforms.length>0&&(o.updateTransforms=n.fieldTransforms.map(l=>function(d,g){const I=g.transform;if(I instanceof So)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(I instanceof Xa)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:I.elements}};if(I instanceof Jo)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:I.elements}};if(I instanceof yl)return{fieldPath:g.field.canonicalString(),increment:I.C};throw jt()}(0,l))),n.precondition.isNone||(o.currentDocument=void 0!==(d=n.precondition).updateTime?{updateTime:t_(a,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:jt()),o;var d}function $g(a,n){const o=n.currentDocument?void 0!==(d=n.currentDocument).updateTime?Ur.updateTime(Ui(d.updateTime)):void 0!==d.exists?Ur.exists(d.exists):Ur.none():Ur.none(),l=n.updateTransforms?n.updateTransforms.map(d=>function(g,I){let k=null;"setToServerValue"in I?(pn("REQUEST_TIME"===I.setToServerValue),k=new So):"appendMissingElements"in I?k=new Xa(I.appendMissingElements.values||[]):"removeAllFromArray"in I?k=new Jo(I.removeAllFromArray.values||[]):"increment"in I?k=new yl(g,I.increment):jt();const j=Li.fromServerFormat(I.fieldPath);return new eu(j,k)}(a,d)):[];var d;if(n.update){const d=Ea(a,n.update.name),g=new ds({mapValue:{fields:n.update.fields}});if(n.updateMask){const I=new Dr((n.updateMask.fieldPaths||[]).map(X=>Li.fromServerFormat(X)));return new Es(d,g,I,o,l)}return new xu(d,g,o,l)}if(n.delete){const d=Ea(a,n.delete);return new m(d,o)}if(n.verify){const d=Ea(a,n.verify);return new A(d,o)}return jt()}function i_(a,n){return{documents:[ri(a,n.path)]}}function Ql(a,n){const o={structuredQuery:{}},l=n.path;null!==n.collectionGroup?(o.parent=ri(a,l),o.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(o.parent=ri(a,l.popLast()),o.structuredQuery.from=[{collectionId:l.lastSegment()}]);const d=function(k){if(0===k.length)return;const j=k.map(X=>function(ue){if("=="===ue.op){if(Nd(ue.value))return{unaryFilter:{field:Jl(ue.field),op:"IS_NAN"}};if(ol(ue.value))return{unaryFilter:{field:Jl(ue.field),op:"IS_NULL"}}}else if("!="===ue.op){if(Nd(ue.value))return{unaryFilter:{field:Jl(ue.field),op:"IS_NOT_NAN"}};if(ol(ue.value))return{unaryFilter:{field:Jl(ue.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jl(ue.field),op:vf(ue.op),value:ue.value}}}(X));return 1===j.length?j[0]:{compositeFilter:{op:"AND",filters:j}}}(n.filters);d&&(o.structuredQuery.where=d);const g=function(k){if(0!==k.length)return k.map(j=>{return{field:Jl((X=j).field),direction:$c(X.dir)};var X})}(n.orderBy);g&&(o.structuredQuery.orderBy=g);const I=(j=n.limit,a.D||Xs(j)?j:{value:j});var j;return null!==I&&(o.structuredQuery.limit=I),n.startAt&&(o.structuredQuery.startAt=_f(n.startAt)),n.endAt&&(o.structuredQuery.endAt=_f(n.endAt)),o}function Cs(a){let n=jg(a.parent);const o=a.structuredQuery,l=o.from?o.from.length:0;let d=null;if(l>0){pn(1===l);const ue=o.from[0];ue.allDescendants?d=ue.collectionId:n=n.child(ue.collectionId)}let g=[];o.where&&(g=yf(o.where));let I=[];o.orderBy&&(I=o.orderBy.map(ue=>{return new _a(Xl((De=ue).field),function(Je){switch(Je){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(De.direction));var De}));let k=null;o.limit&&(k=function(ue){let De;return De="object"==typeof ue?ue.value:ue,Xs(De)?null:De}(o.limit));let j=null;o.startAt&&(j=hs(o.startAt));let X=null;return o.endAt&&(X=hs(o.endAt)),Ya(n,d,I,g,k,"F",j,X)}function yf(a){return a?void 0!==a.unaryFilter?[s_(a)]:void 0!==a.fieldFilter?[Gg(a)]:void 0!==a.compositeFilter?a.compositeFilter.filters.map(n=>yf(n)).reduce((n,o)=>n.concat(o)):jt():[]}function _f(a){return{before:a.before,values:a.position}}function hs(a){return new Ka(a.values||[],!!a.before)}function $c(a){return Ow[a]}function vf(a){return Ug[a]}function Jl(a){return{fieldPath:a.canonicalString()}}function Xl(a){return Li.fromServerFormat(a.fieldPath)}function Gg(a){return Vi.create(Xl(a.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return jt()}}(a.fieldFilter.op),a.fieldFilter.value)}function s_(a){switch(a.unaryFilter.op){case"IS_NAN":const n=Xl(a.unaryFilter.field);return Vi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Xl(a.unaryFilter.field);return Vi.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Xl(a.unaryFilter.field);return Vi.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Xl(a.unaryFilter.field);return Vi.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return jt()}}function qg(a){const n=[];return a.fields.forEach(o=>n.push(o.canonicalString())),{fieldPaths:n}}function zg(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}function xo(a){let n="";for(let o=0;o<a.length;o++)n.length>0&&(n=Wg(n)),n=o_(a.get(o),n);return Wg(n)}function o_(a,n){let o=n;const l=a.length;for(let d=0;d<l;d++){const g=a.charAt(d);switch(g){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=g}}return o}function Wg(a){return a+"\x01\x01"}function nu(a){const n=a.length;if(pn(n>=2),2===n)return pn("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),yr.emptyPath();const o=n-2,l=[];let d="";for(let g=0;g<n;){const I=a.indexOf("\x01",g);switch((I<0||I>o)&&jt(),a.charAt(I+1)){case"\x01":const k=a.substring(g,I);let j;0===d.length?j=k:(d+=k,j=d,d=""),l.push(j);break;case"\x10":d+=a.substring(g,I),d+="\0";break;case"\x11":d+=a.substring(g,I+1);break;default:jt()}g=I+2}return new yr(l)}class Zg{constructor(n,o){this.seconds=n,this.nanoseconds=o}}class Fs{constructor(n,o,l){this.ownerId=n,this.allowTabSynchronization=o,this.leaseTimestampMs=l}}Fs.store="owner",Fs.key="owner";class ru{constructor(n,o,l){this.userId=n,this.lastAcknowledgedBatchId=o,this.lastStreamToken=l}}ru.store="mutationQueues",ru.keyPath="userId";class Yr{constructor(n,o,l,d,g){this.userId=n,this.batchId=o,this.localWriteTimeMs=l,this.baseMutations=d,this.mutations=g}}Yr.store="mutations",Yr.keyPath="batchId",Yr.userMutationsIndex="userMutationsIndex",Yr.userMutationsKeyPath=["userId","batchId"];class Ls{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,o){return[n,xo(o)]}static key(n,o,l){return[n,xo(o),l]}}Ls.store="documentMutations",Ls.PLACEHOLDER=new Ls;class Kg{constructor(n,o){this.path=n,this.readTime=o}}class zd{constructor(n,o){this.path=n,this.version=o}}class yi{constructor(n,o,l,d,g,I){this.unknownDocument=n,this.noDocument=o,this.document=l,this.hasCommittedMutations=d,this.readTime=g,this.parentPath=I}}yi.store="remoteDocuments",yi.readTimeIndex="readTimeIndex",yi.readTimeIndexPath="readTime",yi.collectionReadTimeIndex="collectionReadTimeIndex",yi.collectionReadTimeIndexPath=["parentPath","readTime"];class Ca{constructor(n){this.byteSize=n}}Ca.store="remoteDocumentGlobal",Ca.key="remoteDocumentGlobalKey";class Bi{constructor(n,o,l,d,g,I,k){this.targetId=n,this.canonicalId=o,this.readTime=l,this.resumeToken=d,this.lastListenSequenceNumber=g,this.lastLimboFreeSnapshotVersion=I,this.query=k}}Bi.store="targets",Bi.keyPath="targetId",Bi.queryTargetsIndexName="queryTargetsIndex",Bi.queryTargetsKeyPath=["canonicalId","targetId"];class fs{constructor(n,o,l){this.targetId=n,this.path=o,this.sequenceNumber=l}}fs.store="targetDocuments",fs.keyPath=["targetId","path"],fs.documentTargetsIndex="documentTargetsIndex",fs.documentTargetsKeyPath=["path","targetId"];class po{constructor(n,o,l,d){this.highestTargetId=n,this.highestListenSequenceNumber=o,this.lastRemoteSnapshotVersion=l,this.targetCount=d}}po.key="targetGlobalKey",po.store="targetGlobal";class bl{constructor(n,o){this.collectionId=n,this.parent=o}}bl.store="collectionParents",bl.keyPath=["collectionId","parent"];class iu{constructor(n,o,l,d){this.clientId=n,this.updateTimeMs=o,this.networkEnabled=l,this.inForeground=d}}iu.store="clientMetadata",iu.keyPath="clientId";class ec{constructor(n,o,l){this.bundleId=n,this.createTime=o,this.version=l}}ec.store="bundles",ec.keyPath="bundleId";class su{constructor(n,o,l){this.name=n,this.readTime=o,this.bundledQuery=l}}su.store="namedQueries",su.keyPath="name";const Mo=[ru.store,Yr.store,Ls.store,yi.store,Bi.store,Fs.store,po.store,fs.store,iu.store,Ca.store,bl.store,ec.store,su.store],wf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class dt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(n){return this.next(void 0,n)}next(n,o){return this.callbackAttached&&jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(n,this.result):new dt((l,d)=>{this.nextCallback=g=>{this.wrapSuccess(n,g).next(l,d)},this.catchCallback=g=>{this.wrapFailure(o,g).next(l,d)}})}toPromise(){return new Promise((n,o)=>{this.next(n,o)})}wrapUserFunction(n){try{const o=n();return o instanceof dt?o:dt.resolve(o)}catch(o){return dt.reject(o)}}wrapSuccess(n,o){return n?this.wrapUserFunction(()=>n(o)):dt.resolve(o)}wrapFailure(n,o){return n?this.wrapUserFunction(()=>n(o)):dt.reject(o)}static resolve(n){return new dt((o,l)=>{o(n)})}static reject(n){return new dt((o,l)=>{l(n)})}static waitFor(n){return new dt((o,l)=>{let d=0,g=0,I=!1;n.forEach(k=>{++d,k.next(()=>{++g,I&&g===d&&o()},j=>l(j))}),I=!0,g===d&&o()})}static or(n){let o=dt.resolve(!1);for(const l of n)o=o.next(d=>d?dt.resolve(d):l());return o}static forEach(n,o){const l=[];return n.forEach((d,g)=>{l.push(o.call(this,d,g))}),this.waitFor(l)}}class Gc{constructor(n,o){this.action=n,this.transaction=o,this.aborted=!1,this.Tt=new b,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{o.error?this.Tt.reject(new qc(n,o.error)):this.Tt.resolve()},this.transaction.onerror=l=>{const d=Jg(l.target.error);this.Tt.reject(new qc(n,d))}}static open(n,o,l,d){try{return new Gc(o,n.transaction(d,l))}catch(g){throw new qc(o,g)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(_t("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const o=this.transaction.objectStore(n);return new a_(o)}}class Ia{constructor(n,o,l){this.name=n,this.version=o,this.At=l,12.2===Ia.Rt((0,gt.z$)())&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return _t("SimpleDb","Removing database:",n),Oo(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(Ia.Pt())return!0;const n=(0,gt.z$)(),o=Ia.Rt(n),l=0<o&&o<10,d=Ia.vt(n),g=0<d&&d<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||l||g)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,o){return n.store(o)}static Rt(n){const o=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static vt(n){const o=n.match(/Android ([\d.]+)/i),l=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(l)}Dt(n){var o=this;return(0,oe.Z)(function*(){return o.db||(_t("SimpleDb","Opening database:",o.name),o.db=yield new Promise((l,d)=>{const g=indexedDB.open(o.name,o.version);g.onsuccess=I=>{l(I.target.result)},g.onblocked=()=>{d(new qc(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=I=>{const k=I.target.error;d("VersionError"===k.name?new v(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new v(C.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new qc(n,k))},g.onupgradeneeded=I=>{_t("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',I.oldVersion),o.At.Ct(I.target.result,g.transaction,I.oldVersion,o.version).next(()=>{_t("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.Nt&&(o.db.onversionchange=l=>o.Nt(l)),o.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=o=>n(o))}runTransaction(n,o,l,d){var g=this;return(0,oe.Z)(function*(){const I="readonly"===o;let k=0;for(;;){++k;try{g.db=yield g.Dt(n);const j=Gc.open(g.db,n,I?"readonly":"readwrite",l),X=d(j).catch(ue=>(j.abort(ue),dt.reject(ue))).toPromise();return X.catch(()=>{}),yield j.It,X}catch(j){const X="FirebaseError"!==j.name&&k<3;if(_t("SimpleDb","Transaction failed with error:",j.message,"Retrying:",X),g.close(),!X)return Promise.reject(j)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Qg{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return Oo(this.kt.delete())}}class qc extends v{constructor(n,o){super(C.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function El(a){return"IndexedDbTransactionError"===a.name}class a_{constructor(n){this.store=n}put(n,o){let l;return void 0!==o?(_t("SimpleDb","PUT",this.store.name,n,o),l=this.store.put(o,n)):(_t("SimpleDb","PUT",this.store.name,"<auto-key>",n),l=this.store.put(n)),Oo(l)}add(n){return _t("SimpleDb","ADD",this.store.name,n,n),Oo(this.store.add(n))}get(n){return Oo(this.store.get(n)).next(o=>(void 0===o&&(o=null),_t("SimpleDb","GET",this.store.name,n,o),o))}delete(n){return _t("SimpleDb","DELETE",this.store.name,n),Oo(this.store.delete(n))}count(){return _t("SimpleDb","COUNT",this.store.name),Oo(this.store.count())}Lt(n,o){const l=this.cursor(this.options(n,o)),d=[];return this.Bt(l,(g,I)=>{d.push(I)}).next(()=>d)}Ut(n,o){_t("SimpleDb","DELETE ALL",this.store.name);const l=this.options(n,o);l.qt=!1;const d=this.cursor(l);return this.Bt(d,(g,I,k)=>k.delete())}Kt(n,o){let l;o?l=n:(l={},o=n);const d=this.cursor(l);return this.Bt(d,o)}jt(n){const o=this.cursor({});return new dt((l,d)=>{o.onerror=g=>{const I=Jg(g.target.error);d(I)},o.onsuccess=g=>{const I=g.target.result;I?n(I.primaryKey,I.value).next(k=>{k?I.continue():l()}):l()}})}Bt(n,o){const l=[];return new dt((d,g)=>{n.onerror=I=>{g(I.target.error)},n.onsuccess=I=>{const k=I.target.result;if(!k)return void d();const j=new Qg(k),X=o(k.primaryKey,k.value,j);if(X instanceof dt){const ue=X.catch(De=>(j.done(),dt.reject(De)));l.push(ue)}j.isDone?d():null===j.Ft?k.continue():k.continue(j.Ft)}}).next(()=>dt.waitFor(l))}options(n,o){let l;return void 0!==n&&("string"==typeof n?l=n:o=n),{index:l,range:o}}cursor(n){let o="next";if(n.reverse&&(o="prev"),n.index){const l=this.store.index(n.index);return n.qt?l.openKeyCursor(n.range,o):l.openCursor(n.range,o)}return this.store.openCursor(n.range,o)}}function Oo(a){return new dt((n,o)=>{a.onsuccess=l=>{n(l.target.result)},a.onerror=l=>{const d=Jg(l.target.error);o(d)}})}let ea=!1;function Jg(a){const n=Ia.Rt((0,gt.z$)());if(n>=12.2&&n<13){const o="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(o)>=0){const l=new v("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ea||(ea=!0,setTimeout(()=>{throw l},0)),l}}return a}class u_ extends Yg{constructor(n,o){super(),this.Qt=n,this.currentSequenceNumber=o}}function Vs(a,n){const o=Ot(a);return Ia.St(o.Qt,n)}class Xg{constructor(n,o,l,d){this.batchId=n,this.localWriteTime=o,this.baseMutations=l,this.mutations=d}applyToRemoteDocument(n,o){const l=o.mutationResults;for(let d=0;d<this.mutations.length;d++){const g=this.mutations[d];g.key.isEqual(n.key)&&Ud(g,n,l[d])}}applyToLocalView(n){for(const o of this.baseMutations)o.key.isEqual(n.key)&&Su(o,n,this.localWriteTime);for(const o of this.mutations)o.key.isEqual(n.key)&&Su(o,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(o=>{const l=n.get(o.key),d=l;this.applyToLocalView(d),l.isValidDocument()||d.convertToNoDocument(Xt.min())})}keys(){return this.mutations.reduce((n,o)=>n.add(o.key),Zn())}isEqual(n){return this.batchId===n.batchId&&xn(this.mutations,n.mutations,(o,l)=>kc(o,l))&&xn(this.baseMutations,n.baseMutations,(o,l)=>kc(o,l))}}class No{constructor(n,o,l,d){this.batch=n,this.commitVersion=o,this.mutationResults=l,this.docVersions=d}static from(n,o,l){pn(n.mutations.length===l.length);let d=wa();const g=n.mutations;for(let I=0;I<g.length;I++)d=d.insert(g[I].key,l[I].version);return new No(n,o,l,d)}}class Da{constructor(n,o,l,d,g=Xt.min(),I=Xt.min(),k=di.EMPTY_BYTE_STRING){this.target=n,this.targetId=o,this.purpose=l,this.sequenceNumber=d,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=k}withSequenceNumber(n){return new Da(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,o){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class Wd{constructor(n){this.Wt=n}}function bf(a,n){if(n.document)return Hg(a.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const o=Yt.fromSegments(n.noDocument.path),l=Nu(n.noDocument.readTime),d=Xn.newNoDocument(o,l);return n.hasCommittedMutations?d.setHasCommittedMutations():d}if(n.unknownDocument){const o=Yt.fromSegments(n.unknownDocument.path),l=Nu(n.unknownDocument.version);return Xn.newUnknownDocument(o,l)}return jt()}function Ef(a,n,o){const l=Cl(o),d=n.key.path.popLast().toArray();if(n.isFoundDocument()){const g={name:wl(k=a.Wt,(j=n).key),fields:j.data.value.mapValue.fields,updateTime:jc(k,j.version.toTimestamp())};return new yi(null,null,g,n.hasCommittedMutations,l,d)}var k,j;if(n.isNoDocument()){const g=n.key.path.toArray(),I=Il(n.version),k=n.hasCommittedMutations;return new yi(null,new Kg(g,I),null,k,l,d)}if(n.isUnknownDocument()){const g=n.key.path.toArray(),I=Il(n.version);return new yi(new zd(g,I),null,null,!0,l,d)}return jt()}function Cl(a){const n=a.toTimestamp();return[n.seconds,n.nanoseconds]}function Cf(a){const n=new lr(a[0],a[1]);return Xt.fromTimestamp(n)}function Il(a){const n=a.toTimestamp();return new Zg(n.seconds,n.nanoseconds)}function Nu(a){const n=new lr(a.seconds,a.nanoseconds);return Xt.fromTimestamp(n)}function Ru(a,n){const o=(n.baseMutations||[]).map(g=>$g(a.Wt,g));for(let g=0;g<n.mutations.length-1;++g){const I=n.mutations[g];g+1<n.mutations.length&&void 0!==n.mutations[g+1].transform&&(I.updateTransforms=n.mutations[g+1].transform.fieldTransforms,n.mutations.splice(g+1,1),++g)}const l=n.mutations.map(g=>$g(a.Wt,g)),d=lr.fromMillis(n.localWriteTimeMs);return new Xg(n.batchId,d,o,l)}function tc(a){const n=Nu(a.readTime),o=void 0!==a.lastLimboFreeSnapshotVersion?Nu(a.lastLimboFreeSnapshotVersion):Xt.min();let l;var d;return void 0!==a.query.documents?(pn(1===(d=a.query).documents.length),l=Ps(Qa(jg(d.documents[0])))):l=Ps(Cs(a.query)),new Da(l,a.targetId,0,a.lastListenSequenceNumber,n,o,di.fromBase64String(a.resumeToken))}function l_(a,n){const o=Il(n.snapshotVersion),l=Il(n.lastLimboFreeSnapshotVersion);let d;d=$l(n.target)?i_(a.Wt,n.target):Ql(a.Wt,n.target);const g=n.resumeToken.toBase64();return new Bi(n.targetId,Tu(n.target),o,g,n.sequenceNumber,l,d)}function Pu(a){const n=Cs({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Gl(n,n.limit,"L"):n}class If{getBundleMetadata(n,o){return Df(n).get(o).next(l=>{if(l)return{id:(d=l).bundleId,createTime:Nu(d.createTime),version:d.version};var d})}saveBundleMetadata(n,o){return Df(n).put({bundleId:(l=o).id,createTime:Il(Ui(l.createTime)),version:l.version});var l}getNamedQuery(n,o){return em(n).get(o).next(l=>{if(l)return{name:(d=l).name,query:Pu(d.bundledQuery),readTime:Nu(d.readTime)};var d})}saveNamedQuery(n,o){return em(n).put({name:(l=o).name,readTime:Il(Ui(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Df(a){return Vs(a,ec.store)}function em(a){return Vs(a,su.store)}class Tf{constructor(){this.Gt=new Af}addToCollectionParentIndex(n,o){return this.Gt.add(o),dt.resolve()}getCollectionParents(n,o){return dt.resolve(this.Gt.getEntries(o))}}class Af{constructor(){this.index={}}add(n){const o=n.lastSegment(),l=n.popLast(),d=this.index[o]||new pr(yr.comparator),g=!d.has(l);return this.index[o]=d.add(l),g}has(n){const o=n.lastSegment(),l=n.popLast(),d=this.index[o];return d&&d.has(l)}getEntries(n){return(this.index[n]||new pr(yr.comparator)).toArray()}}class c_{constructor(){this.zt=new Af}addToCollectionParentIndex(n,o){if(!this.zt.has(o)){const l=o.lastSegment(),d=o.popLast();n.addOnCommittedListener(()=>{this.zt.add(o)});const g={collectionId:l,parent:xo(d)};return tm(n).put(g)}return dt.resolve()}getCollectionParents(n,o){const l=[],d=IDBKeyRange.bound([o,""],[Yi(o),""],!1,!0);return tm(n).Lt(d).next(g=>{for(const I of g){if(I.collectionId!==o)break;l.push(nu(I.parent))}return l})}}function tm(a){return Vs(a,bl.store)}const nm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class no{constructor(n,o,l){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=l}static withCacheSize(n){return new no(n,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rm(a,n,o){const l=a.store(Yr.store),d=a.store(Ls.store),g=[],I=IDBKeyRange.only(o.batchId);let k=0;const j=l.Kt({range:I},(ue,De,Je)=>(k++,Je.delete()));g.push(j.next(()=>{pn(1===k)}));const X=[];for(const ue of o.mutations){const De=Ls.key(n,ue.key.path,o.batchId);g.push(d.delete(De)),X.push(ue.key)}return dt.waitFor(g).next(()=>X)}function zc(a){if(!a)return 0;let n;if(a.document)n=a.document;else if(a.unknownDocument)n=a.unknownDocument;else{if(!a.noDocument)throw jt();n=a.noDocument}return JSON.stringify(n).length}no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(41943040,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);class Wc{constructor(n,o,l,d){this.userId=n,this.N=o,this.Ht=l,this.referenceDelegate=d,this.Jt={}}static Yt(n,o,l,d){pn(""!==n.uid);const g=n.isAuthenticated()?n.uid:"";return new Wc(g,o,l,d)}checkEmpty(n){let o=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ta(n).Kt({index:Yr.userMutationsIndex,range:l},(d,g,I)=>{o=!1,I.done()}).next(()=>o)}addMutationBatch(n,o,l,d){const g=nc(n),I=Ta(n);return I.add({}).next(k=>{pn("number"==typeof k);const j=new Xg(k,o,l,d),X=function(Je,at,Dt){const tn=Dt.baseMutations.map(fi=>qd(Je.Wt,fi)),On=Dt.mutations.map(fi=>qd(Je.Wt,fi));return new Yr(at,Dt.batchId,Dt.localWriteTime.toMillis(),tn,On)}(this.N,this.userId,j),ue=[];let De=new pr((Je,at)=>Bt(Je.canonicalString(),at.canonicalString()));for(const Je of d){const at=Ls.key(this.userId,Je.key.path,k);De=De.add(Je.key.path.popLast()),ue.push(I.put(X)),ue.push(g.put(at,Ls.PLACEHOLDER))}return De.forEach(Je=>{ue.push(this.Ht.addToCollectionParentIndex(n,Je))}),n.addOnCommittedListener(()=>{this.Jt[k]=j.keys()}),dt.waitFor(ue).next(()=>j)})}lookupMutationBatch(n,o){return Ta(n).get(o).next(l=>l?(pn(l.userId===this.userId),Ru(this.N,l)):null)}Xt(n,o){return this.Jt[o]?dt.resolve(this.Jt[o]):this.lookupMutationBatch(n,o).next(l=>{if(l){const d=l.keys();return this.Jt[o]=d,d}return null})}getNextMutationBatchAfterBatchId(n,o){const l=o+1,d=IDBKeyRange.lowerBound([this.userId,l]);let g=null;return Ta(n).Kt({index:Yr.userMutationsIndex,range:d},(I,k,j)=>{k.userId===this.userId&&(pn(k.batchId>=l),g=Ru(this.N,k)),j.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(n){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return Ta(n).Kt({index:Yr.userMutationsIndex,range:o,reverse:!0},(d,g,I)=>{l=g.batchId,I.done()}).next(()=>l)}getAllMutationBatches(n){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ta(n).Lt(Yr.userMutationsIndex,o).next(l=>l.map(d=>Ru(this.N,d)))}getAllMutationBatchesAffectingDocumentKey(n,o){const l=Ls.prefixForPath(this.userId,o.path),d=IDBKeyRange.lowerBound(l),g=[];return nc(n).Kt({range:d},(I,k,j)=>{const[X,ue,De]=I,Je=nu(ue);if(X===this.userId&&o.path.isEqual(Je))return Ta(n).get(De).next(at=>{if(!at)throw jt();pn(at.userId===this.userId),g.push(Ru(this.N,at))});j.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(n,o){let l=new pr(Bt);const d=[];return o.forEach(g=>{const I=Ls.prefixForPath(this.userId,g.path),k=IDBKeyRange.lowerBound(I),j=nc(n).Kt({range:k},(X,ue,De)=>{const[Je,at,Dt]=X,tn=nu(at);Je===this.userId&&g.path.isEqual(tn)?l=l.add(Dt):De.done()});d.push(j)}),dt.waitFor(d).next(()=>this.Zt(n,l))}getAllMutationBatchesAffectingQuery(n,o){const l=o.path,d=l.length+1,g=Ls.prefixForPath(this.userId,l),I=IDBKeyRange.lowerBound(g);let k=new pr(Bt);return nc(n).Kt({range:I},(j,X,ue)=>{const[De,Je,at]=j,Dt=nu(Je);De===this.userId&&l.isPrefixOf(Dt)?Dt.length===d&&(k=k.add(at)):ue.done()}).next(()=>this.Zt(n,k))}Zt(n,o){const l=[],d=[];return o.forEach(g=>{d.push(Ta(n).get(g).next(I=>{if(null===I)throw jt();pn(I.userId===this.userId),l.push(Ru(this.N,I))}))}),dt.waitFor(d).next(()=>l)}removeMutationBatch(n,o){return rm(n.Qt,this.userId,o).next(l=>(n.addOnCommittedListener(()=>{this.te(o.batchId)}),dt.forEach(l,d=>this.referenceDelegate.markPotentiallyOrphaned(n,d))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(o=>{if(!o)return dt.resolve();const l=IDBKeyRange.lowerBound(Ls.prefixForUser(this.userId)),d=[];return nc(n).Kt({range:l},(g,I,k)=>{if(g[0]===this.userId){const j=nu(g[1]);d.push(j)}else k.done()}).next(()=>{pn(0===d.length)})})}containsKey(n,o){return Sf(n,this.userId,o)}ee(n){return im(n).get(this.userId).next(o=>o||new ru(this.userId,-1,""))}}function Sf(a,n,o){const l=Ls.prefixForPath(n,o.path),d=l[1],g=IDBKeyRange.lowerBound(l);let I=!1;return nc(a).Kt({range:g,qt:!0},(k,j,X)=>{const[ue,De,Je]=k;ue===n&&De===d&&(I=!0),X.done()}).next(()=>I)}function Ta(a){return Vs(a,Yr.store)}function nc(a){return Vs(a,Ls.store)}function im(a){return Vs(a,ru.store)}class ku{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new ku(0)}static ie(){return new ku(-1)}}class sm{constructor(n,o){this.referenceDelegate=n,this.N=o}allocateTargetId(n){return this.re(n).next(o=>{const l=new ku(o.highestTargetId);return o.highestTargetId=l.next(),this.oe(n,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(o=>Xt.fromTimestamp(new lr(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(n,o,l){return this.re(n).next(d=>(d.highestListenSequenceNumber=o,l&&(d.lastRemoteSnapshotVersion=l.toTimestamp()),o>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=o),this.oe(n,d)))}addTargetData(n,o){return this.ae(n,o).next(()=>this.re(n).next(l=>(l.targetCount+=1,this.ce(o,l),this.oe(n,l))))}updateTargetData(n,o){return this.ae(n,o)}removeTargetData(n,o){return this.removeMatchingKeysForTargetId(n,o.targetId).next(()=>Ro(n).delete(o.targetId)).next(()=>this.re(n)).next(l=>(pn(l.targetCount>0),l.targetCount-=1,this.oe(n,l)))}removeTargets(n,o,l){let d=0;const g=[];return Ro(n).Kt((I,k)=>{const j=tc(k);j.sequenceNumber<=o&&null===l.get(j.targetId)&&(d++,g.push(this.removeTargetData(n,j)))}).next(()=>dt.waitFor(g)).next(()=>d)}forEachTarget(n,o){return Ro(n).Kt((l,d)=>{const g=tc(d);o(g)})}re(n){return xf(n).get(po.key).next(o=>(pn(null!==o),o))}oe(n,o){return xf(n).put(po.key,o)}ae(n,o){return Ro(n).put(l_(this.N,o))}ce(n,o){let l=!1;return n.targetId>o.highestTargetId&&(o.highestTargetId=n.targetId,l=!0),n.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n.sequenceNumber,l=!0),l}getTargetCount(n){return this.re(n).next(o=>o.targetCount)}getTargetData(n,o){const l=Tu(o),d=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let g=null;return Ro(n).Kt({range:d,index:Bi.queryTargetsIndexName},(I,k,j)=>{const X=tc(k);Hl(o,X.target)&&(g=X,j.done())}).next(()=>g)}addMatchingKeys(n,o,l){const d=[],g=ou(n);return o.forEach(I=>{const k=xo(I.path);d.push(g.put(new fs(l,k))),d.push(this.referenceDelegate.addReference(n,l,I))}),dt.waitFor(d)}removeMatchingKeys(n,o,l){const d=ou(n);return dt.forEach(o,g=>{const I=xo(g.path);return dt.waitFor([d.delete([l,I]),this.referenceDelegate.removeReference(n,l,g)])})}removeMatchingKeysForTargetId(n,o){const l=ou(n),d=IDBKeyRange.bound([o],[o+1],!1,!0);return l.delete(d)}getMatchingKeysForTargetId(n,o){const l=IDBKeyRange.bound([o],[o+1],!1,!0),d=ou(n);let g=Zn();return d.Kt({range:l,qt:!0},(I,k,j)=>{const X=nu(I[1]),ue=new Yt(X);g=g.add(ue)}).next(()=>g)}containsKey(n,o){const l=xo(o.path),d=IDBKeyRange.bound([l],[Yi(l)],!1,!0);let g=0;return ou(n).Kt({index:fs.documentTargetsIndex,qt:!0,range:d},([I,k],j,X)=>{0!==I&&(g++,X.done())}).next(()=>g>0)}Et(n,o){return Ro(n).get(o).next(l=>l?tc(l):null)}}function Ro(a){return Vs(a,Bi.store)}function xf(a){return Vs(a,po.store)}function ou(a){return Vs(a,fs.store)}function Dl(a){return rc.apply(this,arguments)}function rc(){return(rc=(0,oe.Z)(function*(a){if(a.code!==C.FAILED_PRECONDITION||a.message!==wf)throw a;_t("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function om([a,n],[o,l]){const d=Bt(a,o);return 0===d?Bt(n,l):d}class am{constructor(n){this.ue=n,this.buffer=new pr(om),this.he=0}le(){return++this.he}fe(n){const o=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(o);else{const l=this.buffer.last();om(o,l)<0&&(this.buffer=this.buffer.delete(l).add(o))}}get maxValue(){return this.buffer.last()[0]}}class um{constructor(n,o){this.garbageCollector=n,this.asyncQueue=o,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var o=this;const l=this.de?3e5:6e4;_t("LruGarbageCollector",`Garbage collection scheduled in ${l}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",l,(0,oe.Z)(function*(){o.we=null,o.de=!0;try{yield n.collectGarbage(o.garbageCollector)}catch(d){El(d)?_t("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",d):yield Dl(d)}yield o._e(n)}))}}class lm{constructor(n,o){this.me=n,this.params=o}calculateTargetCount(n,o){return this.me.ge(n).next(l=>Math.floor(o/100*l))}nthSequenceNumber(n,o){if(0===o)return dt.resolve(Ct.T);const l=new am(o);return this.me.forEachTarget(n,d=>l.fe(d.sequenceNumber)).next(()=>this.me.ye(n,d=>l.fe(d))).next(()=>l.maxValue)}removeTargets(n,o,l){return this.me.removeTargets(n,o,l)}removeOrphanedDocuments(n,o){return this.me.removeOrphanedDocuments(n,o)}collect(n,o){return-1===this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),dt.resolve(nm)):this.getCacheSize(n).next(l=>l<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nm):this.pe(n,o))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,o){let l,d,g,I,k,j,X;const ue=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(De=>(De>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${De}`),d=this.params.maximumSequenceNumbersToCollect):d=De,I=Date.now(),this.nthSequenceNumber(n,d))).next(De=>(l=De,k=Date.now(),this.removeTargets(n,l,o))).next(De=>(g=De,j=Date.now(),this.removeOrphanedDocuments(n,l))).next(De=>(X=Date.now(),qa()<=et.in.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-ue}ms\n\tDetermined least recently used ${d} in `+(k-I)+`ms\n\tRemoved ${g} targets in `+(j-k)+`ms\n\tRemoved ${De} documents in `+(X-j)+`ms\nTotal Duration: ${X-ue}ms`),dt.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:g,documentsRemoved:De})))}}class Mf{constructor(n,o){this.db=n,this.garbageCollector=new lm(this,o)}ge(n){const o=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(l=>o.next(d=>l+d))}Ee(n){let o=0;return this.ye(n,l=>{o++}).next(()=>o)}forEachTarget(n,o){return this.db.getTargetCache().forEachTarget(n,o)}ye(n,o){return this.Te(n,(l,d)=>o(d))}addReference(n,o,l){return Zc(n,l)}removeReference(n,o,l){return Zc(n,l)}removeTargets(n,o,l){return this.db.getTargetCache().removeTargets(n,o,l)}markPotentiallyOrphaned(n,o){return Zc(n,o)}Ie(n,o){return function(l,d){let g=!1;return im(l).jt(I=>Sf(l,I,d).next(k=>(k&&(g=!0),dt.resolve(!k)))).next(()=>g)}(n,o)}removeOrphanedDocuments(n,o){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let g=0;return this.Te(n,(I,k)=>{if(k<=o){const j=this.Ie(n,I).next(X=>{if(!X)return g++,l.getEntry(n,I).next(()=>(l.removeEntry(I),ou(n).delete([0,xo(I.path)])))});d.push(j)}}).next(()=>dt.waitFor(d)).next(()=>l.apply(n)).next(()=>g)}removeTarget(n,o){const l=o.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,l)}updateLimboDocument(n,o){return Zc(n,o)}Te(n,o){const l=ou(n);let d,g=Ct.T;return l.Kt({index:fs.documentTargetsIndex},([I,k],{path:j,sequenceNumber:X})=>{0===I?(g!==Ct.T&&o(new Yt(nu(d)),g),g=X,d=j):g=Ct.T}).next(()=>{g!==Ct.T&&o(new Yt(nu(d)),g)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function Zc(a,n){return ou(a).put((l=a.currentSequenceNumber,new fs(0,xo(n.path),l)));var l}class au{constructor(n,o){this.mapKeyFn=n,this.equalsFn=o,this.inner={}}get(n){const o=this.mapKeyFn(n),l=this.inner[o];if(void 0!==l)for(const[d,g]of l)if(this.equalsFn(d,n))return g}has(n){return void 0!==this.get(n)}set(n,o){const l=this.mapKeyFn(n),d=this.inner[l];if(void 0!==d){for(let g=0;g<d.length;g++)if(this.equalsFn(d[g][0],n))return void(d[g]=[n,o]);d.push([n,o])}else this.inner[l]=[[n,o]]}delete(n){const o=this.mapKeyFn(n),l=this.inner[o];if(void 0===l)return!1;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],n))return 1===l.length?delete this.inner[o]:l.splice(d,1),!0;return!1}forEach(n){ci(this.inner,(o,l)=>{for(const[d,g]of l)n(d,g)})}isEmpty(){return To(this.inner)}}class Kc{constructor(){this.changes=new au(n=>n.toString(),(n,o)=>n.isEqual(o)),this.changesApplied=!1}getReadTime(n){const o=this.changes.get(n);return o?o.readTime:Xt.min()}addEntry(n,o){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:o})}removeEntry(n,o=null){this.assertNotApplied(),this.changes.set(n,{document:Xn.newInvalidDocument(n),readTime:o})}getEntry(n,o){this.assertNotApplied();const l=this.changes.get(o);return void 0!==l?dt.resolve(l.document):this.getFromCache(n,o)}getEntries(n,o){return this.getAllFromCache(n,o)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class cm{constructor(n,o){this.N=n,this.Ht=o}addEntry(n,o,l){return Aa(n).put(Fu(o),l)}removeEntry(n,o){const l=Aa(n),d=Fu(o);return l.delete(d)}updateMetadata(n,o){return this.getMetadata(n).next(l=>(l.byteSize+=o,this.Ae(n,l)))}getEntry(n,o){return Aa(n).get(Fu(o)).next(l=>this.Re(o,l))}be(n,o){return Aa(n).get(Fu(o)).next(l=>({document:this.Re(o,l),size:zc(l)}))}getEntries(n,o){let l=ks();return this.Pe(n,o,(d,g)=>{const I=this.Re(d,g);l=l.insert(d,I)}).next(()=>l)}ve(n,o){let l=ks(),d=new Ft(Yt.comparator);return this.Pe(n,o,(g,I)=>{const k=this.Re(g,I);l=l.insert(g,k),d=d.insert(g,zc(I))}).next(()=>({documents:l,Ve:d}))}Pe(n,o,l){if(o.isEmpty())return dt.resolve();const d=IDBKeyRange.bound(o.first().path.toArray(),o.last().path.toArray()),g=o.getIterator();let I=g.getNext();return Aa(n).Kt({range:d},(k,j,X)=>{const ue=Yt.fromSegments(k);for(;I&&Yt.comparator(I,ue)<0;)l(I,null),I=g.getNext();I&&I.isEqual(ue)&&(l(I,j),I=g.hasNext()?g.getNext():null),I?X.Mt(I.path.toArray()):X.done()}).next(()=>{for(;I;)l(I,null),I=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(n,o,l){let d=ks();const g=o.path.length+1,I={};if(l.isEqual(Xt.min())){const k=o.path.toArray();I.range=IDBKeyRange.lowerBound(k)}else{const k=o.path.toArray(),j=Cl(l);I.range=IDBKeyRange.lowerBound([k,j],!0),I.index=yi.collectionReadTimeIndex}return Aa(n).Kt(I,(k,j,X)=>{if(k.length!==g)return;const ue=bf(this.N,j);o.path.isPrefixOf(ue.key.path)?va(o,ue)&&(d=d.insert(ue.key,ue)):X.done()}).next(()=>d)}newChangeBuffer(n){return new Of(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(o=>o.byteSize)}getMetadata(n){return Nf(n).get(Ca.key).next(o=>(pn(!!o),o))}Ae(n,o){return Nf(n).put(Ca.key,o)}Re(n,o){if(o){const l=bf(this.N,o);if(!l.isNoDocument()||!l.version.isEqual(Xt.min()))return l}return Xn.newInvalidDocument(n)}}class Of extends Kc{constructor(n,o){super(),this.Se=n,this.trackRemovals=o,this.De=new au(l=>l.toString(),(l,d)=>l.isEqual(d))}applyChanges(n){const o=[];let l=0,d=new pr((g,I)=>Bt(g.canonicalString(),I.canonicalString()));return this.changes.forEach((g,I)=>{const k=this.De.get(g);if(I.document.isValidDocument()){const j=Ef(this.Se.N,I.document,this.getReadTime(g));d=d.add(g.path.popLast()),l+=zc(j)-k,o.push(this.Se.addEntry(n,g,j))}else if(l-=k,this.trackRemovals){const j=Ef(this.Se.N,Xn.newNoDocument(g,Xt.min()),this.getReadTime(g));o.push(this.Se.addEntry(n,g,j))}else o.push(this.Se.removeEntry(n,g))}),d.forEach(g=>{o.push(this.Se.Ht.addToCollectionParentIndex(n,g))}),o.push(this.Se.updateMetadata(n,l)),dt.waitFor(o)}getFromCache(n,o){return this.Se.be(n,o).next(l=>(this.De.set(o,l.size),l.document))}getAllFromCache(n,o){return this.Se.ve(n,o).next(({documents:l,Ve:d})=>(d.forEach((g,I)=>{this.De.set(g,I)}),l))}}function Nf(a){return Vs(a,Ca.store)}function Aa(a){return Vs(a,yi.store)}function Fu(a){return a.path.toArray()}class d_{constructor(n){this.N=n}Ct(n,o,l,d){pn(l<d&&l>=0&&d<=11);const g=new Gc("createOrUpgrade",o);var k;l<1&&d>=1&&(n.createObjectStore(Fs.store),(k=n).createObjectStore(ru.store,{keyPath:ru.keyPath}),k.createObjectStore(Yr.store,{keyPath:Yr.keyPath,autoIncrement:!0}).createIndex(Yr.userMutationsIndex,Yr.userMutationsKeyPath,{unique:!0}),k.createObjectStore(Ls.store),Rf(n),function(k){k.createObjectStore(yi.store)}(n));let I=dt.resolve();return l<3&&d>=3&&(0!==l&&(function(k){k.deleteObjectStore(fs.store),k.deleteObjectStore(Bi.store),k.deleteObjectStore(po.store)}(n),Rf(n)),I=I.next(()=>function(k){const j=k.store(po.store),X=new po(0,0,Xt.min().toTimestamp(),0);return j.put(po.key,X)}(g))),l<4&&d>=4&&(0!==l&&(I=I.next(()=>function(k,j){return j.store(Yr.store).Lt().next(X=>{k.deleteObjectStore(Yr.store),k.createObjectStore(Yr.store,{keyPath:Yr.keyPath,autoIncrement:!0}).createIndex(Yr.userMutationsIndex,Yr.userMutationsKeyPath,{unique:!0});const ue=j.store(Yr.store),De=X.map(Je=>ue.put(Je));return dt.waitFor(De)})}(n,g))),I=I.next(()=>{!function(k){k.createObjectStore(iu.store,{keyPath:iu.keyPath})}(n)})),l<5&&d>=5&&(I=I.next(()=>this.Ce(g))),l<6&&d>=6&&(I=I.next(()=>(function(k){k.createObjectStore(Ca.store)}(n),this.Ne(g)))),l<7&&d>=7&&(I=I.next(()=>this.xe(g))),l<8&&d>=8&&(I=I.next(()=>this.ke(n,g))),l<9&&d>=9&&(I=I.next(()=>{(function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")})(n),function(k){const j=k.objectStore(yi.store);j.createIndex(yi.readTimeIndex,yi.readTimeIndexPath,{unique:!1}),j.createIndex(yi.collectionReadTimeIndex,yi.collectionReadTimeIndexPath,{unique:!1})}(o)})),l<10&&d>=10&&(I=I.next(()=>this.$e(g))),l<11&&d>=11&&(I=I.next(()=>{(function(k){k.createObjectStore(ec.store,{keyPath:ec.keyPath})})(n),function(k){k.createObjectStore(su.store,{keyPath:su.keyPath})}(n)})),I}Ne(n){let o=0;return n.store(yi.store).Kt((l,d)=>{o+=zc(d)}).next(()=>{const l=new Ca(o);return n.store(Ca.store).put(Ca.key,l)})}Ce(n){const o=n.store(ru.store),l=n.store(Yr.store);return o.Lt().next(d=>dt.forEach(d,g=>{const I=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return l.Lt(Yr.userMutationsIndex,I).next(k=>dt.forEach(k,j=>{pn(j.userId===g.userId);const X=Ru(this.N,j);return rm(n,g.userId,X).next(()=>{})}))}))}xe(n){const o=n.store(fs.store),l=n.store(yi.store);return n.store(po.store).get(po.key).next(d=>{const g=[];return l.Kt((I,k)=>{const j=new yr(I),X=[0,xo(j)];g.push(o.get(X).next(ue=>ue?dt.resolve():o.put(new fs(0,xo(j),d.highestListenSequenceNumber))))}).next(()=>dt.waitFor(g))})}ke(n,o){n.createObjectStore(bl.store,{keyPath:bl.keyPath});const l=o.store(bl.store),d=new Af,g=I=>{if(d.add(I)){const k=I.lastSegment(),j=I.popLast();return l.put({collectionId:k,parent:xo(j)})}};return o.store(yi.store).Kt({qt:!0},(I,k)=>{const j=new yr(I);return g(j.popLast())}).next(()=>o.store(Ls.store).Kt({qt:!0},([I,k,j],X)=>{const ue=nu(k);return g(ue.popLast())}))}$e(n){const o=n.store(Bi.store);return o.Kt((l,d)=>{const g=tc(d),I=l_(this.N,g);return o.put(I)})}}function Rf(a){a.createObjectStore(fs.store,{keyPath:fs.keyPath}).createIndex(fs.documentTargetsIndex,fs.documentTargetsKeyPath,{unique:!0}),a.createObjectStore(Bi.store,{keyPath:Bi.keyPath}).createIndex(Bi.queryTargetsIndexName,Bi.queryTargetsKeyPath,{unique:!0}),a.createObjectStore(po.store)}const Pf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kf{constructor(n,o,l,d,g,I,k,j,X,ue){if(this.allowTabSynchronization=n,this.persistenceKey=o,this.clientId=l,this.Oe=g,this.window=I,this.document=k,this.Fe=X,this.Me=ue,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=De=>Promise.resolve(),!kf.bt())throw new v(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mf(this,d),this.We=o+"main",this.N=new Wd(j),this.Ge=new Ia(this.We,11,new d_(this.N)),this.ze=new sm(this.referenceDelegate,this.N),this.Ht=new c_,this.He=new cm(this.N,this.Ht),this.Je=new If,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===ue&&Pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new v(C.FAILED_PRECONDITION,Pf);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new Ct(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var o=this;return this.Qe=function(){var l=(0,oe.Z)(function*(d){if(o.started)return n(d)});return function(d){return l.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var o=(0,oe.Z)(function*(l){null===l.newVersion&&(yield n())});return function(l){return o.apply(this,arguments)}}())}setNetworkEnabled(n){var o=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,oe.Z)(function*(){o.started&&(yield o.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>sc(n).put(new iu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(o=>{o||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(o=>this.isPrimary&&!o?this.on(n).next(()=>!1):!!o&&this.an(n).next(()=>!0))).catch(n=>{if(El(n))return _t("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return _t("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return ic(n).get(Fs.key).next(o=>dt.resolve(this.cn(o)))}un(n){return sc(n).delete(this.clientId)}hn(){var n=this;return(0,oe.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const o=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const d=Vs(l,iu.store);return d.Lt().next(g=>{const I=n.fn(g,18e5),k=g.filter(j=>-1===I.indexOf(j));return dt.forEach(k,j=>d.delete(j.clientId)).next(()=>k)})}).catch(()=>[]);if(n.Ye)for(const l of o)n.Ye.removeItem(n.dn(l.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?dt.resolve(!0):ic(n).get(Fs.key).next(o=>{if(null!==o&&this.ln(o.leaseTimestampMs,5e3)&&!this.wn(o.ownerId)){if(this.cn(o)&&this.networkEnabled)return!0;if(!this.cn(o)){if(!o.allowTabSynchronization)throw new v(C.FAILED_PRECONDITION,Pf);return!1}}return!(!this.networkEnabled||!this.inForeground)||sc(n).Lt().next(l=>void 0===this.fn(l,5e3).find(d=>{if(this.clientId!==d.clientId){const I=!this.inForeground&&d.inForeground,k=this.networkEnabled===d.networkEnabled;if(!this.networkEnabled&&d.networkEnabled||I&&k)return!0}return!1}))}).next(o=>(this.isPrimary!==o&&_t("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var n=this;return(0,oe.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[Fs.store,iu.store],o=>{const l=new u_(o,Ct.T);return n.on(l).next(()=>n.un(l))}),n.Ge.close(),n.yn()})()}fn(n,o){return n.filter(l=>this.ln(l.updateTimeMs,o)&&!this.wn(l.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>sc(n).Lt().next(o=>this.fn(o,18e5).map(l=>l.clientId)))}get started(){return this.Be}getMutationQueue(n){return Wc.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,o,l){let g;return _t("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===o?"readonly":"readwrite",Mo,I=>(g=new u_(I,this.Le?this.Le.next():Ct.T),"readwrite-primary"===o?this.sn(g).next(k=>!!k||this.rn(g)).next(k=>{if(!k)throw Pr(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new v(C.FAILED_PRECONDITION,wf);return l(g)}).next(k=>this.an(g).next(()=>k)):this.En(g).next(()=>l(g)))).then(I=>(g.raiseOnCommittedEvent(),I))}En(n){return ic(n).get(Fs.key).next(o=>{if(null!==o&&this.ln(o.leaseTimestampMs,5e3)&&!this.wn(o.ownerId)&&!this.cn(o)&&!(this.Me||this.allowTabSynchronization&&o.allowTabSynchronization))throw new v(C.FAILED_PRECONDITION,Pf)})}an(n){const o=new Fs(this.clientId,this.allowTabSynchronization,Date.now());return ic(n).put(Fs.key,o)}static bt(){return Ia.bt()}on(n){const o=ic(n);return o.get(Fs.key).next(l=>this.cn(l)?(_t("IndexedDbPersistence","Releasing primary lease."),o.delete(Fs.key)):dt.resolve())}ln(n,o){const l=Date.now();return!(n<l-o||n>l&&(Pr(`Detected an update time that is in the future: ${n} > ${l}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,gt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var o;try{const l=null!==(null===(o=this.Ye)||void 0===o?void 0:o.getItem(this.dn(n)));return _t("IndexedDbPersistence",`Client '${n}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return Pr("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){Pr("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function ic(a){return Vs(a,Fs.store)}function sc(a){return Vs(a,iu.store)}function Zd(a,n){let o=a.projectId;return a.isDefaultDatabase||(o+="."+a.database),"firestore/"+n+"/"+o+"/"}class Rw{constructor(n,o){this.progress=n,this.Tn=o}}class Ff{constructor(n,o,l){this.He=n,this.In=o,this.Ht=l}An(n,o){return this.In.getAllMutationBatchesAffectingDocumentKey(n,o).next(l=>this.Rn(n,o,l))}Rn(n,o,l){return this.He.getEntry(n,o).next(d=>{for(const g of l)g.applyToLocalView(d);return d})}bn(n,o){n.forEach((l,d)=>{for(const g of o)g.applyToLocalView(d)})}Pn(n,o){return this.He.getEntries(n,o).next(l=>this.vn(n,l).next(()=>l))}vn(n,o){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,o).next(l=>this.bn(o,l))}getDocumentsMatchingQuery(n,o,l){return Yt.isDocumentKey((d=o).path)&&null===d.collectionGroup&&0===d.filters.length?this.Vn(n,o.path):Yo(o)?this.Sn(n,o,l):this.Dn(n,o,l);var d}Vn(n,o){return this.An(n,new Yt(o)).next(l=>{let d=Vc();return l.isFoundDocument()&&(d=d.insert(l.key,l)),d})}Sn(n,o,l){const d=o.collectionGroup;let g=Vc();return this.Ht.getCollectionParents(n,d).next(I=>dt.forEach(I,k=>{const j=(X=o,ue=k.child(d),new bs(ue,null,X.explicitOrderBy.slice(),X.filters.slice(),X.limit,X.limitType,X.startAt,X.endAt));var X,ue;return this.Dn(n,j,l).next(X=>{X.forEach((ue,De)=>{g=g.insert(ue,De)})})}).next(()=>g))}Dn(n,o,l){let d,g;return this.He.getDocumentsMatchingQuery(n,o,l).next(I=>(d=I,this.In.getAllMutationBatchesAffectingQuery(n,o))).next(I=>(g=I,this.Cn(n,g,d).next(k=>{d=k;for(const j of g)for(const X of j.mutations){const ue=X.key;let De=d.get(ue);null==De&&(De=Xn.newInvalidDocument(ue),d=d.insert(ue,De)),Su(X,De,j.localWriteTime),De.isFoundDocument()||(d=d.remove(ue))}}))).next(()=>(d.forEach((I,k)=>{va(o,k)||(d=d.remove(I))}),d))}Cn(n,o,l){let d=Zn();for(const I of o)for(const k of I.mutations)k instanceof Es&&null===l.get(k.key)&&(d=d.add(k.key));let g=l;return this.He.getEntries(n,d).next(I=>(I.forEach((k,j)=>{j.isFoundDocument()&&(g=g.insert(k,j))}),g))}}class Lf{constructor(n,o,l,d){this.targetId=n,this.fromCache=o,this.Nn=l,this.xn=d}static kn(n,o){let l=Zn(),d=Zn();for(const g of o.docChanges)switch(g.type){case 0:l=l.add(g.doc.key);break;case 1:d=d.add(g.doc.key)}return new Lf(n,o.fromCache,l,d)}}class Vf{$n(n){this.On=n}getDocumentsMatchingQuery(n,o,l,d){return 0===(g=o).filters.length&&null===g.limit&&null==g.startAt&&null==g.endAt&&(0===g.explicitOrderBy.length||1===g.explicitOrderBy.length&&g.explicitOrderBy[0].field.isKeyField())||l.isEqual(Xt.min())?this.Fn(n,o):this.On.Pn(n,d).next(g=>{const I=this.Mn(o,g);return(Vr(o)||pl(o))&&this.Ln(o.limitType,I,d,l)?this.Fn(n,o):(qa()<=et.in.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),fo(o)),this.On.getDocumentsMatchingQuery(n,o,l).next(k=>(I.forEach(j=>{k=k.insert(j.key,j)}),k)))});var g}Mn(n,o){let l=new pr(Qo(n));return o.forEach((d,g)=>{va(n,g)&&(l=l.add(g))}),l}Ln(n,o,l,d){if(l.size!==o.size)return!0;const g="F"===n?o.last():o.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(d)>0)}Fn(n,o){return qa()<=et.in.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",fo(o)),this.On.getDocumentsMatchingQuery(n,o,Xt.min())}}class h_{constructor(n,o,l,d){this.persistence=n,this.Bn=o,this.N=d,this.Un=new Ft(Bt),this.qn=new au(g=>Tu(g),Hl),this.Kn=Xt.min(),this.In=n.getMutationQueue(l),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new Ff(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>n.collect(o,this.Un))}}function dm(a,n,o,l){return new h_(a,n,o,l)}function Po(a,n){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,oe.Z)(function*(a,n){const o=Ot(a);let l=o.In,d=o.Qn;const g=yield o.persistence.runTransaction("Handle user change","readonly",I=>{let k;return o.In.getAllMutationBatches(I).next(j=>(k=j,l=o.persistence.getMutationQueue(n),d=new Ff(o.jn,l,o.persistence.getIndexManager()),l.getAllMutationBatches(I))).next(j=>{const X=[],ue=[];let De=Zn();for(const Je of k){X.push(Je.batchId);for(const at of Je.mutations)De=De.add(at.key)}for(const Je of j){ue.push(Je.batchId);for(const at of Je.mutations)De=De.add(at.key)}return d.Pn(I,De).next(Je=>({Wn:Je,removedBatchIds:X,addedBatchIds:ue}))})});return o.In=l,o.Qn=d,o.Bn.$n(o.Qn),g})).apply(this,arguments)}function hm(a,n){const o=Ot(a);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const d=n.batch.keys(),g=o.jn.newChangeBuffer({trackRemovals:!0});return function(I,k,j,X){const ue=j.batch,De=ue.keys();let Je=dt.resolve();return De.forEach(at=>{Je=Je.next(()=>X.getEntry(k,at)).next(Dt=>{const tn=j.docVersions.get(at);pn(null!==tn),Dt.version.compareTo(tn)<0&&(ue.applyToRemoteDocument(Dt,j),Dt.isValidDocument()&&X.addEntry(Dt,j.commitVersion))})}),Je.next(()=>I.In.removeMutationBatch(k,ue))}(o,l,n,g).next(()=>g.apply(l)).next(()=>o.In.performConsistencyCheck(l)).next(()=>o.Qn.Pn(l,d))})}function fm(a){const n=Ot(a);return n.persistence.runTransaction("Get last remote snapshot version","readonly",o=>n.ze.getLastRemoteSnapshotVersion(o))}function f_(a,n){const o=Ot(a),l=n.snapshotVersion;let d=o.Un;return o.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const I=o.jn.newChangeBuffer({trackRemovals:!0});d=o.Un;const k=[];n.targetChanges.forEach((X,ue)=>{const De=d.get(ue);if(!De)return;k.push(o.ze.removeMatchingKeys(g,X.removedDocuments,ue).next(()=>o.ze.addMatchingKeys(g,X.addedDocuments,ue)));const Je=X.resumeToken;if(Je.approximateByteSize()>0){const at=De.withResumeToken(Je,l).withSequenceNumber(g.currentSequenceNumber);d=d.insert(ue,at),Dt=De,On=X,pn((tn=at).resumeToken.approximateByteSize()>0),(0===Dt.resumeToken.approximateByteSize()||tn.snapshotVersion.toMicroseconds()-Dt.snapshotVersion.toMicroseconds()>=3e8||On.addedDocuments.size+On.modifiedDocuments.size+On.removedDocuments.size>0)&&k.push(o.ze.updateTargetData(g,at))}var Dt,tn,On});let j=ks();if(n.documentUpdates.forEach((X,ue)=>{n.resolvedLimboDocuments.has(X)&&k.push(o.persistence.referenceDelegate.updateLimboDocument(g,X))}),k.push(pm(g,I,n.documentUpdates,l,void 0).next(X=>{j=X})),!l.isEqual(Xt.min())){const X=o.ze.getLastRemoteSnapshotVersion(g).next(ue=>o.ze.setTargetsMetadata(g,g.currentSequenceNumber,l));k.push(X)}return dt.waitFor(k).next(()=>I.apply(g)).next(()=>o.Qn.vn(g,j)).next(()=>j)}).then(g=>(o.Un=d,g))}function pm(a,n,o,l,d){let g=Zn();return o.forEach(I=>g=g.add(I)),n.getEntries(a,g).next(I=>{let k=ks();return o.forEach((j,X)=>{const ue=I.get(j),De=(null==d?void 0:d.get(j))||l;X.isNoDocument()&&X.version.isEqual(Xt.min())?(n.removeEntry(j,De),k=k.insert(j,X)):!ue.isValidDocument()||X.version.compareTo(ue.version)>0||0===X.version.compareTo(ue.version)&&ue.hasPendingWrites?(n.addEntry(X,De),k=k.insert(j,X)):_t("LocalStore","Ignoring outdated watch update for ",j,". Current version:",ue.version," Watch version:",X.version)}),k})}function p_(a,n){const o=Ot(a);return o.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===n&&(n=-1),o.In.getNextMutationBatchAfterBatchId(l,n)))}function Tl(a,n){const o=Ot(a);return o.persistence.runTransaction("Allocate target","readwrite",l=>{let d;return o.ze.getTargetData(l,n).next(g=>g?(d=g,dt.resolve(d)):o.ze.allocateTargetId(l).next(I=>(d=new Da(n,I,0,l.currentSequenceNumber),o.ze.addTargetData(l,d).next(()=>d))))}).then(l=>{const d=o.Un.get(l.targetId);return(null===d||l.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(o.Un=o.Un.insert(l.targetId,l),o.qn.set(n,l.targetId)),l})}function oc(a,n,o){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,oe.Z)(function*(a,n,o){const l=Ot(a),d=l.Un.get(n),g=o?"readwrite":"readwrite-primary";try{o||(yield l.persistence.runTransaction("Release target",g,I=>l.persistence.referenceDelegate.removeTarget(I,d)))}catch(I){if(!El(I))throw I;_t("LocalStore",`Failed to update sequence numbers for target ${n}: ${I}`)}l.Un=l.Un.remove(n),l.qn.delete(d.target)})).apply(this,arguments)}function Kd(a,n,o){const l=Ot(a);let d=Xt.min(),g=Zn();return l.persistence.runTransaction("Execute query","readonly",I=>function(k,j,X){const ue=Ot(k),De=ue.qn.get(X);return void 0!==De?dt.resolve(ue.Un.get(De)):ue.ze.getTargetData(j,X)}(l,I,Ps(n)).next(k=>{if(k)return d=k.lastLimboFreeSnapshotVersion,l.ze.getMatchingKeysForTargetId(I,k.targetId).next(j=>{g=j})}).next(()=>l.Bn.getDocumentsMatchingQuery(I,n,o?d:Xt.min(),o?g:Zn())).next(k=>({documents:k,Gn:g})))}function Mn(a,n){const o=Ot(a),l=Ot(o.ze),d=o.Un.get(n);return d?Promise.resolve(d.target):o.persistence.runTransaction("Get target data","readonly",g=>l.Et(g,n).next(I=>I?I.target:null))}function jf(a){const n=Ot(a);return n.persistence.runTransaction("Get new document changes","readonly",o=>function(l,d,g){const I=Ot(l);let k=ks(),j=Cl(g);const X=Aa(d),ue=IDBKeyRange.lowerBound(j,!0);return X.Kt({index:yi.readTimeIndex,range:ue},(De,Je)=>{const at=bf(I.N,Je);k=k.insert(at.key,at),j=Je.readTime}).next(()=>({Tn:k,readTime:Cf(j)}))}(n.jn,o,n.Kn)).then(({Tn:o,readTime:l})=>(n.Kn=l,o))}function ac(){return(ac=(0,oe.Z)(function*(a){const n=Ot(a);return n.persistence.runTransaction("Synchronize last document change read time","readonly",o=>function(l){const d=Aa(l);let g=Xt.min();return d.Kt({index:yi.readTimeIndex,reverse:!0},(I,k,j)=>{k.readTime&&(g=Cf(k.readTime)),j.done()}).next(()=>g)}(o)).then(o=>{n.Kn=o})})).apply(this,arguments)}function Yd(){return(Yd=(0,oe.Z)(function*(a,n,o,l){const d=Ot(a);let g=Zn(),I=ks(),k=wa();for(const ue of o){const De=n.zn(ue.metadata.name);ue.document&&(g=g.add(De)),I=I.insert(De,n.Hn(ue)),k=k.insert(De,n.Jn(ue.metadata.readTime))}const j=d.jn.newChangeBuffer({trackRemovals:!0}),X=yield Tl(d,(ue=l,Ps(Qa(yr.fromString(`__bundle__/docs/${ue}`)))));var ue;return d.persistence.runTransaction("Apply bundle documents","readwrite",ue=>pm(ue,j,I,Xt.min(),k).next(De=>(j.apply(ue),De)).next(De=>d.ze.removeMatchingKeysForTargetId(ue,X.targetId).next(()=>d.ze.addMatchingKeys(ue,g,X.targetId)).next(()=>d.Qn.vn(ue,De)).next(()=>De)))})).apply(this,arguments)}function g_(a,n){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,oe.Z)(function*(a,n,o=Zn()){const l=yield Tl(a,Ps(Pu(n.bundledQuery))),d=Ot(a);return d.persistence.runTransaction("Save named query","readwrite",g=>{const I=Ui(n.readTime);if(l.snapshotVersion.compareTo(I)>=0)return d.Je.saveNamedQuery(g,n);const k=l.withResumeToken(di.EMPTY_BYTE_STRING,I);return d.Un=d.Un.insert(k.targetId,k),d.ze.updateTargetData(g,k).next(()=>d.ze.removeMatchingKeysForTargetId(g,l.targetId)).next(()=>d.ze.addMatchingKeys(g,o,l.targetId)).next(()=>d.Je.saveNamedQuery(g,n))})})).apply(this,arguments)}class uu{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,o){return dt.resolve(this.Yn.get(o))}saveBundleMetadata(n,o){var l;return this.Yn.set(o.id,{id:(l=o).id,version:l.version,createTime:Ui(l.createTime)}),dt.resolve()}getNamedQuery(n,o){return dt.resolve(this.Xn.get(o))}saveNamedQuery(n,o){return this.Xn.set(o.name,{name:(l=o).name,query:Pu(l.bundledQuery),readTime:Ui(l.readTime)}),dt.resolve();var l}}class Qc{constructor(){this.Zn=new pr(ji.ts),this.es=new pr(ji.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,o){const l=new ji(n,o);this.Zn=this.Zn.add(l),this.es=this.es.add(l)}ss(n,o){n.forEach(l=>this.addReference(l,o))}removeReference(n,o){this.rs(new ji(n,o))}os(n,o){n.forEach(l=>this.removeReference(l,o))}cs(n){const o=new Yt(new yr([])),l=new ji(o,n),d=new ji(o,n+1),g=[];return this.es.forEachInRange([l,d],I=>{this.rs(I),g.push(I.key)}),g}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const o=new Yt(new yr([])),l=new ji(o,n),d=new ji(o,n+1);let g=Zn();return this.es.forEachInRange([l,d],I=>{g=g.add(I.key)}),g}containsKey(n){const o=new ji(n,0),l=this.Zn.firstAfterOrEqual(o);return null!==l&&n.isEqual(l.key)}}class ji{constructor(n,o){this.key=n,this.ls=o}static ts(n,o){return Yt.comparator(n.key,o.key)||Bt(n.ls,o.ls)}static ns(n,o){return Bt(n.ls,o.ls)||Yt.comparator(n.key,o.key)}}class Hf{constructor(n,o){this.Ht=n,this.referenceDelegate=o,this.In=[],this.fs=1,this.ds=new pr(ji.ts)}checkEmpty(n){return dt.resolve(0===this.In.length)}addMutationBatch(n,o,l,d){const g=this.fs;this.fs++;const I=new Xg(g,o,l,d);this.In.push(I);for(const k of d)this.ds=this.ds.add(new ji(k.key,g)),this.Ht.addToCollectionParentIndex(n,k.key.path.popLast());return dt.resolve(I)}lookupMutationBatch(n,o){return dt.resolve(this.ws(o))}getNextMutationBatchAfterBatchId(n,o){const d=this._s(o+1),g=d<0?0:d;return dt.resolve(this.In.length>g?this.In[g]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return dt.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,o){const l=new ji(o,0),d=new ji(o,Number.POSITIVE_INFINITY),g=[];return this.ds.forEachInRange([l,d],I=>{const k=this.ws(I.ls);g.push(k)}),dt.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(n,o){let l=new pr(Bt);return o.forEach(d=>{const g=new ji(d,0),I=new ji(d,Number.POSITIVE_INFINITY);this.ds.forEachInRange([g,I],k=>{l=l.add(k.ls)})}),dt.resolve(this.gs(l))}getAllMutationBatchesAffectingQuery(n,o){const l=o.path,d=l.length+1;let g=l;Yt.isDocumentKey(g)||(g=g.child(""));const I=new ji(new Yt(g),0);let k=new pr(Bt);return this.ds.forEachWhile(j=>{const X=j.key.path;return!!l.isPrefixOf(X)&&(X.length===d&&(k=k.add(j.ls)),!0)},I),dt.resolve(this.gs(k))}gs(n){const o=[];return n.forEach(l=>{const d=this.ws(l);null!==d&&o.push(d)}),o}removeMutationBatch(n,o){pn(0===this.ys(o.batchId,"removed")),this.In.shift();let l=this.ds;return dt.forEach(o.mutations,d=>{const g=new ji(d.key,o.batchId);return l=l.delete(g),this.referenceDelegate.markPotentiallyOrphaned(n,d.key)}).next(()=>{this.ds=l})}te(n){}containsKey(n,o){const l=new ji(o,0),d=this.ds.firstAfterOrEqual(l);return dt.resolve(o.isEqual(d&&d.key))}performConsistencyCheck(n){return dt.resolve()}ys(n,o){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const o=this._s(n);return o<0||o>=this.In.length?null:this.In[o]}}class Pw{constructor(n,o){this.Ht=n,this.ps=o,this.docs=new Ft(Yt.comparator),this.size=0}addEntry(n,o,l){const d=o.key,g=this.docs.get(d),I=g?g.size:0,k=this.ps(o);return this.docs=this.docs.insert(d,{document:o.clone(),size:k,readTime:l}),this.size+=k-I,this.Ht.addToCollectionParentIndex(n,d.path.popLast())}removeEntry(n){const o=this.docs.get(n);o&&(this.docs=this.docs.remove(n),this.size-=o.size)}getEntry(n,o){const l=this.docs.get(o);return dt.resolve(l?l.document.clone():Xn.newInvalidDocument(o))}getEntries(n,o){let l=ks();return o.forEach(d=>{const g=this.docs.get(d);l=l.insert(d,g?g.document.clone():Xn.newInvalidDocument(d))}),dt.resolve(l)}getDocumentsMatchingQuery(n,o,l){let d=ks();const g=new Yt(o.path.child("")),I=this.docs.getIteratorFrom(g);for(;I.hasNext();){const{key:k,value:{document:j,readTime:X}}=I.getNext();if(!o.path.isPrefixOf(k.path))break;X.compareTo(l)<=0||va(o,j)&&(d=d.insert(j.key,j.clone()))}return dt.resolve(d)}Es(n,o){return dt.forEach(this.docs,l=>o(l))}newChangeBuffer(n){return new mm(this)}getSize(n){return dt.resolve(this.size)}}class mm extends Kc{constructor(n){super(),this.Se=n}applyChanges(n){const o=[];return this.changes.forEach((l,d)=>{d.document.isValidDocument()?o.push(this.Se.addEntry(n,d.document,this.getReadTime(l))):this.Se.removeEntry(l)}),dt.waitFor(o)}getFromCache(n,o){return this.Se.getEntry(n,o)}getAllFromCache(n,o){return this.Se.getEntries(n,o)}}class kw{constructor(n){this.persistence=n,this.Ts=new au(o=>Tu(o),Hl),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.Is=0,this.As=new Qc,this.targetCount=0,this.Rs=ku.se()}forEachTarget(n,o){return this.Ts.forEach((l,d)=>o(d)),dt.resolve()}getLastRemoteSnapshotVersion(n){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return dt.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(n,o,l){return l&&(this.lastRemoteSnapshotVersion=l),o>this.Is&&(this.Is=o),dt.resolve()}ae(n){this.Ts.set(n.target,n);const o=n.targetId;o>this.highestTargetId&&(this.Rs=new ku(o),this.highestTargetId=o),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,o){return this.ae(o),this.targetCount+=1,dt.resolve()}updateTargetData(n,o){return this.ae(o),dt.resolve()}removeTargetData(n,o){return this.Ts.delete(o.target),this.As.cs(o.targetId),this.targetCount-=1,dt.resolve()}removeTargets(n,o,l){let d=0;const g=[];return this.Ts.forEach((I,k)=>{k.sequenceNumber<=o&&null===l.get(k.targetId)&&(this.Ts.delete(I),g.push(this.removeMatchingKeysForTargetId(n,k.targetId)),d++)}),dt.waitFor(g).next(()=>d)}getTargetCount(n){return dt.resolve(this.targetCount)}getTargetData(n,o){const l=this.Ts.get(o)||null;return dt.resolve(l)}addMatchingKeys(n,o,l){return this.As.ss(o,l),dt.resolve()}removeMatchingKeys(n,o,l){this.As.os(o,l);const d=this.persistence.referenceDelegate,g=[];return d&&o.forEach(I=>{g.push(d.markPotentiallyOrphaned(n,I))}),dt.waitFor(g)}removeMatchingKeysForTargetId(n,o){return this.As.cs(o),dt.resolve()}getMatchingKeysForTargetId(n,o){const l=this.As.hs(o);return dt.resolve(l)}containsKey(n,o){return dt.resolve(this.As.containsKey(o))}}class lu{constructor(n,o){this.bs={},this.Le=new Ct(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new kw(this),this.Ht=new Tf,this.He=new Pw(this.Ht,l=>this.referenceDelegate.Ps(l)),this.N=new Wd(o),this.Je=new uu(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let o=this.bs[n.toKey()];return o||(o=new Hf(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=o),o}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,o,l){_t("MemoryPersistence","Starting transaction:",n);const d=new Qd(this.Le.next());return this.referenceDelegate.vs(),l(d).next(g=>this.referenceDelegate.Vs(d).next(()=>g)).toPromise().then(g=>(d.raiseOnCommittedEvent(),g))}Ss(n,o){return dt.or(Object.values(this.bs).map(l=>()=>l.containsKey(n,o)))}}class Qd extends Yg{constructor(n){super(),this.currentSequenceNumber=n}}class uc{constructor(n){this.persistence=n,this.Ds=new Qc,this.Cs=null}static Ns(n){return new uc(n)}get xs(){if(this.Cs)return this.Cs;throw jt()}addReference(n,o,l){return this.Ds.addReference(l,o),this.xs.delete(l.toString()),dt.resolve()}removeReference(n,o,l){return this.Ds.removeReference(l,o),this.xs.add(l.toString()),dt.resolve()}markPotentiallyOrphaned(n,o){return this.xs.add(o.toString()),dt.resolve()}removeTarget(n,o){this.Ds.cs(o.targetId).forEach(d=>this.xs.add(d.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(n,o.targetId).next(d=>{d.forEach(g=>this.xs.add(g.toString()))}).next(()=>l.removeTargetData(n,o))}vs(){this.Cs=new Set}Vs(n){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.xs,l=>{const d=Yt.fromPath(l);return this.ks(n,d).next(g=>{g||o.removeEntry(d)})}).next(()=>(this.Cs=null,o.apply(n)))}updateLimboDocument(n,o){return this.ks(n,o).next(l=>{l?this.xs.delete(o.toString()):this.xs.add(o.toString())})}Ps(n){return 0}ks(n,o){return dt.or([()=>dt.resolve(this.Ds.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(n,o),()=>this.persistence.Ss(n,o)])}}function Jd(a,n){return`firestore_clients_${a}_${n}`}function m_(a,n,o){let l=`firestore_mutations_${a}_${o}`;return n.isAuthenticated()&&(l+=`_${n.uid}`),l}function $f(a,n){return`firestore_targets_${a}_${n}`}class Jc{constructor(n,o,l,d){this.user=n,this.batchId=o,this.state=l,this.error=d}static $s(n,o,l){const d=JSON.parse(l);let g,I="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return I&&d.error&&(I="string"==typeof d.error.message&&"string"==typeof d.error.code,I&&(g=new v(d.error.code,d.error.message))),I?new Jc(n,o,d.state,g):(Pr("SharedClientState",`Failed to parse mutation state for ID '${o}': ${l}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Xd{constructor(n,o,l){this.targetId=n,this.state=o,this.error=l}static $s(n,o){const l=JSON.parse(o);let d,g="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(d=new v(l.error.code,l.error.message))),g?new Xd(n,l.state,d):(Pr("SharedClientState",`Failed to parse target state for ID '${n}': ${o}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class eh{constructor(n,o){this.clientId=n,this.activeTargetIds=o}static $s(n,o){const l=JSON.parse(o);let d="object"==typeof l&&l.activeTargetIds instanceof Array,g=Mu();for(let I=0;d&&I<l.activeTargetIds.length;++I)d=Iu(l.activeTargetIds[I]),g=g.add(l.activeTargetIds[I]);return d?new eh(n,g):(Pr("SharedClientState",`Failed to parse client data for instance '${n}': ${o}`),null)}}class ym{constructor(n,o){this.clientId=n,this.onlineState=o}static $s(n){const o=JSON.parse(n);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new ym(o.clientId,o.onlineState):(Pr("SharedClientState",`Failed to parse online state: ${n}`),null)}}class th{constructor(){this.activeTargetIds=Mu()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class nh{constructor(n,o,l,d,g){this.window=n,this.Oe=o,this.persistenceKey=l,this.Ls=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Ft(Bt),this.started=!1,this.Ks=[];const I=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.js=Jd(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new th),this.Ws=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(k){return`firestore_bundle_loaded_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,oe.Z)(function*(){const o=yield n.syncEngine.pn();for(const d of o){if(d===n.Ls)continue;const g=n.getItem(Jd(n.persistenceKey,d));if(g){const I=eh.$s(d,g);I&&(n.qs=n.qs.insert(I.clientId,I))}}n.Ys();const l=n.storage.getItem(n.Hs);if(l){const d=n.Xs(l);d&&n.Zs(d)}for(const d of n.Ks)n.Us(d);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let o=!1;return this.qs.forEach((l,d)=>{d.activeTargetIds.has(n)&&(o=!0)}),o}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,o,l){this.ei(n,o,l),this.ni(n)}addLocalQueryTarget(n){let o="not-current";if(this.isActiveQueryTarget(n)){const l=this.storage.getItem($f(this.persistenceKey,n));if(l){const d=Xd.$s(n,l);d&&(o=d.state)}}return this.si.Fs(n),this.Ys(),o}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem($f(this.persistenceKey,n))}updateQueryState(n,o,l){this.ii(n,o,l)}handleUserChange(n,o,l){o.forEach(d=>{this.ni(d)}),this.currentUser=n,l.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const o=this.storage.getItem(n);return _t("SharedClientState","READ",n,o),o}setItem(n,o){_t("SharedClientState","SET",n,o),this.storage.setItem(n,o)}removeItem(n){_t("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var o=this;const l=n;if(l.storageArea===this.storage){if(_t("SharedClientState","EVENT",l.key,l.newValue),l.key===this.js)return void Pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,oe.Z)(function*(){if(o.started){if(null!==l.key)if(o.Ws.test(l.key)){if(null==l.newValue){const d=o.ai(l.key);return o.ci(d,null)}{const d=o.ui(l.key,l.newValue);if(d)return o.ci(d.clientId,d)}}else if(o.Gs.test(l.key)){if(null!==l.newValue){const d=o.hi(l.key,l.newValue);if(d)return o.li(d)}}else if(o.zs.test(l.key)){if(null!==l.newValue){const d=o.fi(l.key,l.newValue);if(d)return o.di(d)}}else if(l.key===o.Hs){if(null!==l.newValue){const d=o.Xs(l.newValue);if(d)return o.Zs(d)}}else if(l.key===o.Qs){const d=function(g){let I=Ct.T;if(null!=g)try{const k=JSON.parse(g);pn("number"==typeof k),I=k}catch(k){Pr("SharedClientState","Failed to read sequence number from WebStorage",k)}return I}(l.newValue);d!==Ct.T&&o.sequenceNumberHandler(d)}else if(l.key===o.Js)return o.syncEngine.wi()}else o.Ks.push(l)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,o,l){const d=new Jc(this.currentUser,n,o,l),g=m_(this.persistenceKey,this.currentUser,n);this.setItem(g,d.Os())}ni(n){const o=m_(this.persistenceKey,this.currentUser,n);this.removeItem(o)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,o,l){const d=$f(this.persistenceKey,n),g=new Xd(n,o,l);this.setItem(d,g.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const o=this.Ws.exec(n);return o?o[1]:null}ui(n,o){const l=this.ai(n);return eh.$s(l,o)}hi(n,o){const l=this.Gs.exec(n),d=Number(l[1]);return Jc.$s(new li(void 0!==l[2]?l[2]:null),d,o)}fi(n,o){const l=this.zs.exec(n),d=Number(l[1]);return Xd.$s(d,o)}Xs(n){return ym.$s(n)}li(n){var o=this;return(0,oe.Z)(function*(){if(n.user.uid===o.currentUser.uid)return o.syncEngine._i(n.batchId,n.state,n.error);_t("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,o){const l=o?this.qs.insert(n,o):this.qs.remove(n),d=this.ti(this.qs),g=this.ti(l),I=[],k=[];return g.forEach(j=>{d.has(j)||I.push(j)}),d.forEach(j=>{g.has(j)||k.push(j)}),this.syncEngine.gi(I,k).then(()=>{this.qs=l})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let o=Mu();return n.forEach((l,d)=>{o=o.unionWith(d.activeTargetIds)}),o}}class _m{constructor(){this.yi=new th,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,o,l){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,o,l){this.pi[n]=o}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new th,Promise.resolve()}handleUserChange(n,o,l){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class Gf{Ei(n){}shutdown(){}}class y_{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){_t("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){_t("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Fw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Lw{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class Vw extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,o,l,d){const g=this.Bi(n,o);_t("RestConnection","Sending: ",g,l);const I={};return this.Ui(I,d),this.qi(n,g,I,l).then(k=>(_t("RestConnection","Received: ",k),k),k=>{throw Js("RestConnection",`${n} failed with error: `,k,"url: ",g,"request:",l),k})}Ki(n,o,l,d){return this.Li(n,o,l,d)}Ui(n,o){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+Go,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o)for(const l in o.authHeaders)o.authHeaders.hasOwnProperty(l)&&(n[l]=o.authHeaders[l])}Bi(n,o){return`${this.Fi}/v1/${o}:${Fw[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,o,l,d){return new Promise((g,I)=>{const k=new Qs;k.listenOnce(co.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case Ho.NO_ERROR:const X=k.getResponseJson();_t("Connection","XHR received:",JSON.stringify(X)),g(X);break;case Ho.TIMEOUT:_t("Connection",'RPC "'+n+'" timed out'),I(new v(C.DEADLINE_EXCEEDED,"Request time out"));break;case Ho.HTTP_ERROR:const ue=k.getStatus();if(_t("Connection",'RPC "'+n+'" failed with status:',ue,"response text:",k.getResponseText()),ue>0){const De=k.getResponseJson().error;if(De&&De.status&&De.message){const Je=function(at){const Dt=at.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(Dt)>=0?Dt:C.UNKNOWN}(De.status);I(new v(Je,De.message))}else I(new v(C.UNKNOWN,"Server responded with status "+k.getStatus()))}else I(new v(C.UNAVAILABLE,"Connection failed."));break;default:jt()}}finally{_t("Connection",'RPC "'+n+'" completed.')}});const j=JSON.stringify(d);k.send(o,"POST",j,l,15)})}ji(n,o){const l=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],d=new fa,g=Xi(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(I.xmlHttpFactory=new ho({})),this.Ui(I.initMessageHeaders,o),(0,gt.uI)()||(0,gt.b$)()||(0,gt.d)()||(0,gt.w1)()||(0,gt.Mn)()||(0,gt.ru)()||(I.httpHeadersOverwriteParam="$httpHeaders");const k=l.join("");_t("Connection","Creating WebChannel: "+k,I);const j=d.createWebChannel(k,I);let X=!1,ue=!1;const De=new Lw({vi:at=>{ue?_t("Connection","Not sending because WebChannel is closed:",at):(X||(_t("Connection","Opening WebChannel transport."),j.open(),X=!0),_t("Connection","WebChannel sending:",at),j.send(at))},Vi:()=>j.close()}),Je=(at,Dt,tn)=>{at.listen(Dt,On=>{try{tn(On)}catch(fi){setTimeout(()=>{throw fi},0)}})};return Je(j,Ga.EventType.OPEN,()=>{ue||_t("Connection","WebChannel transport opened.")}),Je(j,Ga.EventType.CLOSE,()=>{ue||(ue=!0,_t("Connection","WebChannel transport closed"),De.$i())}),Je(j,Ga.EventType.ERROR,at=>{ue||(ue=!0,Js("Connection","WebChannel transport errored:",at),De.$i(new v(C.UNAVAILABLE,"The operation could not be completed")))}),Je(j,Ga.EventType.MESSAGE,at=>{var Dt;if(!ue){const tn=at.data[0];pn(!!tn);const On=tn,fi=On.error||(null===(Dt=On[0])||void 0===Dt?void 0:Dt.error);if(fi){_t("Connection","WebChannel received error:",fi);const Ts=fi.status;let Ma=function(bd){const Gh=J[bd];if(void 0!==Gh)return Ht(Gh)}(Ts),Bo=fi.message;void 0===Ma&&(Ma=C.INTERNAL,Bo="Unknown error status: "+Ts+" with message "+fi.message),ue=!0,De.$i(new v(Ma,Bo)),j.close()}else _t("Connection","WebChannel received:",tn),De.Oi(tn)}}),Je(g,Ul.STAT_EVENT,at=>{at.stat===Ys_PROXY?_t("Connection","Detected buffering proxy"):at.stat===Ys_NOPROXY&&_t("Connection","Detected no buffering proxy")}),setTimeout(()=>{De.ki()},0),De}}function __(){return"undefined"!=typeof window?window:null}function qf(){return"undefined"!=typeof document?document:null}function rh(a){return new e_(a,!0)}class vm{constructor(n,o,l=1e3,d=1.5,g=6e4){this.Oe=n,this.timerId=o,this.Qi=l,this.Wi=d,this.Gi=g,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const o=Math.floor(this.zi+this.Zi()),l=Math.max(0,Date.now()-this.Ji),d=Math.max(0,o-l);d>0&&_t("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.zi} ms, delay with jitter: ${o} ms, last attempt: ${l} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,d,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class v_{constructor(n,o,l,d,g,I){this.Oe=n,this.er=l,this.nr=d,this.credentialsProvider=g,this.listener=I,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new vm(n,o)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,oe.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,oe.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,o){var l=this;return(0,oe.Z)(function*(){l._r(),l.rr.cancel(),l.sr++,3!==n?l.rr.reset():o&&o.code===C.RESOURCE_EXHAUSTED?(Pr(o.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),l.rr.Yi()):o&&o.code===C.UNAUTHENTICATED&&l.credentialsProvider.invalidateToken(),null!==l.stream&&(l.mr(),l.stream.close(),l.stream=null),l.state=n,yield l.listener.Ci(o)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),o=this.sr;this.credentialsProvider.getToken().then(l=>{this.sr===o&&this.yr(l)},l=>{n(()=>{const d=new v(C.UNKNOWN,"Fetching auth token failed: "+l.message);return this.pr(d)})})}yr(n){const o=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{o(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(l=>{o(()=>this.pr(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}ur(){var n=this;this.state=4,this.rr.Xi((0,oe.Z)(function*(){n.state=0,n.start()}))}pr(n){return _t("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return o=>{this.Oe.enqueueAndForget(()=>this.sr===n?o():(_t("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uw extends v_{constructor(n,o,l,d,g){super(n,"listen_stream_connection_backoff","listen_stream_idle",o,l,g),this.N=d}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const o=function(a,n){let o;if("targetChange"in n){const l="NO_CHANGE"===(j=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:jt(),d=n.targetChange.targetIds||[],g=function(j,X){return j.D?(pn(void 0===X||"string"==typeof X),di.fromBase64String(X||"")):(pn(void 0===X||X instanceof Uint8Array),di.fromUint8Array(X||new Uint8Array))}(a,n.targetChange.resumeToken),I=n.targetChange.cause,k=I&&function(j){const X=void 0===j.code?C.UNKNOWN:Ht(j.code);return new v(X,j.message||"")}(I);o=new Jy(l,d,g,k||null)}else if("documentChange"in n){const l=n.documentChange,d=Ea(a,l.document.name),g=Ui(l.document.updateTime),I=new ds({mapValue:{fields:l.document.fields}}),k=Xn.newFoundDocument(d,g,I);o=new Bc(l.targetIds||[],l.removedTargetIds||[],k.key,k)}else if("documentDelete"in n){const l=n.documentDelete,d=Ea(a,l.document),g=l.readTime?Ui(l.readTime):Xt.min(),I=Xn.newNoDocument(d,g);o=new Bc([],l.removedTargetIds||[],I.key,I)}else if("documentRemove"in n){const l=n.documentRemove,d=Ea(a,l.document);o=new Bc([],l.removedTargetIds||[],d,null)}else{if(!("filter"in n))return jt();{const l=n.filter,g=new q(l.count||0);o=new Qy(l.targetId,g)}}var j;return o}(this.N,n),l=function(d){if(!("targetChange"in d))return Xt.min();const g=d.targetChange;return g.targetIds&&g.targetIds.length?Xt.min():g.readTime?Ui(g.readTime):Xt.min()}(n);return this.listener.Tr(o,l)}Ir(n){const o={};o.database=Hc(this.N),o.addTarget=function(d,g){let I;const k=g.target;return I=$l(k)?{documents:i_(d,k)}:{query:Ql(d,k)},I.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?I.resumeToken=Bg(d,g.resumeToken):g.snapshotVersion.compareTo(Xt.min())>0&&(I.readTime=jc(d,g.snapshotVersion.toTimestamp())),I}(this.N,n);const l=function(a,n){const o=function(l,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return jt()}}(0,n.purpose);return null==o?null:{"goog-listen-tags":o}}(0,n);l&&(o.labels=l),this.wr(o)}Ar(n){const o={};o.database=Hc(this.N),o.removeTarget=n,this.wr(o)}}class Bw extends v_{constructor(n,o,l,d,g){super(n,"write_stream_connection_backoff","write_stream_idle",o,l,g),this.N=d,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(pn(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const o=function(a,n){return a&&a.length>0?(pn(void 0!==n),a.map(o=>function(l,d){let g=Ui(l.updateTime?l.updateTime:d);return g.isEqual(Xt.min())&&(g=Ui(d)),new _l(g,l.transformResults||[])}(o,n))):[]}(n.writeResults,n.commitTime),l=Ui(n.commitTime);return this.listener.vr(l,o)}return pn(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=Hc(this.N),this.wr(n)}Pr(n){const o={streamToken:this.lastStreamToken,writes:n.map(l=>qd(this.N,l))};this.wr(o)}}class Lu extends class{}{constructor(n,o,l){super(),this.credentials=n,this.nr=o,this.N=l,this.Dr=!1}Cr(){if(this.Dr)throw new v(C.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,o,l){return this.Cr(),this.credentials.getToken().then(d=>this.nr.Li(n,o,l,d)).catch(d=>{throw"FirebaseError"===d.name?(d.code===C.UNAUTHENTICATED&&this.credentials.invalidateToken(),d):new v(C.UNKNOWN,d.toString())})}Ki(n,o,l){return this.Cr(),this.credentials.getToken().then(d=>this.nr.Ki(n,o,l,d)).catch(d=>{throw"FirebaseError"===d.name?(d.code===C.UNAUTHENTICATED&&this.credentials.invalidateToken(),d):new v(C.UNKNOWN,d.toString())})}terminate(){this.Dr=!0}}class zf{constructor(n,o){this.asyncQueue=n,this.onlineStateHandler=o,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const o=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Pr(o),this.$r=!1):_t("OnlineStateTracker",o)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class w_{constructor(n,o,l,d,g){var I=this;this.localStore=n,this.datastore=o,this.asyncQueue=l,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=g,this.Qr.Ei(k=>{l.enqueueAndForget((0,oe.Z)(function*(){var j;Vu(I)&&(_t("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,oe.Z)(function*(X){const ue=Ot(X);ue.Kr.add(4),yield Al(ue),ue.Wr.set("Unknown"),ue.Kr.delete(4),yield lc(ue)}),function(X){return j.apply(this,arguments)})(I))}))}),this.Wr=new zf(l,d)}}function lc(a){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,oe.Z)(function*(a){if(Vu(a))for(const n of a.jr)yield n(!0)})).apply(this,arguments)}function Al(a){return ed.apply(this,arguments)}function ed(){return(ed=(0,oe.Z)(function*(a){for(const n of a.jr)yield n(!1)})).apply(this,arguments)}function ih(a,n){const o=Ot(a);o.qr.has(n.targetId)||(o.qr.set(n.targetId,n),td(o)?bm(o):cc(o).cr()&&sh(o,n))}function ko(a,n){const o=Ot(a),l=cc(o);o.qr.delete(n),l.cr()&&wm(o,n),0===o.qr.size&&(l.cr()?l.lr():Vu(o)&&o.Wr.set("Unknown"))}function sh(a,n){a.Gr.Y(n.targetId),cc(a).Ir(n)}function wm(a,n){a.Gr.Y(n),cc(a).Ar(n)}function bm(a){a.Gr=new ff({getRemoteKeysForTarget:n=>a.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>a.qr.get(n)||null}),cc(a).start(),a.Wr.Or()}function td(a){return Vu(a)&&!cc(a).ar()&&a.qr.size>0}function Vu(a){return 0===Ot(a).Kr.size}function Wf(a){a.Gr=void 0}function b_(a){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,oe.Z)(function*(a){a.qr.forEach((n,o)=>{sh(a,n)})})).apply(this,arguments)}function nd(a,n){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,oe.Z)(function*(a,n){Wf(a),td(a)?(a.Wr.Lr(n),bm(a)):a.Wr.set("Unknown")})).apply(this,arguments)}function Kf(a,n,o){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,oe.Z)(function*(a,n,o){if(a.Wr.set("Online"),n instanceof Jy&&2===n.state&&n.cause)try{yield(l=(0,oe.Z)(function*(d,g){const I=g.cause;for(const k of g.targetIds)d.qr.has(k)&&(yield d.remoteSyncer.rejectListen(k,I),d.qr.delete(k),d.Gr.removeTarget(k))}),function(d,g){return l.apply(this,arguments)})(a,n)}catch(l){_t("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),l),yield ju(a,l)}else if(n instanceof Bc?a.Gr.rt(n):n instanceof Qy?a.Gr.ft(n):a.Gr.ct(n),!o.isEqual(Xt.min()))try{const l=yield fm(a.localStore);o.compareTo(l)>=0&&(yield function(d,g){const I=d.Gr._t(g);return I.targetChanges.forEach((k,j)=>{if(k.resumeToken.approximateByteSize()>0){const X=d.qr.get(j);X&&d.qr.set(j,X.withResumeToken(k.resumeToken,g))}}),I.targetMismatches.forEach(k=>{const j=d.qr.get(k);if(!j)return;d.qr.set(k,j.withResumeToken(di.EMPTY_BYTE_STRING,j.snapshotVersion)),wm(d,k);const X=new Da(j.target,k,1,j.sequenceNumber);sh(d,X)}),d.remoteSyncer.applyRemoteEvent(I)}(a,o))}catch(l){_t("RemoteStore","Failed to raise snapshot:",l),yield ju(a,l)}var l})).apply(this,arguments)}function ju(a,n,o){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,oe.Z)(function*(a,n,o){if(!El(n))throw n;a.Kr.add(1),yield Al(a),a.Wr.set("Offline"),o||(o=()=>fm(a.localStore)),a.asyncQueue.enqueueRetryable((0,oe.Z)(function*(){_t("RemoteStore","Retrying IndexedDB access"),yield o(),a.Kr.delete(1),yield lc(a)}))})).apply(this,arguments)}function Em(a,n){return n().catch(o=>ju(a,o,n))}function Sl(a){return oh.apply(this,arguments)}function oh(){return(oh=(0,oe.Z)(function*(a){const n=Ot(a),o=$u(n);let l=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;Yf(n);)try{const d=yield p_(n.localStore,l);if(null===d){0===n.Ur.length&&o.lr();break}l=d.batchId,Qf(n,d)}catch(d){yield ju(n,d)}Jf(n)&&rd(n)})).apply(this,arguments)}function Yf(a){return Vu(a)&&a.Ur.length<10}function Qf(a,n){a.Ur.push(n);const o=$u(a);o.cr()&&o.br&&o.Pr(n.mutations)}function Jf(a){return Vu(a)&&!$u(a).ar()&&a.Ur.length>0}function rd(a){$u(a).start()}function E_(a){return ah.apply(this,arguments)}function ah(){return(ah=(0,oe.Z)(function*(a){$u(a).Sr()})).apply(this,arguments)}function jw(a){return uh.apply(this,arguments)}function uh(){return(uh=(0,oe.Z)(function*(a){const n=$u(a);for(const o of a.Ur)n.Pr(o.mutations)})).apply(this,arguments)}function Cm(a,n,o){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,oe.Z)(function*(a,n,o){const l=a.Ur.shift(),d=No.from(l,n,o);yield Em(a,()=>a.remoteSyncer.applySuccessfulWrite(d)),yield Sl(a)})).apply(this,arguments)}function Im(a,n){return ep.apply(this,arguments)}function ep(){return(ep=(0,oe.Z)(function*(a,n){var o;n&&$u(a).br&&(yield(o=(0,oe.Z)(function*(l,d){if(ft(g=d.code)&&g!==C.ABORTED){const I=l.Ur.shift();$u(l).hr(),yield Em(l,()=>l.remoteSyncer.rejectFailedWrite(I.batchId,d)),yield Sl(l)}var g}),function(l,d){return o.apply(this,arguments)})(a,n)),Jf(a)&&rd(a)})).apply(this,arguments)}function tp(a,n){return Us.apply(this,arguments)}function Us(){return(Us=(0,oe.Z)(function*(a,n){const o=Ot(a);n?(o.Kr.delete(2),yield lc(o)):n||(o.Kr.add(2),yield Al(o),o.Wr.set("Unknown"))})).apply(this,arguments)}function cc(a){return a.zr||(a.zr=function(n,o,l){const d=Ot(n);return d.Cr(),new Uw(o,d.nr,d.credentials,d.N,l)}(a.datastore,a.asyncQueue,{Si:b_.bind(null,a),Ci:nd.bind(null,a),Tr:Kf.bind(null,a)}),a.jr.push(function(){var n=(0,oe.Z)(function*(o){o?(a.zr.hr(),td(a)?bm(a):a.Wr.set("Unknown")):(yield a.zr.stop(),Wf(a))});return function(o){return n.apply(this,arguments)}}())),a.zr}function $u(a){return a.Hr||(a.Hr=function(n,o,l){const d=Ot(n);return d.Cr(),new Bw(o,d.nr,d.credentials,d.N,l)}(a.datastore,a.asyncQueue,{Si:E_.bind(null,a),Ci:Im.bind(null,a),Vr:jw.bind(null,a),vr:Cm.bind(null,a)}),a.jr.push(function(){var n=(0,oe.Z)(function*(o){o?(a.Hr.hr(),yield Sl(a)):(yield a.Hr.stop(),a.Ur.length>0&&(_t("RemoteStore",`Stopping write stream with ${a.Ur.length} pending writes`),a.Ur=[]))});return function(o){return n.apply(this,arguments)}}())),a.Hr}class Dm{constructor(n,o,l,d,g){this.asyncQueue=n,this.timerId=o,this.targetTimeMs=l,this.op=d,this.removalCallback=g,this.deferred=new b,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}static createAndSchedule(n,o,l,d,g){const I=Date.now()+l,k=new Dm(n,o,I,d,g);return k.start(l),k}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new v(C.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function id(a,n){if(Pr("AsyncQueue",`${n}: ${a}`),El(a))return new v(C.UNAVAILABLE,`${n}: ${a}`);throw a}class xl{constructor(n){this.comparator=n?(o,l)=>n(o,l)||Yt.comparator(o.key,l.key):(o,l)=>Yt.comparator(o.key,l.key),this.keyedMap=Vc(),this.sortedSet=new Ft(this.comparator)}static emptySet(n){return new xl(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const o=this.keyedMap.get(n);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((o,l)=>(n(o),!1))}add(n){const o=this.delete(n.key);return o.copy(o.keyedMap.insert(n.key,n),o.sortedSet.insert(n,null))}delete(n){const o=this.get(n);return o?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(o)):this}isEqual(n){if(!(n instanceof xl)||this.size!==n.size)return!1;const o=this.sortedSet.getIterator(),l=n.sortedSet.getIterator();for(;o.hasNext();){const d=o.getNext().key,g=l.getNext().key;if(!d.isEqual(g))return!1}return!0}toString(){const n=[];return this.forEach(o=>{n.push(o.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,o){const l=new xl;return l.comparator=this.comparator,l.keyedMap=n,l.sortedSet=o,l}}class C_{constructor(){this.Jr=new Ft(Yt.comparator)}track(n){const o=n.doc.key,l=this.Jr.get(o);l?0!==n.type&&3===l.type?this.Jr=this.Jr.insert(o,n):3===n.type&&1!==l.type?this.Jr=this.Jr.insert(o,{type:l.type,doc:n.doc}):2===n.type&&2===l.type?this.Jr=this.Jr.insert(o,{type:2,doc:n.doc}):2===n.type&&0===l.type?this.Jr=this.Jr.insert(o,{type:0,doc:n.doc}):1===n.type&&0===l.type?this.Jr=this.Jr.remove(o):1===n.type&&2===l.type?this.Jr=this.Jr.insert(o,{type:1,doc:l.doc}):0===n.type&&1===l.type?this.Jr=this.Jr.insert(o,{type:2,doc:n.doc}):jt():this.Jr=this.Jr.insert(o,n)}Yr(){const n=[];return this.Jr.inorderTraversal((o,l)=>{n.push(l)}),n}}class dc{constructor(n,o,l,d,g,I,k,j){this.query=n,this.docs=o,this.oldDocs=l,this.docChanges=d,this.mutatedKeys=g,this.fromCache=I,this.syncStateChanged=k,this.excludesMetadataChanges=j}static fromInitialDocuments(n,o,l,d){const g=[];return o.forEach(I=>{g.push({type:0,doc:I})}),new dc(n,o,xl.emptySet(o),g,l,d,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&ql(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const o=this.docChanges,l=n.docChanges;if(o.length!==l.length)return!1;for(let d=0;d<o.length;d++)if(o[d].type!==l[d].type||!o[d].doc.isEqual(l[d].doc))return!1;return!0}}class np{constructor(){this.Xr=void 0,this.listeners=[]}}class Tm{constructor(){this.queries=new au(n=>Ao(n),ql),this.onlineState="Unknown",this.Zr=new Set}}function rp(a,n){return ip.apply(this,arguments)}function ip(){return(ip=(0,oe.Z)(function*(a,n){const o=Ot(a),l=n.query;let d=!1,g=o.queries.get(l);if(g||(d=!0,g=new np),d)try{g.Xr=yield o.onListen(l)}catch(I){const k=id(I,`Initialization of query '${fo(n.query)}' failed`);return void n.onError(k)}o.queries.set(l,g),g.listeners.push(n),n.eo(o.onlineState),g.Xr&&n.no(g.Xr)&&op(o)})).apply(this,arguments)}function sp(a,n){return lh.apply(this,arguments)}function lh(){return(lh=(0,oe.Z)(function*(a,n){const o=Ot(a),l=n.query;let d=!1;const g=o.queries.get(l);if(g){const I=g.listeners.indexOf(n);I>=0&&(g.listeners.splice(I,1),d=0===g.listeners.length)}if(d)return o.queries.delete(l),o.onUnlisten(l)})).apply(this,arguments)}function I_(a,n){const o=Ot(a);let l=!1;for(const d of n){const I=o.queries.get(d.query);if(I){for(const k of I.listeners)k.no(d)&&(l=!0);I.Xr=d}}l&&op(o)}function Am(a,n,o){const l=Ot(a),d=l.queries.get(n);if(d)for(const g of d.listeners)g.onError(o);l.queries.delete(n)}function op(a){a.Zr.forEach(n=>{n.next()})}class ap{constructor(n,o,l){this.query=n,this.so=o,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=l||{}}no(n){if(!this.options.includeMetadataChanges){const l=[];for(const d of n.docChanges)3!==d.type&&l.push(d);n=new dc(n.query,n.docs,n.oldDocs,l,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let o=!1;return this.io?this.oo(n)&&(this.so.next(n),o=!0):this.ao(n,this.onlineState)&&(this.co(n),o=!0),this.ro=n,o}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let o=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),o=!0),o}ao(n,o){return!n.fromCache||!(this.options.uo&&"Offline"!==o||n.docs.isEmpty()&&"Offline"!==o)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=dc.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class Sm{constructor(n,o){this.payload=n,this.byteLength=o}ho(){return"metadata"in this.payload}}class up{constructor(n){this.N=n}zn(n){return Ea(this.N,n)}Hn(n){return n.metadata.exists?Hg(this.N,n.document,!1):Xn.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return Ui(n)}}class D_{constructor(n,o,l){this.lo=n,this.localStore=o,this.N=l,this.queries=[],this.documents=[],this.progress=na(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let o=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++o):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++o),o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}wo(n){const o=new Map,l=new up(this.N);for(const d of n)if(d.metadata.queries){const g=l.zn(d.metadata.name);for(const I of d.metadata.queries){const k=(o.get(I)||Zn()).add(g);o.set(I,k)}}return o}complete(){var n=this;return(0,oe.Z)(function*(){const o=yield function(a,n,o,l){return Yd.apply(this,arguments)}(n.localStore,new up(n.N),n.documents,n.lo.id),l=n.wo(n.documents);for(const d of n.queries)yield g_(n.localStore,d,l.get(d.name));return n.progress.taskState="Success",new Rw(Object.assign({},n.progress),o)})()}}function na(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class ch{constructor(n){this.key=n}}class xm{constructor(n){this.key=n}}class Mm{constructor(n,o){this.query=n,this._o=o,this.mo=null,this.current=!1,this.yo=Zn(),this.mutatedKeys=Zn(),this.po=Qo(n),this.Eo=new xl(this.po)}get To(){return this._o}Io(n,o){const l=o?o.Ao:new C_,d=o?o.Eo:this.Eo;let g=o?o.mutatedKeys:this.mutatedKeys,I=d,k=!1;const j=Vr(this.query)&&d.size===this.query.limit?d.last():null,X=pl(this.query)&&d.size===this.query.limit?d.first():null;if(n.inorderTraversal((ue,De)=>{const Je=d.get(ue),at=va(this.query,De)?De:null,Dt=!!Je&&this.mutatedKeys.has(Je.key),tn=!!at&&(at.hasLocalMutations||this.mutatedKeys.has(at.key)&&at.hasCommittedMutations);let On=!1;Je&&at?Je.data.isEqual(at.data)?Dt!==tn&&(l.track({type:3,doc:at}),On=!0):this.Ro(Je,at)||(l.track({type:2,doc:at}),On=!0,(j&&this.po(at,j)>0||X&&this.po(at,X)<0)&&(k=!0)):!Je&&at?(l.track({type:0,doc:at}),On=!0):Je&&!at&&(l.track({type:1,doc:Je}),On=!0,(j||X)&&(k=!0)),On&&(at?(I=I.add(at),g=tn?g.add(ue):g.delete(ue)):(I=I.delete(ue),g=g.delete(ue)))}),Vr(this.query)||pl(this.query))for(;I.size>this.query.limit;){const ue=Vr(this.query)?I.last():I.first();I=I.delete(ue.key),g=g.delete(ue.key),l.track({type:1,doc:ue})}return{Eo:I,Ao:l,Ln:k,mutatedKeys:g}}Ro(n,o){return n.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(n,o,l){const d=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const g=n.Ao.Yr();g.sort((X,ue)=>function(De,Je){const at=Dt=>{switch(Dt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt()}};return at(De)-at(Je)}(X.type,ue.type)||this.po(X.doc,ue.doc)),this.bo(l);const I=o?this.Po():[],k=0===this.yo.size&&this.current?1:0,j=k!==this.mo;return this.mo=k,0!==g.length||j?{snapshot:new dc(this.query,n.Eo,d,g,n.mutatedKeys,0===k,j,!1),vo:I}:{vo:I}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new C_,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(o=>this._o=this._o.add(o)),n.modifiedDocuments.forEach(o=>{}),n.removedDocuments.forEach(o=>this._o=this._o.delete(o)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=Zn(),this.Eo.forEach(l=>{this.Vo(l.key)&&(this.yo=this.yo.add(l.key))});const o=[];return n.forEach(l=>{this.yo.has(l)||o.push(new xm(l))}),this.yo.forEach(l=>{n.has(l)||o.push(new ch(l))}),o}So(n){this._o=n.Gn,this.yo=Zn();const o=this.Io(n.documents);return this.applyChanges(o,!0)}Do(){return dc.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Hw{constructor(n,o,l){this.query=n,this.targetId=o,this.view=l}}class Om{constructor(n){this.key=n,this.Co=!1}}class T_{constructor(n,o,l,d,g,I){this.localStore=n,this.remoteStore=o,this.eventManager=l,this.sharedClientState=d,this.currentUser=g,this.maxConcurrentLimboResolutions=I,this.No={},this.xo=new au(k=>Ao(k),ql),this.ko=new Map,this.$o=new Set,this.Oo=new Ft(Yt.comparator),this.Fo=new Map,this.Mo=new Qc,this.Lo={},this.Bo=new Map,this.Uo=ku.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function A_(a,n){return lp.apply(this,arguments)}function lp(){return(lp=(0,oe.Z)(function*(a,n){const o=Ep(a);let l,d;const g=o.xo.get(n);if(g)l=g.targetId,o.sharedClientState.addLocalQueryTarget(l),d=g.view.Do();else{const I=yield Tl(o.localStore,Ps(n)),k=o.sharedClientState.addLocalQueryTarget(I.targetId);l=I.targetId,d=yield sd(o,n,l,"current"===k),o.isPrimaryClient&&ih(o.remoteStore,I)}return d})).apply(this,arguments)}function sd(a,n,o,l){return cp.apply(this,arguments)}function cp(){return(cp=(0,oe.Z)(function*(a,n,o,l){a.Ko=(ue,De,Je)=>{return(at=(0,oe.Z)(function*(Dt,tn,On,fi){let Ts=tn.view.Io(On);Ts.Ln&&(Ts=yield Kd(Dt.localStore,tn.query,!1).then(({documents:bd})=>tn.view.Io(bd,Ts)));const Ma=fi&&fi.targetChanges.get(tn.targetId),Bo=tn.view.applyChanges(Ts,Dt.isPrimaryClient,Ma);return mp(Dt,tn.targetId,Bo.vo),Bo.snapshot}),function(Dt,tn,On,fi){return at.apply(this,arguments)})(a,ue,De,Je);var at};const d=yield Kd(a.localStore,n,!0),g=new Mm(n,d.Gn),I=g.Io(d.documents),k=ba.createSynthesizedTargetChangeForCurrentChange(o,l&&"Offline"!==a.onlineState),j=g.applyChanges(I,a.isPrimaryClient,k);mp(a,o,j.vo);const X=new Hw(n,o,g);return a.xo.set(n,X),a.ko.has(o)?a.ko.get(o).push(n):a.ko.set(o,[n]),j.snapshot})).apply(this,arguments)}function S_(a,n){return hc.apply(this,arguments)}function hc(){return(hc=(0,oe.Z)(function*(a,n){const o=Ot(a),l=o.xo.get(n),d=o.ko.get(l.targetId);if(d.length>1)return o.ko.set(l.targetId,d.filter(g=>!ql(g,n))),void o.xo.delete(n);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(l.targetId),o.sharedClientState.isActiveQueryTarget(l.targetId)||(yield oc(o.localStore,l.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(l.targetId),ko(o.remoteStore,l.targetId),ro(o,l.targetId)}).catch(Dl))):(ro(o,l.targetId),yield oc(o.localStore,l.targetId,!0))})).apply(this,arguments)}function hp(){return(hp=(0,oe.Z)(function*(a,n,o){const l=Cp(a);try{const d=yield function(g,I){const k=Ot(g),j=lr.now(),X=I.reduce((De,Je)=>De.add(Je.key),Zn());let ue;return k.persistence.runTransaction("Locally write mutations","readwrite",De=>k.Qn.Pn(De,X).next(Je=>{ue=Je;const at=[];for(const Dt of I){const tn=Pc(Dt,ue.get(Dt.key));null!=tn&&at.push(new Es(Dt.key,tn,al(tn.value.mapValue),Ur.exists(!0)))}return k.In.addMutationBatch(De,j,at,I)})).then(De=>(De.applyToLocalDocumentSet(ue),{batchId:De.batchId,changes:ue}))}(l.localStore,n);l.sharedClientState.addPendingMutation(d.batchId),function(g,I,k){let j=g.Lo[g.currentUser.toKey()];j||(j=new Ft(Bt)),j=j.insert(I,k),g.Lo[g.currentUser.toKey()]=j}(l,d.batchId,o),yield io(l,d.changes),yield Sl(l.remoteStore)}catch(d){const g=id(d,"Failed to persist write");o.reject(g)}})).apply(this,arguments)}function dh(a,n){return od.apply(this,arguments)}function od(){return(od=(0,oe.Z)(function*(a,n){const o=Ot(a);try{const l=yield f_(o.localStore,n);n.targetChanges.forEach((d,g)=>{const I=o.Fo.get(g);I&&(pn(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?I.Co=!0:d.modifiedDocuments.size>0?pn(I.Co):d.removedDocuments.size>0&&(pn(I.Co),I.Co=!1))}),yield io(o,l,n)}catch(l){yield Dl(l)}})).apply(this,arguments)}function fp(a,n,o){const l=Ot(a);if(l.isPrimaryClient&&0===o||!l.isPrimaryClient&&1===o){const d=[];l.xo.forEach((g,I)=>{const k=I.view.eo(n);k.snapshot&&d.push(k.snapshot)}),function(g,I){const k=Ot(g);k.onlineState=I;let j=!1;k.queries.forEach((X,ue)=>{for(const De of ue.listeners)De.eo(I)&&(j=!0)}),j&&op(k)}(l.eventManager,n),d.length&&l.No.Tr(d),l.onlineState=n,l.isPrimaryClient&&l.sharedClientState.setOnlineState(n)}}function x_(a,n,o){return pp.apply(this,arguments)}function pp(){return(pp=(0,oe.Z)(function*(a,n,o){const l=Ot(a);l.sharedClientState.updateQueryState(n,"rejected",o);const d=l.Fo.get(n),g=d&&d.key;if(g){let I=new Ft(Yt.comparator);I=I.insert(g,Xn.newNoDocument(g,Xt.min()));const k=Zn().add(g),j=new Ou(Xt.min(),new Map,new pr(Bt),I,k);yield dh(l,j),l.Oo=l.Oo.remove(g),l.Fo.delete(n),Pm(l)}else yield oc(l.localStore,n,!1).then(()=>ro(l,n,o)).catch(Dl)})).apply(this,arguments)}function gp(a,n){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,oe.Z)(function*(a,n){const o=Ot(a),l=n.batch.batchId;try{const d=yield hm(o.localStore,n);gh(o,l,null),ph(o,l),o.sharedClientState.updateMutationState(l,"acknowledged"),yield io(o,d)}catch(d){yield Dl(d)}})).apply(this,arguments)}function M_(a,n,o){return hh.apply(this,arguments)}function hh(){return(hh=(0,oe.Z)(function*(a,n,o){const l=Ot(a);try{const d=yield function(g,I){const k=Ot(g);return k.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let X;return k.In.lookupMutationBatch(j,I).next(ue=>(pn(null!==ue),X=ue.keys(),k.In.removeMutationBatch(j,ue))).next(()=>k.In.performConsistencyCheck(j)).next(()=>k.Qn.Pn(j,X))})}(l.localStore,n);gh(l,n,o),ph(l,n),l.sharedClientState.updateMutationState(n,"rejected",o),yield io(l,d)}catch(d){yield Dl(d)}})).apply(this,arguments)}function fh(){return(fh=(0,oe.Z)(function*(a,n){const o=Ot(a);Vu(o.remoteStore)||_t("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(g){const I=Ot(g);return I.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>I.In.getHighestUnacknowledgedBatchId(k))}(o.localStore);if(-1===l)return void n.resolve();const d=o.Bo.get(l)||[];d.push(n),o.Bo.set(l,d)}catch(l){const d=id(l,"Initialization of waitForPendingWrites() operation failed");n.reject(d)}})).apply(this,arguments)}function ph(a,n){(a.Bo.get(n)||[]).forEach(o=>{o.resolve()}),a.Bo.delete(n)}function gh(a,n,o){const l=Ot(a);let d=l.Lo[l.currentUser.toKey()];if(d){const g=d.get(n);g&&(o?g.reject(o):g.resolve(),d=d.remove(n)),l.Lo[l.currentUser.toKey()]=d}}function ro(a,n,o=null){a.sharedClientState.removeLocalQueryTarget(n);for(const l of a.ko.get(n))a.xo.delete(l),o&&a.No.jo(l,o);a.ko.delete(n),a.isPrimaryClient&&a.Mo.cs(n).forEach(l=>{a.Mo.containsKey(l)||ad(a,l)})}function ad(a,n){a.$o.delete(n.path.canonicalString());const o=a.Oo.get(n);null!==o&&(ko(a.remoteStore,o),a.Oo=a.Oo.remove(n),a.Fo.delete(o),Pm(a))}function mp(a,n,o){for(const l of o)l instanceof ch?(a.Mo.addReference(l.key,n),O_(a,l)):l instanceof xm?(_t("SyncEngine","Document no longer in limbo: "+l.key),a.Mo.removeReference(l.key,n),a.Mo.containsKey(l.key)||ad(a,l.key)):jt()}function O_(a,n){const o=n.key,l=o.path.canonicalString();a.Oo.get(o)||a.$o.has(l)||(_t("SyncEngine","New document in limbo: "+o),a.$o.add(l),Pm(a))}function Pm(a){for(;a.$o.size>0&&a.Oo.size<a.maxConcurrentLimboResolutions;){const n=a.$o.values().next().value;a.$o.delete(n);const o=new Yt(yr.fromString(n)),l=a.Uo.next();a.Fo.set(l,new Om(o)),a.Oo=a.Oo.insert(o,l),ih(a.remoteStore,new Da(Ps(Qa(o.path)),l,2,Ct.T))}}function io(a,n,o){return mh.apply(this,arguments)}function mh(){return(mh=(0,oe.Z)(function*(a,n,o){const l=Ot(a),d=[],g=[],I=[];var k;l.xo.isEmpty()||(l.xo.forEach((k,j)=>{I.push(l.Ko(j,n,o).then(X=>{if(X){l.isPrimaryClient&&l.sharedClientState.updateQueryState(j.targetId,X.fromCache?"not-current":"current"),d.push(X);const ue=Lf.kn(j.targetId,X);g.push(ue)}}))}),yield Promise.all(I),l.No.Tr(d),yield(k=(0,oe.Z)(function*(j,X){const ue=Ot(j);try{yield ue.persistence.runTransaction("notifyLocalViewChanges","readwrite",De=>dt.forEach(X,Je=>dt.forEach(Je.Nn,at=>ue.persistence.referenceDelegate.addReference(De,Je.targetId,at)).next(()=>dt.forEach(Je.xn,at=>ue.persistence.referenceDelegate.removeReference(De,Je.targetId,at)))))}catch(De){if(!El(De))throw De;_t("LocalStore","Failed to update sequence numbers: "+De)}for(const De of X){const Je=De.targetId;if(!De.fromCache){const at=ue.Un.get(Je),tn=at.withLastLimboFreeSnapshotVersion(at.snapshotVersion);ue.Un=ue.Un.insert(Je,tn)}}}),function(j,X){return k.apply(this,arguments)})(l.localStore,g))})).apply(this,arguments)}function ud(a,n){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,oe.Z)(function*(a,n){const o=Ot(a);if(!o.currentUser.isEqual(n)){_t("SyncEngine","User change. New user:",n.toKey());const l=yield Po(o.localStore,n);o.currentUser=n,(d=o).Bo.forEach(I=>{I.forEach(k=>{k.reject(new v(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Bo.clear(),o.sharedClientState.handleUserChange(n,l.removedBatchIds,l.addedBatchIds),yield io(o,l.Wn)}var d})).apply(this,arguments)}function N_(a,n){const o=Ot(a),l=o.Fo.get(n);if(l&&l.Co)return Zn().add(l.key);{let d=Zn();const g=o.ko.get(n);if(!g)return d;for(const I of g){const k=o.xo.get(I);d=d.unionWith(k.view.To)}return d}}function yp(a,n){return yh.apply(this,arguments)}function yh(){return(yh=(0,oe.Z)(function*(a,n){const o=Ot(a),l=yield Kd(o.localStore,n.query,!0),d=n.view.So(l);return o.isPrimaryClient&&mp(o,n.targetId,d.vo),d})).apply(this,arguments)}function R_(a){return _h.apply(this,arguments)}function _h(){return(_h=(0,oe.Z)(function*(a){const n=Ot(a);return jf(n.localStore).then(o=>io(n,o))})).apply(this,arguments)}function P_(a,n,o,l){return ld.apply(this,arguments)}function ld(){return(ld=(0,oe.Z)(function*(a,n,o,l){const d=Ot(a),g=yield function(I,k){const j=Ot(I),X=Ot(j.In);return j.persistence.runTransaction("Lookup mutation documents","readonly",ue=>X.Xt(ue,k).next(De=>De?j.Qn.Pn(ue,De):dt.resolve(null)))}(d.localStore,n);var k;null!==g?("pending"===o?yield Sl(d.remoteStore):"acknowledged"===o||"rejected"===o?(gh(d,n,l||null),ph(d,n),k=n,Ot(Ot(d.localStore).In).te(k)):jt(),yield io(d,g)):_t("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function _p(){return(_p=(0,oe.Z)(function*(a,n){const o=Ot(a);if(Ep(o),Cp(o),!0===n&&!0!==o.qo){const l=o.sharedClientState.getAllActiveQueryTargets(),d=yield vp(o,l.toArray());o.qo=!0,yield tp(o.remoteStore,!0);for(const g of d)ih(o.remoteStore,g)}else if(!1===n&&!1!==o.qo){const l=[];let d=Promise.resolve();o.ko.forEach((g,I)=>{o.sharedClientState.isLocalQueryTarget(I)?l.push(I):d=d.then(()=>(ro(o,I),oc(o.localStore,I,!0))),ko(o.remoteStore,I)}),yield d,yield vp(o,l),function(g){const I=Ot(g);I.Fo.forEach((k,j)=>{ko(I.remoteStore,j)}),I.Mo.us(),I.Fo=new Map,I.Oo=new Ft(Yt.comparator)}(o),o.qo=!1,yield tp(o.remoteStore,!1)}})).apply(this,arguments)}function vp(a,n,o){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,oe.Z)(function*(a,n,o){const l=Ot(a),d=[],g=[];for(const I of n){let k;const j=l.ko.get(I);if(j&&0!==j.length){k=yield Tl(l.localStore,Ps(j[0]));for(const X of j){const ue=l.xo.get(X),De=yield yp(l,ue);De.snapshot&&g.push(De.snapshot)}}else{const X=yield Mn(l.localStore,I);k=yield Tl(l.localStore,X),yield sd(l,wp(X),I,!1)}d.push(k)}return l.No.Tr(g),d})).apply(this,arguments)}function wp(a){return Ya(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function F_(a){const n=Ot(a);return Ot(Ot(n.localStore).persistence).pn()}function L_(a,n,o,l){return qu.apply(this,arguments)}function qu(){return(qu=(0,oe.Z)(function*(a,n,o,l){const d=Ot(a);if(d.qo)_t("SyncEngine","Ignoring unexpected query state notification.");else if(d.ko.has(n))switch(o){case"current":case"not-current":{const g=yield jf(d.localStore),I=Ou.createSynthesizedRemoteEventForCurrentChange(n,"current"===o);yield io(d,g,I);break}case"rejected":yield oc(d.localStore,n,!0),ro(d,n,l);break;default:jt()}})).apply(this,arguments)}function V_(a,n,o){return bp.apply(this,arguments)}function bp(){return(bp=(0,oe.Z)(function*(a,n,o){const l=Ep(a);if(l.qo){for(const d of n){if(l.ko.has(d)){_t("SyncEngine","Adding an already active target "+d);continue}const g=yield Mn(l.localStore,d),I=yield Tl(l.localStore,g);yield sd(l,wp(g),I.targetId,!1),ih(l.remoteStore,I)}for(const d of o)l.ko.has(d)&&(yield oc(l.localStore,d,!1).then(()=>{ko(l.remoteStore,d),ro(l,d)}).catch(Dl))}})).apply(this,arguments)}function Ep(a){const n=Ot(a);return n.remoteStore.remoteSyncer.applyRemoteEvent=dh.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=N_.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=x_.bind(null,n),n.No.Tr=I_.bind(null,n.eventManager),n.No.jo=Am.bind(null,n.eventManager),n}function Cp(a){const n=Ot(a);return n.remoteStore.remoteSyncer.applySuccessfulWrite=gp.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=M_.bind(null,n),n}class km{constructor(){this.synchronizeTabs=!1}initialize(n){var o=this;return(0,oe.Z)(function*(){o.N=rh(n.databaseInfo.databaseId),o.sharedClientState=o.Wo(n),o.persistence=o.Go(n),yield o.persistence.start(),o.gcScheduler=o.zo(n),o.localStore=o.Ho(n)})()}zo(n){return null}Ho(n){return dm(this.persistence,new Vf,n.initialUser,this.N)}Go(n){return new lu(uc.Ns,this.N)}Wo(n){return new _m}terminate(){var n=this;return(0,oe.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class Ip extends km{constructor(n,o,l){super(),this.Jo=n,this.cacheSizeBytes=o,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(n){var o=()=>super.initialize,l=this;return(0,oe.Z)(function*(){yield o().call(l,n),yield function(a){return ac.apply(this,arguments)}(l.localStore),yield l.Jo.initialize(l,n),yield Cp(l.Jo.syncEngine),yield Sl(l.Jo.remoteStore),yield l.persistence.nn(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(l.localStore),Promise.resolve()))})()}Ho(n){return dm(this.persistence,new Vf,n.initialUser,this.N)}zo(n){return new um(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const o=Zd(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?no.withCacheSize(this.cacheSizeBytes):no.DEFAULT;return new kf(this.synchronizeTabs,o,n.clientId,l,n.asyncQueue,__(),qf(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new _m}}class Or extends Ip{constructor(n,o){super(n,o,!1),this.Jo=n,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(n){var o=()=>super.initialize,l=this;return(0,oe.Z)(function*(){yield o().call(l,n);const d=l.Jo.syncEngine;l.sharedClientState instanceof nh&&(l.sharedClientState.syncEngine={_i:P_.bind(null,d),mi:L_.bind(null,d),gi:V_.bind(null,d),pn:F_.bind(null,d),wi:R_.bind(null,d)},yield l.sharedClientState.start()),yield l.persistence.nn(function(){var g=(0,oe.Z)(function*(I){yield function(a,n){return _p.apply(this,arguments)}(l.Jo.syncEngine,I),l.gcScheduler&&(I&&!l.gcScheduler.started?l.gcScheduler.start(l.localStore):I||l.gcScheduler.stop())});return function(I){return g.apply(this,arguments)}}())})()}Wo(n){const o=__();if(!nh.bt(o))throw new v(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=Zd(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new nh(o,n.asyncQueue,l,n.clientId,n.initialUser)}}class cd{initialize(n,o){var l=this;return(0,oe.Z)(function*(){l.localStore||(l.localStore=n.localStore,l.sharedClientState=n.sharedClientState,l.datastore=l.createDatastore(o),l.remoteStore=l.createRemoteStore(o),l.eventManager=l.createEventManager(o),l.syncEngine=l.createSyncEngine(o,!n.synchronizeTabs),l.sharedClientState.onlineStateHandler=d=>fp(l.syncEngine,d,1),l.remoteStore.remoteSyncer.handleCredentialChange=ud.bind(null,l.syncEngine),yield tp(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(n){return new Tm}createDatastore(n){const o=rh(n.databaseInfo.databaseId),l=new Vw(n.databaseInfo);return new Lu(n.credentials,l,o)}createRemoteStore(n){return o=this.localStore,l=this.datastore,d=n.asyncQueue,g=k=>fp(this.syncEngine,k,0),I=y_.bt()?new y_:new Gf,new w_(o,l,d,g,I);var o,l,d,g,I}createSyncEngine(n,o){return function(l,d,g,I,k,j,X){const ue=new T_(l,d,g,I,k,j);return X&&(ue.qo=!0),ue}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,o)}terminate(){return(n=(0,oe.Z)(function*(o){const l=Ot(o);_t("RemoteStore","RemoteStore shutting down."),l.Kr.add(5),yield Al(l),l.Qr.shutdown(),l.Wr.set("Unknown")}),function(o){return n.apply(this,arguments)})(this.remoteStore);var n}}function U_(a,n=10240){let o=0;return{read:()=>(0,oe.Z)(function*(){if(o<a.byteLength){const l={value:a.slice(o,o+n),done:!1};return o+=n,l}return{done:!0}})(),cancel:()=>(0,oe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Fo{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,o){this.muted||setTimeout(()=>{this.muted||n(o)},0)}}class Dp{constructor(n,o){this.Zo=n,this.N=o,this.metadata=new b,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(l=>{l&&l.ho()?this.metadata.resolve(l.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==l?void 0:l.payload)}`))},l=>this.metadata.reject(l))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,oe.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,oe.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,oe.Z)(function*(){const o=yield n.na();if(null===o)return null;const l=n.ta.decode(o),d=Number(l);isNaN(d)&&n.sa(`length string (${l}) is not valid number`);const g=yield n.ia(d);return new Sm(JSON.parse(g),o.length+d)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,oe.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const o=n.ra();o<0&&n.sa("Reached the end of bundle when a length string is expected.");const l=n.buffer.slice(0,o);return n.buffer=n.buffer.slice(o),l})()}ia(n){var o=this;return(0,oe.Z)(function*(){for(;o.buffer.length<n;)(yield o.oa())&&o.sa("Reached the end of bundle when more is expected.");const l=o.ta.decode(o.buffer.slice(0,n));return o.buffer=o.buffer.slice(n),l})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,oe.Z)(function*(){const o=yield n.Zo.read();if(!o.done){const l=new Uint8Array(n.buffer.length+o.value.length);l.set(n.buffer),l.set(o.value,n.buffer.length),n.buffer=l}return o.done})()}}class Tp{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var o=this;return(0,oe.Z)(function*(){if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new v(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(d=(0,oe.Z)(function*(g,I){const k=Ot(g),j=Hc(k.N)+"/documents",X={documents:I.map(at=>wl(k.N,at))},ue=yield k.Ki("BatchGetDocuments",j,X),De=new Map;ue.forEach(at=>{const Dt=function(a,n){return"found"in n?function(o,l){pn(!!l.found);const d=Ea(o,l.found.name),g=Ui(l.found.updateTime),I=new ds({mapValue:{fields:l.found.fields}});return Xn.newFoundDocument(d,g,I)}(a,n):"missing"in n?function(o,l){pn(!!l.missing),pn(!!l.readTime);const d=Ea(o,l.missing),g=Ui(l.readTime);return Xn.newNoDocument(d,g)}(a,n):jt()}(k.N,at);De.set(Dt.key.toString(),Dt)});const Je=[];return I.forEach(at=>{const Dt=De.get(at.toString());pn(!!Dt),Je.push(Dt)}),Je}),function(g,I){return d.apply(this,arguments)})(o.datastore,n);var d;return l.forEach(d=>o.recordVersion(d)),l})()}set(n,o){this.write(o.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,o){try{this.write(o.toMutation(n,this.preconditionForUpdate(n)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(n.toString())}delete(n){this.write(new m(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,oe.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const o=n.readVersions;var l;n.mutations.forEach(l=>{o.delete(l.key.toString())}),o.forEach((l,d)=>{const g=Yt.fromPath(d);n.mutations.push(new A(g,n.precondition(g)))}),yield(l=(0,oe.Z)(function*(d,g){const I=Ot(d),k=Hc(I.N)+"/documents",j={writes:g.map(X=>qd(I.N,X))};yield I.Li("Commit",k,j)}),function(d,g){return l.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let o;if(n.isFoundDocument())o=n.version;else{if(!n.isNoDocument())throw jt();o=Xt.min()}const l=this.readVersions.get(n.key.toString());if(l){if(!o.isEqual(l))throw new v(C.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),o)}precondition(n){const o=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&o?Ur.updateTime(o):Ur.none()}preconditionForUpdate(n){const o=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&o){if(o.isEqual(Xt.min()))throw new v(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ur.updateTime(o)}return Ur.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class Gw{constructor(n,o,l,d){this.asyncQueue=n,this.datastore=o,this.updateFunction=l,this.deferred=d,this.aa=5,this.rr=new vm(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,oe.Z)(function*(){const o=new Tp(n.datastore),l=n.ua(o);l&&l.then(d=>{n.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{n.deferred.resolve(d)}).catch(g=>{n.ha(g)}))}).catch(d=>{n.ha(d)})}))}ua(n){try{const o=this.updateFunction(n);return!Xs(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const o=n.code;return"aborted"===o||"failed-precondition"===o||!ft(o)}return!1}}class B_{constructor(n,o,l){var d=this;this.credentials=n,this.asyncQueue=o,this.databaseInfo=l,this.user=li.UNAUTHENTICATED,this.clientId=kn.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(o,function(){var g=(0,oe.Z)(function*(I){_t("FirestoreClient","Received user=",I.uid),yield d.credentialListener(I),d.user=I});return function(I){return g.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,oe.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new v(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const o=new b;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),o.resolve()}catch(l){const d=id(l,"Failed to shutdown persistence");o.reject(d)}})),o.promise}}function Fm(a,n){return vh.apply(this,arguments)}function vh(){return(vh=(0,oe.Z)(function*(a,n){a.asyncQueue.verifyOperationInProgress(),_t("FirestoreClient","Initializing OfflineComponentProvider");const o=yield a.getConfiguration();yield n.initialize(o);let l=o.initialUser;a.setCredentialChangeListener(function(){var d=(0,oe.Z)(function*(g){l.isEqual(g)||(yield Po(n.localStore,g),l=g)});return function(g){return d.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>a.terminate()),a.offlineComponents=n})).apply(this,arguments)}function Ap(a,n){return wh.apply(this,arguments)}function wh(){return(wh=(0,oe.Z)(function*(a,n){a.asyncQueue.verifyOperationInProgress();const o=yield bh(a);_t("FirestoreClient","Initializing OnlineComponentProvider");const l=yield a.getConfiguration();yield n.initialize(o,l),a.setCredentialChangeListener(d=>{return(g=(0,oe.Z)(function*(I,k){const j=Ot(I);j.asyncQueue.verifyOperationInProgress(),_t("RemoteStore","RemoteStore received new credentials");const X=Vu(j);j.Kr.add(3),yield Al(j),X&&j.Wr.set("Unknown"),yield j.remoteSyncer.handleCredentialChange(k),j.Kr.delete(3),yield lc(j)}),function(I,k){return g.apply(this,arguments)})(n.remoteStore,d);var g}),a.onlineComponents=n})).apply(this,arguments)}function bh(a){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,oe.Z)(function*(a){return a.offlineComponents||(_t("FirestoreClient","Using default OfflineComponentProvider"),yield Fm(a,new km)),a.offlineComponents})).apply(this,arguments)}function Eh(a){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,oe.Z)(function*(a){return a.onlineComponents||(_t("FirestoreClient","Using default OnlineComponentProvider"),yield Ap(a,new cd)),a.onlineComponents})).apply(this,arguments)}function Ch(a){return bh(a).then(n=>n.persistence)}function Ih(a){return bh(a).then(n=>n.localStore)}function xp(a){return Eh(a).then(n=>n.remoteStore)}function Dh(a){return Eh(a).then(n=>n.syncEngine)}function Nl(a){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,oe.Z)(function*(a){const n=yield Eh(a),o=n.eventManager;return o.onListen=A_.bind(null,n.syncEngine),o.onUnlisten=S_.bind(null,n.syncEngine),o})).apply(this,arguments)}function Op(a,n,o={}){const l=new b;return a.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(d,g,I,k,j){const X=new Fo({next:De=>{g.enqueueAndForget(()=>sp(d,ue));const Je=De.docs.has(I);!Je&&De.fromCache?j.reject(new v(C.UNAVAILABLE,"Failed to get document because the client is offline.")):Je&&De.fromCache&&k&&"server"===k.source?j.reject(new v(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(De)},error:De=>j.reject(De)}),ue=new ap(Qa(I.path),X,{includeMetadataChanges:!0,uo:!0});return rp(d,ue)}(yield Nl(a),a.asyncQueue,n,o,l)})),l.promise}function Np(a,n,o={}){const l=new b;return a.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(d,g,I,k,j){const X=new Fo({next:De=>{g.enqueueAndForget(()=>sp(d,ue)),De.fromCache&&"server"===k.source?j.reject(new v(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(De)},error:De=>j.reject(De)}),ue=new ap(I,X,{includeMetadataChanges:!0,uo:!0});return rp(d,ue)}(yield Nl(a),a.asyncQueue,n,o,l)})),l.promise}class Rp{constructor(n,o,l,d,g,I,k,j){this.databaseId=n,this.appId=o,this.persistenceKey=l,this.host=d,this.ssl=g,this.forceLongPolling=I,this.autoDetectLongPolling=k,this.useFetchStreams=j}}class fc{constructor(n,o){this.projectId=n,this.database=o||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof fc&&n.projectId===this.projectId&&n.database===this.database}}const Pp=new Map;function Th(a,n,o){if(!o)throw new v(C.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${n}.`)}function z_(a,n,o,l){if(!0===n&&!0===l)throw new v(C.INVALID_ARGUMENT,`${a} and ${o} cannot be used together.`)}function Lo(a){if(!Yt.isDocumentKey(a))throw new v(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function W_(a){if(Yt.isDocumentKey(a))throw new v(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function kp(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const n=function(o){if(o.constructor){const l=/function\s+([^\s(]+)\s*\(/.exec(o.constructor.toString());if(l&&l.length>1)return l[1]}return null}(a);return n?`a custom ${n} object`:"an object"}}return"function"==typeof a?"a function":jt()}function br(a,n){if("_delegate"in a&&(a=a._delegate),!(a instanceof n)){if(n.name===a.constructor.name)throw new v(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=kp(a);throw new v(C.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${o}`)}}return a}function Fp(a,n){if(n<=0)throw new v(C.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${n}.`)}class Lp{constructor(n){var o;if(void 0===n.host){if(void 0!==n.ssl)throw new v(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(o=n.ssl)||void 0===o||o;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new v(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,z_("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class pc{constructor(n,o){this._credentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lp({}),this._settingsFrozen=!1,n instanceof fc?this._databaseId=n:(this._app=n,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new v(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(l.options.projectId)}(n))}get app(){if(!this._app)throw new v(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new v(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lp(n),void 0!==n.credentials&&(this._credentials=function(o){if(!o)return new V;switch(o.type){case"gapi":const l=o.client;return pn(!("object"!=typeof l||null===l||!l.auth||!l.auth.getAuthHeaderValueForFirstParty)),new tt(l,o.sessionIndex||"0",o.iamToken||null);case"provider":return o.client;default:throw new v(C.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=Pp.get(n);o&&(_t("ComponentProvider","Removing Datastore"),Pp.delete(n),o.terminate())}(this),Promise.resolve()}}class ii{constructor(n,o,l){this.converter=o,this._key=l,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new ii(this.firestore,n,this._key)}}class ps{constructor(n,o,l){this.converter=o,this._query=l,this.type="query",this.firestore=n}withConverter(n){return new ps(this.firestore,n,this._query)}}class Vo extends ps{constructor(n,o,l){super(n,o,Qa(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new ii(this.firestore,null,new Yt(n))}withConverter(n){return new Vo(this.firestore,n,this._path)}}function Lm(a,n,...o){if(a=(0,gt.m9)(a),Th("collection","path",n),a instanceof pc){const l=yr.fromString(n,...o);return W_(l),new Vo(a,null,l)}{if(!(a instanceof ii||a instanceof Vo))throw new v(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=a._path.child(yr.fromString(n,...o));return W_(l),new Vo(a.firestore,null,l)}}function Ah(a,n,...o){if(a=(0,gt.m9)(a),1===arguments.length&&(n=kn.I()),Th("doc","path",n),a instanceof pc){const l=yr.fromString(n,...o);return Lo(l),new ii(a,null,new Yt(l))}{if(!(a instanceof ii||a instanceof Vo))throw new v(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=a._path.child(yr.fromString(n,...o));return Lo(l),new ii(a.firestore,a instanceof Vo?a.converter:null,new Yt(l))}}function Vm(a,n){return a=(0,gt.m9)(a),n=(0,gt.m9)(n),(a instanceof ii||a instanceof Vo)&&(n instanceof ii||n instanceof Vo)&&a.firestore===n.firestore&&a.path===n.path&&a.converter===n.converter}function Um(a,n){return a=(0,gt.m9)(a),n=(0,gt.m9)(n),a instanceof ps&&n instanceof ps&&a.firestore===n.firestore&&ql(a._query,n._query)&&a.converter===n.converter}class K_{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new vm(this,"async_queue_retry"),this.Ea=()=>{const o=qf();o&&_t("AsyncQueue","Visibility state changed to "+o.visibilityState),this.rr.tr()};const n=qf();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const o=qf();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const o=new b;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,oe.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(o){if(!El(o))throw o;_t("AsyncQueue","Operation failed with retryable error: "+o)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const o=this.fa.then(()=>(this.ga=!0,n().catch(l=>{throw this.ma=l,this.ga=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(l)),l}).then(l=>(this.ga=!1,l))));return this.fa=o,o}enqueueAfterDelay(n,o,l){this.Ta(),this.pa.indexOf(n)>-1&&(o=0);const d=Dm.createAndSchedule(this,n,o,l,g=>this.Ra(g));return this._a.push(d),d}Ta(){this.ma&&jt()}verifyOperationInProgress(){}ba(){var n=this;return(0,oe.Z)(function*(){let o;do{o=n.fa,yield o}while(o!==n.fa)})()}Pa(n){for(const o of this._a)if(o.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((o,l)=>o.targetTimeMs-l.targetTimeMs);for(const o of this._a)if(o.skipDelay(),"all"!==n&&o.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const o=this._a.indexOf(n);this._a.splice(o,1)}}function Up(a){return function(n,o){if("object"!=typeof n||null===n)return!1;const l=n;for(const d of["next","error","complete"])if(d in l&&"function"==typeof l[d])return!0;return!1}(a)}class Y_{constructor(){this._progressObserver={},this._taskCompletionResolver=new b,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,o,l){this._progressObserver={next:n,error:o,complete:l}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,o){return this._taskCompletionResolver.promise.then(n,o)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Br extends pc{constructor(n,o){super(n,o),this.type="firestore",this._queue=new K_,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Bm(this),this._firestoreClient.terminate()}}function hi(a){return a._firestoreClient||Bm(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function Bm(a){var n;const o=a._freezeSettings(),l=(g=(null===(n=a._app)||void 0===n?void 0:n.options.appId)||"",new Rp(a._databaseId,g,a._persistenceKey,(k=o).host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,k.useFetchStreams));var g,k;a._firestoreClient=new B_(a._credentials,a._queue,l)}function ra(a,n,o){const l=new b;return a.asyncQueue.enqueue((0,oe.Z)(function*(){try{yield Fm(a,o),yield Ap(a,n),l.resolve()}catch(d){if(!("FirebaseError"===(g=d).name?g.code===C.FAILED_PRECONDITION||g.code===C.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw d;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+d),l.reject(d)}var g})).then(()=>l.promise)}function Pl(a){if(a._initialized||a._terminated)throw new v(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class so{constructor(...n){for(let o=0;o<n.length;++o)if(0===n[o].length)throw new v(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Li(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Bs{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Bs(di.fromBase64String(n))}catch(o){throw new v(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(n){return new Bs(di.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Uo{constructor(n){this._methodName=n}}class cu{constructor(n,o){if(!isFinite(n)||n<-90||n>90)throw new v(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(o)||o<-180||o>180)throw new v(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=n,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Bt(this._lat,n._lat)||Bt(this._long,n._long)}}const mc=/^__.*__$/;class yc{constructor(n,o,l){this.data=n,this.fieldMask=o,this.fieldTransforms=l}toMutation(n,o){return null!==this.fieldMask?new Es(n,this.data,this.fieldMask,o,this.fieldTransforms):new xu(n,this.data,o,this.fieldTransforms)}}class Hp{constructor(n,o,l){this.data=n,this.fieldMask=o,this.fieldTransforms=l}toMutation(n,o){return new Es(n,this.data,this.fieldMask,o,this.fieldTransforms)}}function $p(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt()}}class fd{constructor(n,o,l,d,g,I){this.settings=n,this.databaseId=o,this.N=l,this.ignoreUndefinedProperties=d,void 0===g&&this.Sa(),this.fieldTransforms=g||[],this.fieldMask=I||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new fd(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var o;const l=null===(o=this.path)||void 0===o?void 0:o.child(n),d=this.Ca({path:l,xa:!1});return d.ka(n),d}$a(n){var o;const l=null===(o=this.path)||void 0===o?void 0:o.child(n),d=this.Ca({path:l,xa:!1});return d.Sa(),d}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return Kp(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(o=>n.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>n.isPrefixOf(o.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if($p(this.Da)&&mc.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class jm{constructor(n,o,l){this.databaseId=n,this.ignoreUndefinedProperties=o,this.N=l||rh(n)}Ba(n,o,l,d=!1){return new fd({Da:n,methodName:o,La:l,path:Li.emptyPath(),xa:!1,Ma:d},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function zu(a){const n=a._freezeSettings(),o=rh(a._databaseId);return new jm(a._databaseId,!!n.ignoreUndefinedProperties,o)}function pd(a,n,o,l,d,g={}){const I=a.Ba(g.merge||g.mergeFields?2:0,n,o,d);Wp("Data must be an object, but it was:",I,l);const k=Gm(l,I);let j,X;if(g.merge)j=new Dr(I.fieldMask),X=I.fieldTransforms;else if(g.mergeFields){const ue=[];for(const De of g.mergeFields){const Je=Nh(n,De,o);if(!I.contains(Je))throw new v(C.INVALID_ARGUMENT,`Field '${Je}' is specified in your field mask but missing from your input data.`);qm(ue,Je)||ue.push(Je)}j=new Dr(ue),X=I.fieldTransforms.filter(De=>j.covers(De.field))}else j=null,X=I.fieldTransforms;return new yc(new ds(k),j,X)}class _c extends Uo{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof _c}}function Gp(a,n,o){return new fd({Da:3,La:n.settings.La,methodName:a._methodName,xa:o},n.databaseId,n.N,n.ignoreUndefinedProperties)}class Mh extends Uo{_toFieldTransform(n){return new eu(n.path,new So)}isEqual(n){return n instanceof Mh}}class X_ extends Uo{constructor(n,o){super(n),this.Ua=o}_toFieldTransform(n){const o=Gp(this,n,!0),l=this.Ua.map(g=>vc(g,o)),d=new Xa(l);return new eu(n.path,d)}isEqual(n){return this===n}}class Hm extends Uo{constructor(n,o){super(n),this.Ua=o}_toFieldTransform(n){const o=Gp(this,n,!0),l=this.Ua.map(g=>vc(g,o)),d=new Jo(l);return new eu(n.path,d)}isEqual(n){return this===n}}class ev extends Uo{constructor(n,o){super(n),this.qa=o}_toFieldTransform(n){const o=new yl(n.N,gl(n.N,this.qa));return new eu(n.path,o)}isEqual(n){return this===n}}function qp(a,n,o,l){const d=a.Ba(1,n,o);Wp("Data must be an object, but it was:",d,l);const g=[],I=ds.empty();ci(l,(j,X)=>{const ue=Zp(n,j,o);X=(0,gt.m9)(X);const De=d.$a(ue);if(X instanceof _c)g.push(ue);else{const Je=vc(X,De);null!=Je&&(g.push(ue),I.set(ue,Je))}});const k=new Dr(g);return new Hp(I,k,d.fieldTransforms)}function Oh(a,n,o,l,d,g){const I=a.Ba(1,n,o),k=[Nh(n,l,o)],j=[d];if(g.length%2!=0)throw new v(C.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Je=0;Je<g.length;Je+=2)k.push(Nh(n,g[Je])),j.push(g[Je+1]);const X=[],ue=ds.empty();for(let Je=k.length-1;Je>=0;--Je)if(!qm(X,k[Je])){const at=k[Je];let Dt=j[Je];Dt=(0,gt.m9)(Dt);const tn=I.$a(at);if(Dt instanceof _c)X.push(at);else{const On=vc(Dt,tn);null!=On&&(X.push(at),ue.set(at,On))}}const De=new Dr(X);return new Hp(ue,De,I.fieldTransforms)}function $m(a,n,o,l=!1){return vc(o,a.Ba(l?4:3,n))}function vc(a,n){if(zp(a=(0,gt.m9)(a)))return Wp("Unsupported field value:",n,a),Gm(a,n);if(a instanceof Uo)return function(o,l){if(!$p(l.Da))throw l.Fa(`${o._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Fa(`${o._methodName}() is not currently supported inside arrays`);const d=o._toFieldTransform(l);d&&l.fieldTransforms.push(d)}(a,n),null;if(void 0===a&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),a instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(o,l){const d=[];let g=0;for(const I of o){let k=vc(I,l.Oa(g));null==k&&(k={nullValue:"NULL_VALUE"}),d.push(k),g++}return{arrayValue:{values:d}}}(a,n)}return function(o,l){if(null===(o=(0,gt.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return gl(l.N,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const d=lr.fromDate(o);return{timestampValue:jc(l.N,d)}}if(o instanceof lr){const d=new lr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:jc(l.N,d)}}if(o instanceof cu)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Bs)return{bytesValue:Bg(l.N,o._byteString)};if(o instanceof ii){const d=l.databaseId,g=o.firestore._databaseId;if(!g.isEqual(d))throw l.Fa(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Yl(o.firestore._databaseId||l.databaseId,o._key.path)}}throw l.Fa(`Unsupported field value: ${kp(o)}`)}(a,n)}function Gm(a,n){const o={};return To(a)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):ci(a,(l,d)=>{const g=vc(d,n.Na(l));null!=g&&(o[l]=g)}),{mapValue:{fields:o}}}function zp(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof lr||a instanceof cu||a instanceof Bs||a instanceof ii||a instanceof Uo)}function Wp(a,n,o){if(!zp(o)||"object"!=typeof(l=o)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=kp(o);throw n.Fa("an object"===l?a+" a custom object":a+" "+l)}var l}function Nh(a,n,o){if((n=(0,gt.m9)(n))instanceof so)return n._internalPath;if("string"==typeof n)return Zp(a,n);throw Kp("Field path arguments must be of type string or FieldPath.",a,!1,void 0,o)}const tv=new RegExp("[~\\*/\\[\\]]");function Zp(a,n,o){if(n.search(tv)>=0)throw Kp(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,o);try{return new so(...n.split("."))._internalPath}catch(l){throw Kp(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,o)}}function Kp(a,n,o,l,d){const g=l&&!l.isEmpty(),I=void 0!==d;let k=`Function ${n}() called with invalid data`;o&&(k+=" (via `toFirestore()`)"),k+=". ";let j="";return(g||I)&&(j+=" (found",g&&(j+=` in field ${l}`),I&&(j+=` in document ${d}`),j+=")"),new v(C.INVALID_ARGUMENT,k+a+j)}function qm(a,n){return a.some(o=>o.isEqual(n))}class wc{constructor(n,o,l,d,g){this._firestore=n,this._userDataWriter=o,this._key=l,this._document=d,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new Zw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const o=this._document.data.field(Yp("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o)}}}class Zw extends wc{data(){return super.data()}}function Yp(a,n){return"string"==typeof n?Zp(a,n):n instanceof so?n._internalPath:n._delegate._internalPath}class bc{constructor(n,o){this.hasPendingWrites=n,this.fromCache=o}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class du extends wc{constructor(n,o,l,d,g,I){super(n,o,l,d,I),this._firestore=n,this._firestoreImpl=n,this.metadata=g}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const o=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,o={}){if(this._document){const l=this._document.data.field(Yp("DocumentSnapshot.get",n));if(null!==l)return this._userDataWriter.convertValue(l,o.serverTimestamps)}}}class Rh extends du{data(n={}){return super.data(n)}}class Wu{constructor(n,o,l,d){this._firestore=n,this._userDataWriter=o,this._snapshot=d,this.metadata=new bc(d.hasPendingWrites,d.fromCache),this.query=l}get docs(){const n=[];return this.forEach(o=>n.push(o)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,o){this._snapshot.docs.forEach(l=>{n.call(o,new Rh(this._firestore,this._userDataWriter,l.key,l,new bc(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const o=!!n.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new v(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(l,d){if(l._snapshot.oldDocs.isEmpty()){let g=0;return l._snapshot.docChanges.map(I=>({type:"added",doc:new Rh(l._firestore,l._userDataWriter,I.doc.key,I.doc,new bc(l._snapshot.mutatedKeys.has(I.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:g++}))}{let g=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(I=>d||3!==I.type).map(I=>{const k=new Rh(l._firestore,l._userDataWriter,I.doc.key,I.doc,new bc(l._snapshot.mutatedKeys.has(I.doc.key),l._snapshot.fromCache),l.query.converter);let j=-1,X=-1;return 0!==I.type&&(j=g.indexOf(I.doc.key),g=g.delete(I.doc.key)),1!==I.type&&(g=g.add(I.doc),X=g.indexOf(I.doc.key)),{type:nv(I.type),doc:k,oldIndex:j,newIndex:X}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function nv(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt()}}function Ph(a,n){return a instanceof du&&n instanceof du?a._firestore===n._firestore&&a._key.isEqual(n._key)&&(null===a._document?null===n._document:a._document.isEqual(n._document))&&a._converter===n._converter:a instanceof Wu&&n instanceof Wu&&a._firestore===n._firestore&&Um(a.query,n.query)&&a.metadata.isEqual(n.metadata)&&a._snapshot.isEqual(n._snapshot)}function kh(a){if(pl(a)&&0===a.explicitOrderBy.length)throw new v(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gd{}function kl(a,...n){for(const o of n)a=o._apply(a);return a}class Kw extends gd{constructor(n,o,l){super(),this.Ka=n,this.ja=o,this.Qa=l,this.type="where"}_apply(n){const o=zu(n.firestore),l=function(d,g,I,k,j,X,ue){let De;if(j.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new v(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on FieldPath.documentId().`);if("in"===X||"not-in"===X){Ym(ue,X);const at=[];for(const Dt of ue)at.push(Km(k,d,Dt));De={arrayValue:{values:at}}}else De=Km(k,d,ue)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||Ym(ue,X),De=$m(I,"where",ue,"in"===X||"not-in"===X);const Je=Vi.create(j,X,De);return function(at,Dt){if(Dt.v()){const On=Ko(at);if(null!==On&&!On.isEqual(Dt.field))throw new v(C.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${On.toString()}' and '${Dt.field.toString()}'`);const fi=kd(at);null!==fi&&Qm(0,Dt.field,fi)}const tn=function(On,fi){for(const Ts of On.filters)if(fi.indexOf(Ts.op)>=0)return Ts.op;return null}(at,function(On){switch(On){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Dt.op));if(null!==tn)throw new v(C.INVALID_ARGUMENT,tn===Dt.op?`Invalid query. You cannot use more than one '${Dt.op.toString()}' filter.`:`Invalid query. You cannot use '${Dt.op.toString()}' filters with '${tn.toString()}' filters.`)}(d,Je),Je}(n._query,0,o,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new ps(n.firestore,n.converter,function(d,g){const I=d.filters.concat([g]);return new bs(d.path,d.collectionGroup,d.explicitOrderBy.slice(),I,d.limit,d.limitType,d.startAt,d.endAt)}(n._query,l))}}class rv extends gd{constructor(n,o){super(),this.Ka=n,this.Wa=o,this.type="orderBy"}_apply(n){const o=function(l,d,g){if(null!==l.startAt)throw new v(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new v(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const I=new _a(d,g);return function(k,j){if(null===kd(k)){const X=Ko(k);null!==X&&Qm(0,X,j.field)}}(l,I),I}(n._query,this.Ka,this.Wa);return new ps(n.firestore,n.converter,function(l,d){const g=l.explicitOrderBy.concat([d]);return new bs(l.path,l.collectionGroup,g,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n._query,o))}}class iv extends gd{constructor(n,o,l){super(),this.type=n,this.Ga=o,this.za=l}_apply(n){return new ps(n.firestore,n.converter,Gl(n._query,this.Ga,this.za))}}class Wm extends gd{constructor(n,o,l){super(),this.type=n,this.Ha=o,this.Ja=l}_apply(n){const o=Jp(n,this.type,this.Ha,this.Ja);return new ps(n.firestore,n.converter,(d=o,new bs((l=n._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,d,l.endAt)));var l,d}}class Qp extends gd{constructor(n,o,l){super(),this.type=n,this.Ha=o,this.Ja=l}_apply(n){const o=Jp(n,this.type,this.Ha,this.Ja);return new ps(n.firestore,n.converter,(d=o,new bs((l=n._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,d)));var l,d}}function Jp(a,n,o,l){if(o[0]=(0,gt.m9)(o[0]),o[0]instanceof wc)return function(d,g,I,k,j){if(!k)throw new v(C.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${I}().`);const X=[];for(const ue of Au(d))if(ue.field.isKeyField())X.push(Wo(g,k.key));else{const De=k.data.field(ue.field);if(Md(De))throw new v(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ue.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===De){const Je=ue.field.canonicalString();throw new v(C.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Je}' (used as the orderBy) does not exist.`)}X.push(De)}return new Ka(X,j)}(a._query,a.firestore._databaseId,n,o[0]._document,l);{const d=zu(a.firestore);return function(g,I,k,j,X,ue){const De=g.explicitOrderBy;if(X.length>De.length)throw new v(C.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Je=[];for(let at=0;at<X.length;at++){const Dt=X[at];if(De[at].field.isKeyField()){if("string"!=typeof Dt)throw new v(C.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof Dt}`);if(!Yo(g)&&-1!==Dt.indexOf("/"))throw new v(C.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${j}() must be a plain document ID, but '${Dt}' contains a slash.`);const tn=g.path.child(yr.fromString(Dt));if(!Yt.isDocumentKey(tn))throw new v(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${j}() must result in a valid document path, but '${tn}' is not because it contains an odd number of segments.`);const On=new Yt(tn);Je.push(Wo(I,On))}else{const tn=$m(k,j,Dt);Je.push(tn)}}return new Ka(Je,ue)}(a._query,a.firestore._databaseId,d,n,o,l)}}function Km(a,n,o){if("string"==typeof(o=(0,gt.m9)(o))){if(""===o)throw new v(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yo(n)&&-1!==o.indexOf("/"))throw new v(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const l=n.path.child(yr.fromString(o));if(!Yt.isDocumentKey(l))throw new v(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return Wo(a,new Yt(l))}if(o instanceof ii)return Wo(a,o._key);throw new v(C.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${kp(o)}.`)}function Ym(a,n){if(!Array.isArray(a)||0===a.length)throw new v(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(a.length>10)throw new v(C.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function Qm(a,n,o){if(!o.isEqual(n))throw new v(C.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class Xp{convertValue(n,o="none"){switch(Lr(n)){case 0:return null;case 1:return n.booleanValue;case 2:return ni(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,o);case 5:return n.stringValue;case 6:return this.convertBytes(za(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,o);case 10:return this.convertObject(n.mapValue,o);default:throw jt()}}convertObject(n,o){const l={};return ci(n.fields,(d,g)=>{l[d]=this.convertValue(g,o)}),l}convertGeoPoint(n){return new cu(ni(n.latitude),ni(n.longitude))}convertArray(n,o){return(n.values||[]).map(l=>this.convertValue(l,o))}convertServerTimestamp(n,o){switch(o){case"previous":const l=Sc(n);return null==l?null:this.convertValue(l,o);case"estimate":return this.convertTimestamp(Bl(n));default:return null}}convertTimestamp(n){const o=qo(n);return new lr(o.seconds,o.nanos)}convertDocumentKey(n,o){const l=yr.fromString(n);pn(zg(l));const d=new fc(l.get(1),l.get(3)),g=new Yt(l.popFirst(5));return d.isEqual(o)||Pr(`Document ${g} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),g}}function Lh(a,n,o){let l;return l=a?o&&(o.merge||o.mergeFields)?a.toFirestore(n,o):a.toFirestore(n):n,l}class Jm extends Xp{constructor(n){super(),this.firestore=n}convertBytes(n){return new Bs(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new ii(this.firestore,null,o)}}class Xm{constructor(n,o){this._firestore=n,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=zu(n)}set(n,o,l){this._verifyNotCommitted();const d=hu(n,this._firestore),g=Lh(d.converter,o,l),I=pd(this._dataReader,"WriteBatch.set",d._key,g,null!==d.converter,l);return this._mutations.push(I.toMutation(d._key,Ur.none())),this}update(n,o,l,...d){this._verifyNotCommitted();const g=hu(n,this._firestore);let I;return I="string"==typeof(o=(0,gt.m9)(o))||o instanceof so?Oh(this._dataReader,"WriteBatch.update",g._key,o,l,d):qp(this._dataReader,"WriteBatch.update",g._key,o),this._mutations.push(I.toMutation(g._key,Ur.exists(!0))),this}delete(n){this._verifyNotCommitted();const o=hu(n,this._firestore);return this._mutations=this._mutations.concat(new m(o._key,Ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new v(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hu(a,n){if((a=(0,gt.m9)(a)).firestore!==n)throw new v(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class fu extends Xp{constructor(n){super(),this.firestore=n}convertBytes(n){return new Bs(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new ii(this.firestore,null,o)}}function ty(a,n,o){a=br(a,ii);const l=br(a.firestore,Br),d=Lh(a.converter,n,o);return Fl(l,[pd(zu(l),"setDoc",a._key,d,null!==a.converter,o).toMutation(a._key,Ur.none())])}function Vh(a,n,o,...l){a=br(a,ii);const d=br(a.firestore,Br),g=zu(d);let I;return I="string"==typeof(n=(0,gt.m9)(n))||n instanceof so?Oh(g,"updateDoc",a._key,n,o,l):qp(g,"updateDoc",a._key,n),Fl(d,[I.toMutation(a._key,Ur.exists(!0))])}function Uh(a,...n){var o,l,d;a=(0,gt.m9)(a);let g={includeMetadataChanges:!1},I=0;"object"!=typeof n[I]||Up(n[I])||(g=n[I],I++);const k={includeMetadataChanges:g.includeMetadataChanges};if(Up(n[I])){const De=n[I];n[I]=null===(o=De.next)||void 0===o?void 0:o.bind(De),n[I+1]=null===(l=De.error)||void 0===l?void 0:l.bind(De),n[I+2]=null===(d=De.complete)||void 0===d?void 0:d.bind(De)}let j,X,ue;if(a instanceof ii)X=br(a.firestore,Br),ue=Qa(a._key.path),j={next:De=>{n[I]&&n[I](ny(X,a,De))},error:n[I+1],complete:n[I+2]};else{const De=br(a,ps);X=br(De.firestore,Br),ue=De._query;const Je=new fu(X);j={next:at=>{n[I]&&n[I](new Wu(X,Je,De,at))},error:n[I+1],complete:n[I+2]},kh(a._query)}return function(De,Je,at,Dt){const tn=new Fo(Dt),On=new ap(Je,tn,at);return De.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return rp(yield Nl(De),On)})),()=>{tn.Xo(),De.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return sp(yield Nl(De),On)}))}}(hi(X),ue,k,j)}function Fl(a,n){return function(o,l){const d=new b;return o.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(a,n,o){return hp.apply(this,arguments)}(yield Dh(o),l,d)})),d.promise}(hi(a),n)}function ny(a,n,o){const l=o.docs.get(n._key),d=new fu(a);return new du(a,d,n._key,l,new bc(o.hasPendingWrites,o.fromCache),n.converter)}class cv extends class{constructor(n,o){this._firestore=n,this._transaction=o,this._dataReader=zu(n)}get(n){const o=hu(n,this._firestore),l=new Jm(this._firestore);return this._transaction.lookup([o._key]).then(d=>{if(!d||1!==d.length)return jt();const g=d[0];if(g.isFoundDocument())return new wc(this._firestore,l,g.key,g,o.converter);if(g.isNoDocument())return new wc(this._firestore,l,o._key,null,o.converter);throw jt()})}set(n,o,l){const d=hu(n,this._firestore),g=Lh(d.converter,o,l),I=pd(this._dataReader,"Transaction.set",d._key,g,null!==d.converter,l);return this._transaction.set(d._key,I),this}update(n,o,l,...d){const g=hu(n,this._firestore);let I;return I="string"==typeof(o=(0,gt.m9)(o))||o instanceof so?Oh(this._dataReader,"Transaction.update",g._key,o,l,d):qp(this._dataReader,"Transaction.update",g._key,o),this._transaction.update(g._key,I),this}delete(n){const o=hu(n,this._firestore);return this._transaction.delete(o._key),this}}{constructor(n,o){super(n,o),this._firestore=n}get(n){const o=hu(n,this._firestore),l=new fu(this._firestore);return super.get(n).then(d=>new du(this._firestore,l,o._key,d._document,new bc(!1,!1),o.converter))}}function Bh(a,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new v("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return n}function sg(){if("undefined"==typeof Uint8Array)throw new v("unimplemented","Uint8Arrays are not available in this environment.")}function jh(){if("undefined"==typeof atob)throw new v("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(a){Go=a})(Xe.SDK_VERSION),(0,Xe._registerComponent)(new Gt.wA("firestore",(a,{options:n})=>{const o=a.getProvider("app").getImmediate(),l=new Br(o,new le(a.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),l._setSettings(n),l},"PUBLIC")),(0,Xe.registerVersion)("@firebase/firestore","3.0.2",void 0);class Cc{constructor(n){this._delegate=n}static fromBase64String(n){return jh(),new Cc(Bs.fromBase64String(n))}static fromUint8Array(n){return sg(),new Cc(Bs.fromUint8Array(n))}toBase64(){return jh(),this._delegate.toBase64()}toUint8Array(){return sg(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function og(a){return function(a,n){if("object"!=typeof a||null===a)return!1;const o=a;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(a)}class pv{enableIndexedDbPersistence(n,o){return function(a,n){Pl(a=br(a,Br));const o=hi(a),l=a._freezeSettings(),d=new cd;return ra(o,d,new Ip(d,l.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:o})}enableMultiTabIndexedDbPersistence(n){return function(a){Pl(a=br(a,Br));const n=hi(a),o=a._freezeSettings(),l=new cd;return ra(n,l,new Or(l,o.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(a){if(a._initialized&&!a._terminated)throw new v(C.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new b;return a._queue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{yield(o=(0,oe.Z)(function*(l){if(!Ia.bt())return Promise.resolve();const d=l+"main";yield Ia.delete(d)}),function(l){return o.apply(this,arguments)})(Zd(a._databaseId,a._persistenceKey)),n.resolve()}catch(o){n.reject(o)}var o})),n.promise}(n._delegate)}}class Hh{constructor(n,o,l){this._delegate=o,this._persistenceProvider=l,this.INTERNAL={delete:()=>this.terminate()},n instanceof fc||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const o=this._delegate._getSettings();!n.merge&&o.host!==n.host&&Js("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},o),n)).merge,this._delegate._setSettings(n)}useEmulator(n,o,l={}){!function(a,n,o,l={}){var d;const g=(a=br(a,pc))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==n&&Js("Host has been set in both settings() and useEmulator(), emulator host will be used"),a._setSettings(Object.assign(Object.assign({},g),{host:`${n}:${o}`,ssl:!1})),l.mockUserToken){let I,k;if("string"==typeof l.mockUserToken)I=l.mockUserToken,k=li.MOCK_USER;else{I=(0,gt.Sg)(l.mockUserToken,null===(d=a._app)||void 0===d?void 0:d.options.projectId);const j=l.mockUserToken.sub||l.mockUserToken.user_id;if(!j)throw new v(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new li(j)}a._credentials=new W(new R(I,k))}}(this._delegate,n,o,l)}enableNetwork(){return function(a){return function(a){return a.asyncQueue.enqueue((0,oe.Z)(function*(){const n=yield Ch(a),o=yield xp(a);return n.setNetworkEnabled(!0),function(l){const d=Ot(l);return d.Kr.delete(0),lc(d)}(o)}))}(hi(a=br(a,Br)))}(this._delegate)}disableNetwork(){return function(a){return function(a){return a.asyncQueue.enqueue((0,oe.Z)(function*(){const n=yield Ch(a),o=yield xp(a);return n.setNetworkEnabled(!1),(l=(0,oe.Z)(function*(d){const g=Ot(d);g.Kr.add(0),yield Al(g),g.Wr.set("Offline")}),function(d){return l.apply(this,arguments)})(o);var l}))}(hi(a=br(a,Br)))}(this._delegate)}enablePersistence(n){let o=!1,l=!1;return n&&(o=!!n.synchronizeTabs,l=!!n.experimentalForceOwningTab,z_("synchronizeTabs",o,"experimentalForceOwningTab",l)),o?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,l)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(a){return function(n){const o=new b;return n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(a,n){return fh.apply(this,arguments)}(yield Dh(n),o)})),o.promise}(hi(a=br(a,Br)))}(this._delegate)}onSnapshotsInSync(n){return function(a,n){return function(a,n){const o=new Fo(n);return a.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return l=yield Nl(a),d=o,Ot(l).Zr.add(d),void d.next();var l,d})),()=>{o.Xo(),a.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return l=yield Nl(a),d=o,void Ot(l).Zr.delete(d);var l,d}))}}(hi(a=br(a,Br)),Up(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new v("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new si(this,Lm(this._delegate,n))}catch(o){throw Ds(o,"collection()","Firestore.collection()")}}doc(n){try{return new go(this,Ah(this._delegate,n))}catch(o){throw Ds(o,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new js(this,function(a,n){if(a=br(a,pc),Th("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new v(C.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ps(a,null,(o=n,new bs(yr.emptyPath(),o)));var o}(this._delegate,n))}catch(o){throw Ds(o,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(a,n){return function(a,n){const o=new b;return a.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){const l=yield(d=a,Eh(d).then(g=>g.datastore));var d;new Gw(a.asyncQueue,l,n,o).run()})),o.promise}(hi(a),o=>n(new cv(a,o)))}(this._delegate,o=>n(new ag(this,o)))}batch(){return hi(this._delegate),new ug(new Xm(this._delegate,n=>Fl(this._delegate,n)))}loadBundle(n){return function(a,n){const o=hi(a=br(a,Br)),l=new Y_;return function(a,n,o,l){const d=function(g,I){let k;return k="string"==typeof g?(new TextEncoder).encode(g):g,j=function(j,X){if(j instanceof Uint8Array)return U_(j,X);if(j instanceof ArrayBuffer)return U_(new Uint8Array(j),X);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new Dp(j,I);var j}(o,rh(n));a.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){!function(a,n,o){const l=Ot(a);var d;(d=(0,oe.Z)(function*(g,I,k){try{const j=yield I.getMetadata();if(yield function(Je,at){const Dt=Ot(Je),tn=Ui(at.createTime);return Dt.persistence.runTransaction("hasNewerBundle","readonly",On=>Dt.Je.getBundleMetadata(On,at.id)).then(On=>!!On&&On.createTime.compareTo(tn)>=0)}(g.localStore,j))return yield I.close(),void k._completeWith((Je=j,{taskState:"Success",documentsLoaded:Je.totalDocuments,bytesLoaded:Je.totalBytes,totalDocuments:Je.totalDocuments,totalBytes:Je.totalBytes}));k._updateProgress(na(j));const X=new D_(j,g.localStore,I.N);let ue=yield I.Qo();for(;ue;){const Je=yield X.fo(ue);Je&&k._updateProgress(Je),ue=yield I.Qo()}const De=yield X.complete();yield io(g,De.Tn,void 0),yield function(Je,at){const Dt=Ot(Je);return Dt.persistence.runTransaction("Save bundle","readwrite",tn=>Dt.Je.saveBundleMetadata(tn,at))}(g.localStore,j),k._completeWith(De.progress)}catch(j){Js("SyncEngine",`Loading bundle failed with ${j}`),k._failWith(j)}var Je}),function(g,I,k){return d.apply(this,arguments)})(l,n,o).then(()=>{l.sharedClientState.notifyBundleLoaded()})}(yield Dh(a),d,l)}))}(o,a._databaseId,n,l),l}(this._delegate,n)}namedQuery(n){return function(a,n){return function(a,n){return a.asyncQueue.enqueue((0,oe.Z)(function*(){return function(o,l){const d=Ot(o);return d.persistence.runTransaction("Get named query","readonly",g=>d.Je.getNamedQuery(g,l))}(yield Ih(a),n)}))}(hi(a=br(a,Br)),n).then(o=>o?new ps(a,null,o.query):null)}(this._delegate,n).then(o=>o?new js(this,o):null)}}class Ic extends Xp{constructor(n){super(),this.firestore=n}convertBytes(n){return new Cc(new Bs(n))}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return go.forKey(o,this.firestore,null)}}class ag{constructor(n,o){this._firestore=n,this._delegate=o,this._userDataWriter=new Ic(n)}get(n){const o=Ku(n);return this._delegate.get(o).then(l=>new $h(this._firestore,new du(this._firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,o.converter)))}set(n,o,l){const d=Ku(n);return l?(Bh("Transaction.set",l),this._delegate.set(d,o,l)):this._delegate.set(d,o),this}update(n,o,l,...d){const g=Ku(n);return 2===arguments.length?this._delegate.update(g,o):this._delegate.update(g,o,l,...d),this}delete(n){const o=Ku(n);return this._delegate.delete(o),this}}class ug{constructor(n){this._delegate=n}set(n,o,l){const d=Ku(n);return l?(Bh("WriteBatch.set",l),this._delegate.set(d,o,l)):this._delegate.set(d,o),this}update(n,o,l,...d){const g=Ku(n);return 2===arguments.length?this._delegate.update(g,o):this._delegate.update(g,o,l,...d),this}delete(n){const o=Ku(n);return this._delegate.delete(o),this}commit(){return this._delegate.commit()}}class Zu{constructor(n,o,l){this._firestore=n,this._userDataWriter=o,this._delegate=l}fromFirestore(n,o){const l=new Rh(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new yd(this._firestore,l),null!=o?o:{})}toFirestore(n,o){return o?this._delegate.toFirestore(n,o):this._delegate.toFirestore(n)}static getInstance(n,o){const l=Zu.INSTANCES;let d=l.get(n);d||(d=new WeakMap,l.set(n,d));let g=d.get(o);return g||(g=new Zu(n,new Ic(n),o),d.set(o,g)),g}}Zu.INSTANCES=new WeakMap;class go{constructor(n,o){this.firestore=n,this._delegate=o,this._userDataWriter=new Ic(n)}static forPath(n,o,l){if(n.length%2!=0)throw new v("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new go(o,new ii(o._delegate,l,new Yt(n)))}static forKey(n,o,l){return new go(o,new ii(o._delegate,l,n))}get id(){return this._delegate.id}get parent(){return new si(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new si(this.firestore,Lm(this._delegate,n))}catch(o){throw Ds(o,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,gt.m9)(n))instanceof ii&&Vm(this._delegate,n)}set(n,o){o=Bh("DocumentReference.set",o);try{return o?ty(this._delegate,n,o):ty(this._delegate,n)}catch(l){throw Ds(l,"setDoc()","DocumentReference.set()")}}update(n,o,...l){try{return 1===arguments.length?Vh(this._delegate,n):Vh(this._delegate,n,o,...l)}catch(d){throw Ds(d,"updateDoc()","DocumentReference.update()")}}delete(){return function(a){return Fl(br(a.firestore,Br),[new m(a._key,Ur.none())])}(this._delegate)}onSnapshot(...n){const o=lg(n),l=cg(n,d=>new $h(this.firestore,new du(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return Uh(this._delegate,o,l)}get(n){let o;return o="cache"===(null==n?void 0:n.source)?function(a){a=br(a,ii);const n=br(a.firestore,Br),o=hi(n),l=new fu(n);return function(a,n){const o=new b;return a.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(l=(0,oe.Z)(function*(d,g,I){try{const k=yield function(j,X){const ue=Ot(j);return ue.persistence.runTransaction("read document","readonly",De=>ue.Qn.An(De,X))}(d,g);k.isFoundDocument()?I.resolve(k):k.isNoDocument()?I.resolve(null):I.reject(new v(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const j=id(k,`Failed to get document '${g} from cache`);I.reject(j)}}),function(d,g,I){return l.apply(this,arguments)})(yield Ih(a),n,o);var l})),o.promise}(o,a._key).then(d=>new du(n,l,a._key,d,new bc(null!==d&&d.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(a){a=br(a,ii);const n=br(a.firestore,Br);return Op(hi(n),a._key,{source:"server"}).then(o=>ny(n,a,o))}(this._delegate):function(a){a=br(a,ii);const n=br(a.firestore,Br);return Op(hi(n),a._key).then(o=>ny(n,a,o))}(this._delegate),o.then(l=>new $h(this.firestore,new du(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)))}withConverter(n){return new go(this.firestore,this._delegate.withConverter(n?Zu.getInstance(this.firestore,n):null))}}function Ds(a,n,o){return a.message=a.message.replace(n,o),a}function lg(a){for(const n of a)if("object"==typeof n&&!og(n))return n;return{}}function cg(a,n){var o,l;let d;return d=og(a[0])?a[0]:og(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:g=>{d.next&&d.next(n(g))},error:null===(o=d.error)||void 0===o?void 0:o.bind(d),complete:null===(l=d.complete)||void 0===l?void 0:l.bind(d)}}class $h{constructor(n,o){this._firestore=n,this._delegate=o}get ref(){return new go(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,o){return this._delegate.get(n,o)}isEqual(n){return Ph(this._delegate,n._delegate)}}class yd extends $h{data(n){const o=this._delegate.data(n);return function(a,n){a||jt()}(void 0!==o),o}}class js{constructor(n,o){this.firestore=n,this._delegate=o,this._userDataWriter=new Ic(n)}where(n,o,l){try{return new js(this.firestore,kl(this._delegate,function(a,n,o){const l=n,d=Yp("where",a);return new Kw(d,l,o)}(n,o,l)))}catch(d){throw Ds(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,o){try{return new js(this.firestore,kl(this._delegate,function(a,n="asc"){const o=n,l=Yp("orderBy",a);return new rv(l,o)}(n,o)))}catch(l){throw Ds(l,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new js(this.firestore,kl(this._delegate,function(a){return Fp("limit",a),new iv("limit",a,"F")}(n)))}catch(o){throw Ds(o,"limit()","Query.limit()")}}limitToLast(n){try{return new js(this.firestore,kl(this._delegate,function(a){return Fp("limitToLast",a),new iv("limitToLast",a,"L")}(n)))}catch(o){throw Ds(o,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new js(this.firestore,kl(this._delegate,function(...a){return new Wm("startAt",a,!0)}(...n)))}catch(o){throw Ds(o,"startAt()","Query.startAt()")}}startAfter(...n){try{return new js(this.firestore,kl(this._delegate,function(...a){return new Wm("startAfter",a,!1)}(...n)))}catch(o){throw Ds(o,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new js(this.firestore,kl(this._delegate,function(...a){return new Qp("endBefore",a,!0)}(...n)))}catch(o){throw Ds(o,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new js(this.firestore,kl(this._delegate,function(...a){return new Qp("endAt",a,!1)}(...n)))}catch(o){throw Ds(o,"endAt()","Query.endAt()")}}isEqual(n){return Um(this._delegate,n._delegate)}get(n){let o;return o="cache"===(null==n?void 0:n.source)?function(a){a=br(a,ps);const n=br(a.firestore,Br),o=hi(n),l=new fu(n);return function(a,n){const o=new b;return a.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(l=(0,oe.Z)(function*(d,g,I){try{const k=yield Kd(d,g,!0),j=new Mm(g,k.Gn),X=j.Io(k.documents),ue=j.applyChanges(X,!1);I.resolve(ue.snapshot)}catch(k){const j=id(k,`Failed to execute query '${g} against cache`);I.reject(j)}}),function(d,g,I){return l.apply(this,arguments)})(yield Ih(a),n,o);var l})),o.promise}(o,a._query).then(d=>new Wu(n,l,a,d))}(this._delegate):"server"===(null==n?void 0:n.source)?function(a){a=br(a,ps);const n=br(a.firestore,Br),o=hi(n),l=new fu(n);return Np(o,a._query,{source:"server"}).then(d=>new Wu(n,l,a,d))}(this._delegate):function(a){a=br(a,ps);const n=br(a.firestore,Br),o=hi(n),l=new fu(n);return kh(a._query),Np(o,a._query).then(d=>new Wu(n,l,a,d))}(this._delegate),o.then(l=>new dg(this.firestore,new Wu(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)))}onSnapshot(...n){const o=lg(n),l=cg(n,d=>new dg(this.firestore,new Wu(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return Uh(this._delegate,o,l)}withConverter(n){return new js(this.firestore,this._delegate.withConverter(n?Zu.getInstance(this.firestore,n):null))}}class cy{constructor(n,o){this._firestore=n,this._delegate=o}get type(){return this._delegate.type}get doc(){return new yd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dg{constructor(n,o){this._firestore=n,this._delegate=o}get query(){return new js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new yd(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(o=>new cy(this._firestore,o))}forEach(n,o){this._delegate.forEach(l=>{n.call(o,new yd(this._firestore,l))})}isEqual(n){return Ph(this._delegate,n._delegate)}}class si extends js{constructor(n,o){super(n,o),this.firestore=n,this._delegate=o}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new go(this.firestore,n):null}doc(n){try{return new go(this.firestore,void 0===n?Ah(this._delegate):Ah(this._delegate,n))}catch(o){throw Ds(o,"doc()","CollectionReference.doc()")}}add(n){return function(a,n){const o=br(a.firestore,Br),l=Ah(a),d=Lh(a.converter,n);return Fl(o,[pd(zu(a.firestore),"addDoc",l._key,d,null!==a.converter,{}).toMutation(l._key,Ur.exists(!1))]).then(()=>l)}(this._delegate,n).then(o=>new go(this.firestore,o))}isEqual(n){return Vm(this._delegate,n._delegate)}withConverter(n){return new si(this.firestore,this._delegate.withConverter(n?Zu.getInstance(this.firestore,n):null))}}function Ku(a){return br(a,ii)}class hg{constructor(...n){this._delegate=new so(...n)}static documentId(){return new hg(Li.keyField().canonicalString())}isEqual(n){return(n=(0,gt.m9)(n))instanceof so&&this._delegate._internalPath.isEqual(n._internalPath)}}class Ll{constructor(n){this._delegate=n}static serverTimestamp(){const n=new Mh("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new Ll(n)}static delete(){const n=new _c("deleteField");return n._methodName="FieldValue.delete",new Ll(n)}static arrayUnion(...n){const o=function(...a){return new X_("arrayUnion",a)}(...n);return o._methodName="FieldValue.arrayUnion",new Ll(o)}static arrayRemove(...n){const o=function(...a){return new Hm("arrayRemove",a)}(...n);return o._methodName="FieldValue.arrayRemove",new Ll(o)}static increment(n){const o=function(a){return new ev("increment",a)}(n);return o._methodName="FieldValue.increment",new Ll(o)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const dy={Firestore:Hh,GeoPoint:cu,Timestamp:lr,Blob:Cc,Transaction:ag,WriteBatch:ug,DocumentReference:go,DocumentSnapshot:$h,Query:js,QueryDocumentSnapshot:yd,QuerySnapshot:dg,CollectionReference:si,FieldPath:hg,FieldValue:Ll,setLogLevel:function(a){!function(a){Rs.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};!function(a){(function(a,n){a.INTERNAL.registerComponent(new Gt.wA("firestore-compat",o=>((n,o)=>new Hh(n,o,new pv))(o.getProvider("app-compat").getImmediate(),o.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},dy)))})(a),a.registerVersion("@firebase/firestore-compat","0.1.2")}(ot.Z);var pu=$(8006);function fy(a,n){return function(a,n=w.z){return new Y.y(o=>{let l;return null!=n?n.schedule(()=>{l=a.onSnapshot({includeMetadataChanges:!0},o)}):l=a.onSnapshot({includeMetadataChanges:!0},o),()=>{null!=l&&l()}})}(a,n)}function fg(a,n){return fy(a,n).pipe((0,Ge.U)(o=>({payload:o,type:"query"})))}function vd(a,n){return fg(a,n).pipe((0,be.O)(void 0),Ce(),(0,Ge.U)(([o,l])=>{const d=l.payload.docChanges(),g=d.map(I=>({type:I.type,payload:I}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((I,k)=>{const j=d.find(ue=>ue.doc.ref.isEqual(I.ref)),X=null==o?void 0:o.payload.docs.find(ue=>ue.ref.isEqual(I.ref));j&&JSON.stringify(j.doc.metadata)===JSON.stringify(I.metadata)||!j&&X&&JSON.stringify(X.metadata)===JSON.stringify(I.metadata)||g.push({type:"modified",payload:{oldIndex:k,newIndex:k,type:"modified",doc:I}})}),g}))}function yv(a,n,o){return vd(a,o).pipe((0,Pe.R)((l,d)=>function(a,n,o){return n.forEach(l=>{o.indexOf(l.type)>-1&&(a=function(a,n){switch(n.type){case"added":if(!a[n.newIndex]||!a[n.newIndex].doc.ref.isEqual(n.doc.ref))return wd(a,n.newIndex,0,n);break;case"modified":if(null==a[n.oldIndex]||a[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const o=a.slice();return o.splice(n.oldIndex,1),o.splice(n.newIndex,0,n),o}return wd(a,n.newIndex,1,n)}break;case"removed":if(a[n.oldIndex]&&a[n.oldIndex].doc.ref.isEqual(n.doc.ref))return wd(a,n.oldIndex,1)}return a}(a,l))}),a}(l,d.map(g=>g.payload),n),[]),o=>o.lift(new de(void 0,void 0)),(0,Ge.U)(l=>l.map(d=>({type:d.type,payload:d}))))}function wd(a,n,o,...l){const d=a.slice();return d.splice(n,o,...l),d}function my(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}$(7841);class yy{constructor(n,o,l){this.ref=n,this.query=o,this.afs=l}stateChanges(n){let o=vd(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(o=o.pipe((0,Ge.U)(l=>l.filter(d=>n.indexOf(d.type)>-1)))),o.pipe((0,be.O)(void 0),Ce(),(0,Ue.h)(([l,d])=>d.length>0||!l),(0,Ge.U)(([l,d])=>d),ve.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,Pe.R)((o,l)=>[...o,...l],[]))}snapshotChanges(n){const o=my(n);return yv(this.query,o,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(n={}){return fg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(o=>o.payload.docs.map(l=>n.idField?Object.assign(Object.assign({},l.data()),{[n.idField]:l.id}):l.data())),ve.iC)}get(n){return(0,we.D)(this.query.get(n)).pipe(ve.iC)}add(n){return this.ref.add(n)}doc(n){return new sa(this.ref.doc(n),this.afs)}}class sa{constructor(n,o){this.ref=n,this.afs=o}set(n,o){return this.ref.set(n,o)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,o){const l=this.ref.collection(n),{ref:d,query:g}=wy(l,o);return new yy(d,g,this.afs)}snapshotChanges(){return function(a,n){return fy(a,n).pipe((0,be.O)(void 0),Ce(),(0,Ge.U)(([o,l])=>l.exists?(null==o?void 0:o.exists)?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,Ge.U)(({payload:o})=>n.idField?Object.assign(Object.assign({},o.data()),{[n.idField]:o.id}):o.data()))}get(n){return(0,we.D)(this.ref.get(n)).pipe(ve.iC)}}class oa{constructor(n,o){this.query=n,this.afs=o}stateChanges(n){return n&&0!==n.length?vd(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(o=>o.filter(l=>n.indexOf(l.type)>-1)),(0,Ue.h)(o=>o.length>0),ve.iC):vd(this.query,this.afs.schedulers.outsideAngular).pipe(ve.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,Pe.R)((o,l)=>[...o,...l],[]))}snapshotChanges(n){const o=my(n);return yv(this.query,o,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(n={}){return fg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(l=>l.payload.docs.map(d=>n.idField?Object.assign({[n.idField]:d.id},d.data()):d.data())),ve.iC)}get(n){return(0,we.D)(this.query.get(n)).pipe(ve.iC)}}const aa=new E.OlP("angularfire2.enableFirestorePersistence"),_y=new E.OlP("angularfire2.firestore.persistenceSettings"),vy=new E.OlP("angularfire2.firestore.settings"),_v=new E.OlP("angularfire2.firestore.use-emulator");function wy(a,n=(o=>o)){return{query:n(a),ref:a}}let vv=(()=>{class a{constructor(o,l,d,g,I,k,j,X,ue,De,Je,at,Dt,tn,On,fi){this.schedulers=j;const Ts=(0,he.on)(o,k,l),Ma=ue;De&&(0,pu.nw)(Ts,k,Je,Dt,tn,On,at,fi),[this.firestore,this.persistenceEnabled$]=(0,ve.cc)(`${Ts.name}.firestore`,"AngularFirestore",Ts.name,()=>{const Bo=k.runOutsideAngular(()=>Ts.firestore());if(g&&Bo.settings(g),Ma&&Bo.useEmulator(...Ma),d&&!(0,Ye.PM)(I)){const bd=()=>{try{return(0,we.D)(Bo.enablePersistence(X||void 0).then(()=>!0,()=>!1))}catch(Gh){return"undefined"!=typeof console&&console.warn(Gh),(0,Ne.of)(!1)}};return[Bo,k.runOutsideAngular(bd)]}return[Bo,(0,Ne.of)(!1)]},[g,Ma,d])}collection(o,l){let d;d="string"==typeof o?this.firestore.collection(o):o;const{ref:g,query:I}=wy(d,l),k=this.schedulers.ngZone.run(()=>g);return new yy(k,I,this)}collectionGroup(o,l){const d=l||(I=>I),g=this.firestore.collectionGroup(o);return new oa(d(g),this)}doc(o){let l;l="string"==typeof o?this.firestore.doc(o):o;const d=this.schedulers.ngZone.run(()=>l);return new sa(d,this)}createId(){return this.firestore.collection("_").doc().id}}return a.\u0275fac=function(o){return new(o||a)(E.LFG(he.Dh),E.LFG(he.xv,8),E.LFG(aa,8),E.LFG(vy,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(ve.HU),E.LFG(_y,8),E.LFG(_v,8),E.LFG(pu.zQ,8),E.LFG(pu.Qv,8),E.LFG(pu.L6,8),E.LFG(pu._Q,8),E.LFG(pu.rT,8),E.LFG(pu.lh,8),E.LFG(pu.f7,8))},a.\u0275prov=E.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})()},8939:(Nt,We,$)=>{"use strict";$.d(We,{hO:()=>ae,xv:()=>ce,Dh:()=>Ce,GT:()=>ve,on:()=>ee,pX:()=>Ne});var E=$(3018),w=$(7841),Y=$(9126);Nt=$.hmd(Nt);const we=["ngOnDestroy"],Ne=(be,Ge,Pe,Ue={})=>new Proxy(be,{get:(he,Ye)=>Pe.runOutsideAngular(()=>{var Ke;if(be[Ye])return(null===(Ke=null==Ue?void 0:Ue.spy)||void 0===Ke?void 0:Ke.get)&&Ue.spy.get(Ye,be[Ye]),be[Ye];if(we.indexOf(Ye)>-1)return()=>{};const ot=Ge.toPromise().then(oe=>{const Xe=oe&&oe[Ye];return"function"==typeof Xe?Xe.bind(oe):Xe&&Xe.then?Xe.then(Gt=>Pe.run(()=>Gt)):Pe.run(()=>Xe)});return new Proxy(()=>{},{get:(oe,Xe)=>ot[Xe],apply:(oe,Xe,Gt)=>ot.then(et=>{var gt;const Fe=et&&et(...Gt);return(null===(gt=null==Ue?void 0:Ue.spy)||void 0===gt?void 0:gt.apply)&&Ue.spy.apply(Ye,Gt,Fe),Fe})})})}),ve=(be,Ge)=>{Ge.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Ue=>{Object.defineProperty(be.prototype,Ue,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Ue))})})};class $e{constructor(Ge){return Ge}}const Ce=new E.OlP("angularfire2.app.options"),ce=new E.OlP("angularfire2.app.name");function ee(be,Ge,Pe){const he="object"==typeof Pe&&Pe||{};he.name=he.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const Ke=w.Z.apps.filter(ot=>ot&&ot.name===he.name)[0]||Ge.runOutsideAngular(()=>w.Z.initializeApp(be,he));try{JSON.stringify(be)!==JSON.stringify(Ke.options)&&re("error",`${Ke.name} Firebase App already initialized with different options${Nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ot){}return new $e(Ke)}const re=(be,...Ge)=>{(0,E.X6Q)()&&"undefined"!=typeof console&&console[be](...Ge)},de={provide:$e,useFactory:ee,deps:[Ce,E.R0b,[new E.FiY,ce]]};let ae=(()=>{class be{constructor(Pe){w.Z.registerVersion("angularfire",Y.q4.full,"core"),w.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),w.Z.registerVersion("angular",E.q4F.full,Pe.toString())}static initializeApp(Pe,Ue){return{ngModule:be,providers:[{provide:Ce,useValue:Pe},{provide:ce,useValue:Ue}]}}}return be.\u0275fac=function(Pe){return new(Pe||be)(E.LFG(E.Lbi))},be.\u0275mod=E.oAB({type:be}),be.\u0275inj=E.cJS({providers:[de]}),be})()},9126:(Nt,We,$)=>{"use strict";$.d(We,{q4:()=>ee,iC:()=>Fe,HU:()=>ot,cc:()=>ae});var E=$(3018);(0,$(5452).registerVersion)("firebase","9.0.2","app");var Ne=$(7771),ve=$(3637),$e=$(3342),Ce=$(3101),ce=$(309);Nt=$.hmd(Nt);const ee=new E.GfV("7.0.4"),re=!!Nt.hot,de=(ye,...Ae)=>{(0,E.X6Q)()&&"undefined"!=typeof console&&console[ye](...Ae)};function ae(ye,Ae,Be,bt,Zt){const[,ct,pt]=globalThis.\u0275AngularfireInstanceCache.find(Rt=>Rt[0]===ye)||[];if(ct)return function(ye,Ae){try{return ye.toString()===Ae.toString()}catch(Be){return ye===Ae}}(Zt,pt)||(de("error",`${Ae} was already initialized on the ${Be} Firebase App with different settings.${re?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:Zt,was:pt})),ct;{const Rt=bt();return globalThis.\u0275AngularfireInstanceCache.push([ye,Rt,Zt]),Rt}}function he(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ye{constructor(Ae,Be=Ne.N){this.zone=Ae,this.delegate=Be}now(){return this.delegate.now()}schedule(Ae,Be,bt){const Zt=this.zone;return this.delegate.schedule(function(pt){Zt.runGuarded(()=>{Ae.apply(this,[pt])})},Be,bt)}}class Ke{constructor(Ae){this.zone=Ae,this.task=null}call(Ae,Be){const bt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",he,{},he,he)),Be.pipe((0,$e.b)({next:bt,complete:bt,error:bt})).subscribe(Ae).add(bt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ot=(()=>{class ye{constructor(Be){this.ngZone=Be,this.outsideAngular=Be.runOutsideAngular(()=>new Ye(Zone.current)),this.insideAngular=Be.run(()=>new Ye(Zone.current,ve.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ye.\u0275fac=function(Be){return new(Be||ye)(E.LFG(E.R0b))},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();function oe(){const ye=globalThis.\u0275AngularFireScheduler;if(!ye)throw new Error("AngularFireModule has not been provided");return ye}function Fe(ye){return oe(),function(ye){return function(Be){return(Be=Be.lift(new Ke(ye.ngZone))).pipe((0,Ce.R)(ye.outsideAngular),(0,ce.QV)(ye.insideAngular))}}(oe())(ye)}},665:(Nt,We,$)=>{"use strict";$.d(We,{Fj:()=>he,NI:()=>vt,u:()=>Sr,cw:()=>en,sg:()=>Mr,u5:()=>L,nD:()=>Di,JJ:()=>$t,JL:()=>zt,F:()=>qn,On:()=>dn,UX:()=>Z,kI:()=>Gt,_Y:()=>_r});var E=$(3018),w=$(8583),Y=$(7574),we=$(9796),Ne=$(8002),ve=$(1555),$e=$(4402);function ce(P,O){return new Y.y(S=>{const H=P.length;if(0===H)return void S.complete();const Re=new Array(H);let wt=0,qt=0;for(let Jn=0;Jn<H;Jn++){const Zr=(0,$e.D)(P[Jn]);let zr=!1;S.add(Zr.subscribe({next:sr=>{zr||(zr=!0,qt++),Re[Jn]=sr},error:sr=>S.error(sr),complete:()=>{wt++,(wt===H||!zr)&&(qt===H&&S.next(O?O.reduce((sr,Ti,Wi)=>(sr[Ti]=Re[Wi],sr),{}):Re),S.complete())}}))}})}let ee=(()=>{class P{constructor(S,H){this._renderer=S,this._elementRef=H,this.onChange=Re=>{},this.onTouched=()=>{}}setProperty(S,H){this._renderer.setProperty(this._elementRef.nativeElement,S,H)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return P.\u0275fac=function(S){return new(S||P)(E.Y36(E.Qsj),E.Y36(E.SBq))},P.\u0275dir=E.lG2({type:P}),P})(),re=(()=>{class P extends ee{}return P.\u0275fac=function(){let O;return function(H){return(O||(O=E.n5z(P)))(H||P)}}(),P.\u0275dir=E.lG2({type:P,features:[E.qOj]}),P})();const de=new E.OlP("NgValueAccessor"),Ge={provide:de,useExisting:(0,E.Gpc)(()=>he),multi:!0},Ue=new E.OlP("CompositionEventMode");let he=(()=>{class P extends ee{constructor(S,H,Re){super(S,H),this._compositionMode=Re,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const P=(0,w.q)()?(0,w.q)().getUserAgent():"";return/android (\d+)/.test(P.toLowerCase())}())}writeValue(S){this.setProperty("value",null==S?"":S)}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return P.\u0275fac=function(S){return new(S||P)(E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(Ue,8))},P.\u0275dir=E.lG2({type:P,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,H){1&S&&E.NdJ("input",function(wt){return H._handleInput(wt.target.value)})("blur",function(){return H.onTouched()})("compositionstart",function(){return H._compositionStart()})("compositionend",function(wt){return H._compositionEnd(wt.target.value)})},features:[E._Bn([Ge]),E.qOj]}),P})();function Ye(P){return null==P||0===P.length}function Ke(P){return null!=P&&"number"==typeof P.length}const ot=new E.OlP("NgValidators"),oe=new E.OlP("NgAsyncValidators"),Xe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gt{static min(O){return P=O,O=>{if(Ye(O.value)||Ye(P))return null;const S=parseFloat(O.value);return!isNaN(S)&&S<P?{min:{min:P,actual:O.value}}:null};var P}static max(O){return P=O,O=>{if(Ye(O.value)||Ye(P))return null;const S=parseFloat(O.value);return!isNaN(S)&&S>P?{max:{max:P,actual:O.value}}:null};var P}static required(O){return Ye(O.value)?{required:!0}:null}static requiredTrue(O){return!0===O.value?null:{required:!0}}static email(O){return Ye((P=O).value)||Xe.test(P.value)?null:{email:!0};var P}static minLength(O){return P=O,O=>Ye(O.value)||!Ke(O.value)?null:O.value.length<P?{minlength:{requiredLength:P,actualLength:O.value.length}}:null;var P}static maxLength(O){return ye(O)}static pattern(O){return function(P){if(!P)return Be;let O,S;return"string"==typeof P?(S="","^"!==P.charAt(0)&&(S+="^"),S+=P,"$"!==P.charAt(P.length-1)&&(S+="$"),O=new RegExp(S)):(S=P.toString(),O=P),H=>{if(Ye(H.value))return null;const Re=H.value;return O.test(Re)?null:{pattern:{requiredPattern:S,actualValue:Re}}}}(O)}static nullValidator(O){return null}static compose(O){return gn(O)}static composeAsync(O){return ht(O)}}function ye(P){return O=>Ke(O.value)&&O.value.length>P?{maxlength:{requiredLength:P,actualLength:O.value.length}}:null}function Be(P){return null}function bt(P){return null!=P}function Zt(P){const O=(0,E.QGY)(P)?(0,$e.D)(P):P;return(0,E.CqO)(O),O}function ct(P){let O={};return P.forEach(S=>{O=null!=S?Object.assign(Object.assign({},O),S):O}),0===Object.keys(O).length?null:O}function pt(P,O){return O.map(S=>S(P))}function nn(P){return P.map(O=>function(P){return!P.validate}(O)?O:S=>O.validate(S))}function gn(P){if(!P)return null;const O=P.filter(bt);return 0==O.length?null:function(S){return ct(pt(S,O))}}function mn(P){return null!=P?gn(nn(P)):null}function ht(P){if(!P)return null;const O=P.filter(bt);return 0==O.length?null:function(S){return function(...P){if(1===P.length){const O=P[0];if((0,we.k)(O))return ce(O,null);if((0,ve.K)(O)&&Object.getPrototypeOf(O)===Object.prototype){const S=Object.keys(O);return ce(S.map(H=>O[H]),S)}}if("function"==typeof P[P.length-1]){const O=P.pop();return ce(P=1===P.length&&(0,we.k)(P[0])?P[0]:P,null).pipe((0,Ne.U)(S=>O(...S)))}return ce(P,null)}(pt(S,O).map(Zt)).pipe((0,Ne.U)(ct))}}function Et(P){return null!=P?ht(nn(P)):null}function Lt(P,O){return null===P?[O]:Array.isArray(P)?[...P,O]:[P,O]}function kt(P){return P._rawValidators}function $n(P){return P._rawAsyncValidators}function ln(P){return P?Array.isArray(P)?P:[P]:[]}function er(P,O){return Array.isArray(P)?P.includes(O):P===O}function gr(P,O){const S=ln(O);return ln(P).forEach(Re=>{er(S,Re)||S.push(Re)}),S}function Ln(P,O){return ln(O).filter(S=>!er(P,S))}let bn=(()=>{class P{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=mn(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=Et(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S){this.control&&this.control.reset(S)}hasError(S,H){return!!this.control&&this.control.hasError(S,H)}getError(S,H){return this.control?this.control.getError(S,H):null}}return P.\u0275fac=function(S){return new(S||P)},P.\u0275dir=E.lG2({type:P}),P})(),Pt=(()=>{class P extends bn{get formDirective(){return null}get path(){return null}}return P.\u0275fac=function(){let O;return function(H){return(O||(O=E.n5z(P)))(H||P)}}(),P.\u0275dir=E.lG2({type:P,features:[E.qOj]}),P})();class vn extends bn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Dn{constructor(O){this._cd=O}is(O){var S,H,Re;return"submitted"===O?!!(null===(S=this._cd)||void 0===S?void 0:S.submitted):!!(null===(Re=null===(H=this._cd)||void 0===H?void 0:H.control)||void 0===Re?void 0:Re[O])}}let $t=(()=>{class P extends Dn{constructor(S){super(S)}}return P.\u0275fac=function(S){return new(S||P)(E.Y36(vn,2))},P.\u0275dir=E.lG2({type:P,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,H){2&S&&E.ekj("ng-untouched",H.is("untouched"))("ng-touched",H.is("touched"))("ng-pristine",H.is("pristine"))("ng-dirty",H.is("dirty"))("ng-valid",H.is("valid"))("ng-invalid",H.is("invalid"))("ng-pending",H.is("pending"))},features:[E.qOj]}),P})(),zt=(()=>{class P extends Dn{constructor(S){super(S)}}return P.\u0275fac=function(S){return new(S||P)(E.Y36(Pt,10))},P.\u0275dir=E.lG2({type:P,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,H){2&S&&E.ekj("ng-untouched",H.is("untouched"))("ng-touched",H.is("touched"))("ng-pristine",H.is("pristine"))("ng-dirty",H.is("dirty"))("ng-valid",H.is("valid"))("ng-invalid",H.is("invalid"))("ng-pending",H.is("pending"))("ng-submitted",H.is("submitted"))},features:[E.qOj]}),P})();function Kt(P,O){return[...O.path,P]}function Vn(P,O){qe(P,O),O.valueAccessor.writeValue(P.value),function(P,O){O.valueAccessor.registerOnChange(S=>{P._pendingValue=S,P._pendingChange=!0,P._pendingDirty=!0,"change"===P.updateOn&&rn(P,O)})}(P,O),function(P,O){const S=(H,Re)=>{O.valueAccessor.writeValue(H),Re&&O.viewToModelUpdate(H)};P.registerOnChange(S),O._registerOnDestroy(()=>{P._unregisterOnChange(S)})}(P,O),function(P,O){O.valueAccessor.registerOnTouched(()=>{P._pendingTouched=!0,"blur"===P.updateOn&&P._pendingChange&&rn(P,O),"submit"!==P.updateOn&&P.markAsTouched()})}(P,O),function(P,O){if(O.valueAccessor.setDisabledState){const S=H=>{O.valueAccessor.setDisabledState(H)};P.registerOnDisabledChange(S),O._registerOnDestroy(()=>{P._unregisterOnDisabledChange(S)})}}(P,O)}function pe(P,O,S=!0){const H=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(H),O.valueAccessor.registerOnTouched(H)),Oe(P,O),P&&(O._invokeOnDestroyCallbacks(),P._registerOnCollectionChange(()=>{}))}function ne(P,O){P.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(O)})}function qe(P,O){const S=kt(P);null!==O.validator?P.setValidators(Lt(S,O.validator)):"function"==typeof S&&P.setValidators([S]);const H=$n(P);null!==O.asyncValidator?P.setAsyncValidators(Lt(H,O.asyncValidator)):"function"==typeof H&&P.setAsyncValidators([H]);const Re=()=>P.updateValueAndValidity();ne(O._rawValidators,Re),ne(O._rawAsyncValidators,Re)}function Oe(P,O){let S=!1;if(null!==P){if(null!==O.validator){const Re=kt(P);if(Array.isArray(Re)&&Re.length>0){const wt=Re.filter(qt=>qt!==O.validator);wt.length!==Re.length&&(S=!0,P.setValidators(wt))}}if(null!==O.asyncValidator){const Re=$n(P);if(Array.isArray(Re)&&Re.length>0){const wt=Re.filter(qt=>qt!==O.asyncValidator);wt.length!==Re.length&&(S=!0,P.setAsyncValidators(wt))}}}const H=()=>{};return ne(O._rawValidators,H),ne(O._rawAsyncValidators,H),S}function rn(P,O){P._pendingDirty&&P.markAsDirty(),P.setValue(P._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(P._pendingValue),P._pendingChange=!1}function yn(P,O){qe(P,O)}function Ee(P,O){if(!P.hasOwnProperty("model"))return!1;const S=P.model;return!!S.isFirstChange()||!Object.is(O,S.currentValue)}function It(P,O){P._syncPendingControls(),O.forEach(S=>{const H=S.control;"submit"===H.updateOn&&H._pendingChange&&(S.viewToModelUpdate(H._pendingValue),H._pendingChange=!1)})}function Vt(P,O){if(!O)return null;let S,H,Re;return Array.isArray(O),O.forEach(wt=>{wt.constructor===he?S=wt:function(P){return Object.getPrototypeOf(P.constructor)===re}(wt)?H=wt:Re=wt}),Re||H||S||null}function cn(P,O){const S=P.indexOf(O);S>-1&&P.splice(S,1)}const Yn="VALID",An="INVALID",tr="PENDING",sn="DISABLED";function St(P){return(Cr(P)?P.validators:P)||null}function jr(P){return Array.isArray(P)?mn(P):P||null}function gi(P,O){return(Cr(O)?O.asyncValidators:P)||null}function dr(P){return Array.isArray(P)?Et(P):P||null}function Cr(P){return null!=P&&!Array.isArray(P)&&"object"==typeof P}class xr{constructor(O,S){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=S,this._composedValidatorFn=jr(this._rawValidators),this._composedAsyncValidatorFn=dr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===Yn}get invalid(){return this.status===An}get pending(){return this.status==tr}get disabled(){return this.status===sn}get enabled(){return this.status!==sn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=jr(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=dr(O)}addValidators(O){this.setValidators(gr(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(gr(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(Ln(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(Ln(O,this._rawAsyncValidators))}hasValidator(O){return er(this._rawValidators,O)}hasAsyncValidator(O){return er(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=tr,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const S=this._parentMarkedDirty(O.onlySelf);this.status=sn,this.errors=null,this._forEachChild(H=>{H.disable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:S})),this._onDisabledChange.forEach(H=>H(!0))}enable(O={}){const S=this._parentMarkedDirty(O.onlySelf);this.status=Yn,this._forEachChild(H=>{H.enable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:S})),this._onDisabledChange.forEach(H=>H(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yn||this.status===tr)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sn:Yn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=tr,this._hasOwnPendingAsyncValidator=!0;const S=Zt(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(H=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(H,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,S={}){this.errors=O,this._updateControlsErrors(!1!==S.emitEvent)}get(O){return function(P,O,S){if(null==O||(Array.isArray(O)||(O=O.split(".")),Array.isArray(O)&&0===O.length))return null;let H=P;return O.forEach(Re=>{H=H instanceof en?H.controls.hasOwnProperty(Re)?H.controls[Re]:null:H instanceof Qn&&H.at(Re)||null}),H}(this,O)}getError(O,S){const H=S?this.get(S):this;return H&&H.errors?H.errors[O]:null}hasError(O,S){return!!this.getError(O,S)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new E.vpe,this.statusChanges=new E.vpe}_calculateStatus(){return this._allControlsDisabled()?sn:this.errors?An:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tr)?tr:this._anyControlsHaveStatus(An)?An:Yn}_anyControlsHaveStatus(O){return this._anyControls(S=>S.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_isBoxedValue(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){Cr(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class vt extends xr{constructor(O=null,S,H){super(St(S),gi(H,S)),this._onChange=[],this._applyFormState(O),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(O,S={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(H=>H(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(O,S={}){this.setValue(O,S)}reset(O=null,S={}){this._applyFormState(O),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){cn(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){cn(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){this._isBoxedValue(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}}class en extends xr{constructor(O,S,H){super(St(S),gi(H,S)),this.controls=O,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,S){return this.controls[O]?this.controls[O]:(this.controls[O]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(O,S,H={}){this.registerControl(O,S),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}removeControl(O,S={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(O,S,H={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],S&&this.registerControl(O,S),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,S={}){this._checkAllValuesPresent(O),Object.keys(O).forEach(H=>{this._throwIfControlMissing(H),this.controls[H].setValue(O[H],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(O,S={}){null!=O&&(Object.keys(O).forEach(H=>{this.controls[H]&&this.controls[H].patchValue(O[H],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(O={},S={}){this._forEachChild((H,Re)=>{H.reset(O[Re],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(O,S,H)=>(O[H]=S instanceof vt?S.value:S.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(S,H)=>!!H._syncPendingControls()||S);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_throwIfControlMissing(O){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[O])throw new Error(`Cannot find form control with name: ${O}.`)}_forEachChild(O){Object.keys(this.controls).forEach(S=>{const H=this.controls[S];H&&O(H,S)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const S of Object.keys(this.controls)){const H=this.controls[S];if(this.contains(S)&&O(H))return!0}return!1}_reduceValue(){return this._reduceChildren({},(O,S,H)=>((S.enabled||this.disabled)&&(O[H]=S.value),O))}_reduceChildren(O,S){let H=O;return this._forEachChild((Re,wt)=>{H=S(H,Re,wt)}),H}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(O){this._forEachChild((S,H)=>{if(void 0===O[H])throw new Error(`Must supply a value for form control with name: '${H}'.`)})}}class Qn extends xr{constructor(O,S,H){super(St(S),gi(H,S)),this.controls=O,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[O]}push(O,S={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}insert(O,S,H={}){this.controls.splice(O,0,S),this._registerControl(S),this.updateValueAndValidity({emitEvent:H.emitEvent})}removeAt(O,S={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),this.updateValueAndValidity({emitEvent:S.emitEvent})}setControl(O,S,H={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),S&&(this.controls.splice(O,0,S),this._registerControl(S)),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,S={}){this._checkAllValuesPresent(O),O.forEach((H,Re)=>{this._throwIfControlMissing(Re),this.at(Re).setValue(H,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(O,S={}){null!=O&&(O.forEach((H,Re)=>{this.at(Re)&&this.at(Re).patchValue(H,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(O=[],S={}){this._forEachChild((H,Re)=>{H.reset(O[Re],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this.controls.map(O=>O instanceof vt?O.value:O.getRawValue())}clear(O={}){this.controls.length<1||(this._forEachChild(S=>S._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_syncPendingControls(){let O=this.controls.reduce((S,H)=>!!H._syncPendingControls()||S,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_throwIfControlMissing(O){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(O))throw new Error(`Cannot find form control at index ${O}`)}_forEachChild(O){this.controls.forEach((S,H)=>{O(S,H)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(S=>S.enabled&&O(S))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_checkAllValuesPresent(O){this._forEachChild((S,H)=>{if(void 0===O[H])throw new Error(`Must supply a value for form control at index: ${H}.`)})}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}}const Cn={provide:Pt,useExisting:(0,E.Gpc)(()=>qn)},Sn=(()=>Promise.resolve(null))();let qn=(()=>{class P extends Pt{constructor(S,H){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new E.vpe,this.form=new en({},mn(S),Et(H))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){Sn.then(()=>{const H=this._findContainer(S.path);S.control=H.registerControl(S.name,S.control),Vn(S.control,S),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){Sn.then(()=>{const H=this._findContainer(S.path);H&&H.removeControl(S.name),cn(this._directives,S)})}addFormGroup(S){Sn.then(()=>{const H=this._findContainer(S.path),Re=new en({});yn(Re,S),H.registerControl(S.name,Re),Re.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){Sn.then(()=>{const H=this._findContainer(S.path);H&&H.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,H){Sn.then(()=>{this.form.get(S.path).setValue(H)})}setValue(S){this.control.setValue(S)}onSubmit(S){return this.submitted=!0,It(this.form,this._directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return P.\u0275fac=function(S){return new(S||P)(E.Y36(ot,10),E.Y36(oe,10))},P.\u0275dir=E.lG2({type:P,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,H){1&S&&E.NdJ("submit",function(wt){return H.onSubmit(wt)})("reset",function(){return H.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([Cn]),E.qOj]}),P})();const Hr={provide:vn,useExisting:(0,E.Gpc)(()=>dn)},$r=(()=>Promise.resolve(null))();let dn=(()=>{class P extends vn{constructor(S,H,Re,wt){super(),this.control=new vt,this._registered=!1,this.update=new E.vpe,this._parent=S,this._setValidators(H),this._setAsyncValidators(Re),this.valueAccessor=Vt(0,wt)}ngOnChanges(S){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in S&&this._updateDisabled(S),Ee(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Kt(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){$r.then(()=>{this.control.setValue(S,{emitViewToModelChange:!1})})}_updateDisabled(S){const H=S.isDisabled.currentValue,Re=""===H||H&&"false"!==H;$r.then(()=>{Re&&!this.control.disabled?this.control.disable():!Re&&this.control.disabled&&this.control.enable()})}}return P.\u0275fac=function(S){return new(S||P)(E.Y36(Pt,9),E.Y36(ot,10),E.Y36(oe,10),E.Y36(de,10))},P.\u0275dir=E.lG2({type:P,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[E._Bn([Hr]),E.qOj,E.TTD]}),P})(),_r=(()=>{class P{}return P.\u0275fac=function(S){return new(S||P)},P.\u0275dir=E.lG2({type:P,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),P})(),Tr=(()=>{class P{}return P.\u0275fac=function(S){return new(S||P)},P.\u0275mod=E.oAB({type:P}),P.\u0275inj=E.cJS({}),P})();const Jr=new E.OlP("NgModelWithFormControlWarning"),Ci={provide:Pt,useExisting:(0,E.Gpc)(()=>Mr)};let Mr=(()=>{class P extends Pt{constructor(S,H){super(),this.validators=S,this.asyncValidators=H,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new E.vpe,this._setValidators(S),this._setAsyncValidators(H)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Oe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const H=this.form.get(S.path);return Vn(H,S),H.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),H}getControl(S){return this.form.get(S.path)}removeControl(S){pe(S.control||null,S,!1),cn(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,H){this.form.get(S.path).setValue(H)}onSubmit(S){return this.submitted=!0,It(this.form,this.directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_updateDomValue(){this.directives.forEach(S=>{const H=S.control,Re=this.form.get(S.path);H!==Re&&(pe(H||null,S),Re instanceof vt&&(Vn(Re,S),S.control=Re))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const H=this.form.get(S.path);yn(H,S),H.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const H=this.form.get(S.path);H&&function(P,O){return Oe(P,O)}(H,S)&&H.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qe(this.form,this),this._oldForm&&Oe(this._oldForm,this)}_checkFormPresent(){}}return P.\u0275fac=function(S){return new(S||P)(E.Y36(ot,10),E.Y36(oe,10))},P.\u0275dir=E.lG2({type:P,selectors:[["","formGroup",""]],hostBindings:function(S,H){1&S&&E.NdJ("submit",function(wt){return H.onSubmit(wt)})("reset",function(){return H.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([Ci]),E.qOj,E.TTD]}),P})();const Ii={provide:vn,useExisting:(0,E.Gpc)(()=>Sr)};let Sr=(()=>{class P extends vn{constructor(S,H,Re,wt,qt){super(),this._ngModelWarningConfig=qt,this._added=!1,this.update=new E.vpe,this._ngModelWarningSent=!1,this._parent=S,this._setValidators(H),this._setAsyncValidators(Re),this.valueAccessor=Vt(0,wt)}set isDisabled(S){}ngOnChanges(S){this._added||this._setUpControl(),Ee(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return Kt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return P.\u0275fac=function(S){return new(S||P)(E.Y36(Pt,13),E.Y36(ot,10),E.Y36(oe,10),E.Y36(de,10),E.Y36(Jr,8))},P.\u0275dir=E.lG2({type:P,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[E._Bn([Ii]),E.qOj,E.TTD]}),P._ngModelWarningSentOnce=!1,P})();const qr={provide:ot,useExisting:(0,E.Gpc)(()=>Di),multi:!0};let Di=(()=>{class P{constructor(){this._validator=Be}ngOnChanges(S){"maxlength"in S&&(this._createValidator(),this._onChange&&this._onChange())}validate(S){return this.enabled()?this._validator(S):null}registerOnValidatorChange(S){this._onChange=S}_createValidator(){this._validator=this.enabled()?ye(function(P){return"number"==typeof P?P:parseInt(P,10)}(this.maxlength)):Be}enabled(){return null!=this.maxlength}}return P.\u0275fac=function(S){return new(S||P)},P.\u0275dir=E.lG2({type:P,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(S,H){2&S&&E.uIk("maxlength",H.enabled()?H.maxlength:null)},inputs:{maxlength:"maxlength"},features:[E._Bn([qr]),E.TTD]}),P})(),z=(()=>{class P{}return P.\u0275fac=function(S){return new(S||P)},P.\u0275mod=E.oAB({type:P}),P.\u0275inj=E.cJS({imports:[[Tr]]}),P})(),L=(()=>{class P{}return P.\u0275fac=function(S){return new(S||P)},P.\u0275mod=E.oAB({type:P}),P.\u0275inj=E.cJS({imports:[z]}),P})(),Z=(()=>{class P{static withConfig(S){return{ngModule:P,providers:[{provide:Jr,useValue:S.warnOnNgModelWithFormControl}]}}}return P.\u0275fac=function(S){return new(S||P)},P.\u0275mod=E.oAB({type:P}),P.\u0275inj=E.cJS({imports:[z]}),P})()},6575:(Nt,We,$)=>{"use strict";$.d(We,{F0:()=>Wn,yS:()=>Co,Bz:()=>$o,lC:()=>Io});var E=$(8583),w=$(3018),Y=$(9765),we=$(7971);class Ne extends Y.xQ{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const b=super._subscribe(v);return b&&!b.closed&&v.next(this._value),b}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new we.N;return this._value}next(v){super.next(this._value=v)}}var ve=$(4869),$e=$(9796),Ce=$(7393);class ce extends Ce.L{notifyNext(v,b,R,V,W){this.destination.next(b)}notifyError(v,b){this.destination.error(v)}notifyComplete(v){this.destination.complete()}}class ee extends Ce.L{constructor(v,b,R){super(),this.parent=v,this.outerValue=b,this.outerIndex=R,this.index=0}_next(v){this.parent.notifyNext(this.outerValue,v,this.outerIndex,this.index++,this)}_error(v){this.parent.notifyError(v,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var re=$(7444),de=$(7574);function ae(C,v,b,R,V=new ee(C,b,R)){if(!V.closed)return v instanceof de.y?v.subscribe(V):(0,re.s)(v)(V)}var be=$(6693);const Ge={};class Ue{constructor(v){this.resultSelector=v}call(v,b){return b.subscribe(new he(v,this.resultSelector))}}class he extends ce{constructor(v,b){super(v),this.resultSelector=b,this.active=0,this.values=[],this.observables=[]}_next(v){this.values.push(Ge),this.observables.push(v)}_complete(){const v=this.observables,b=v.length;if(0===b)this.destination.complete();else{this.active=b,this.toRespond=b;for(let R=0;R<b;R++)this.add(ae(this,v[R],void 0,R))}}notifyComplete(v){0==(this.active-=1)&&this.destination.complete()}notifyNext(v,b,R){const V=this.values,le=this.toRespond?V[R]===Ge?--this.toRespond:this.toRespond:0;V[R]=b,0===le&&(this.resultSelector?this._tryResultSelector(V):this.destination.next(V.slice()))}_tryResultSelector(v){let b;try{b=this.resultSelector.apply(this,v)}catch(R){return void this.destination.error(R)}this.destination.next(b)}}var Ye=$(4402),Ke=$(9193);function ot(C){return new de.y(v=>{let b;try{b=C()}catch(V){return void v.error(V)}return(b?(0,Ye.D)(b):(0,Ke.c)()).subscribe(v)})}var oe=$(5917),Xe=$(3410),Gt=$(8071),et=$(2441),gt=$(5345);function Fe(C){return function(b){const R=new Ze(C),V=b.lift(R);return R.caught=V}}class Ze{constructor(v){this.selector=v}call(v,b){return b.subscribe(new Le(v,this.selector,this.caught))}}class Le extends gt.Ds{constructor(v,b,R){super(v),this.selector=b,this.caught=R}error(v){if(!this.isStopped){let b;try{b=this.selector(v,this.caught)}catch(W){return void super.error(W)}this._unsubscribeAndRecycle();const R=new gt.IY(this);this.add(R);const V=(0,gt.ft)(b,R);V!==R&&this.add(V)}}}var ke=$(9773);function ye(C,v){return(0,ke.zg)(C,v,1)}var Ae=$(5435),Be=$(7108);function bt(C){return function(b){return 0===C?(0,Ke.c)():b.lift(new Zt(C))}}class Zt{constructor(v){if(this.total=v,this.total<0)throw new Be.W}call(v,b){return b.subscribe(new ct(v,this.total))}}class ct extends Ce.L{constructor(v,b){super(v),this.total=b,this.ring=new Array,this.count=0}_next(v){const b=this.ring,R=this.total,V=this.count++;b.length<R?b.push(v):b[V%R]=v}_complete(){const v=this.destination;let b=this.count;if(b>0){const R=this.count>=this.total?this.total:this.count,V=this.ring;for(let W=0;W<R;W++){const le=b++%R;v.next(V[le])}}v.complete()}}var pt=$(4635),Rt=$(5242),nn=$(4487),mn=$(5319);class Et{constructor(v){this.callback=v}call(v,b){return b.subscribe(new Lt(v,this.callback))}}class Lt extends Ce.L{constructor(v,b){super(v),this.add(new mn.w(b))}}var kt=$(8002),$n=$(3190),ln=$(5257),er=$(9761),gr=$(2145),Ln=$(8049),bn=$(3342),Pt=$(1307),vn=$(3282);class Dn{constructor(v,b){this.id=v,this.url=b}}class Tt extends Dn{constructor(v,b,R="imperative",V=null){super(v,b),this.navigationTrigger=R,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qt extends Dn{constructor(v,b,R){super(v,b),this.urlAfterRedirects=R}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $t extends Dn{constructor(v,b,R){super(v,b),this.reason=R}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zt extends Dn{constructor(v,b,R){super(v,b),this.error=R}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rt extends Dn{constructor(v,b,R,V){super(v,b),this.urlAfterRedirects=R,this.state=V}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jt extends Dn{constructor(v,b,R,V){super(v,b),this.urlAfterRedirects=R,this.state=V}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kn extends Dn{constructor(v,b,R,V,W){super(v,b),this.urlAfterRedirects=R,this.state=V,this.shouldActivate=W}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gn extends Dn{constructor(v,b,R,V){super(v,b),this.urlAfterRedirects=R,this.state=V}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn extends Dn{constructor(v,b,R,V){super(v,b),this.urlAfterRedirects=R,this.state=V}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xt{constructor(v){this.route=v}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mt{constructor(v){this.route=v}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Er{constructor(v){this.snapshot=v}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pi{constructor(v){this.snapshot=v}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oi{constructor(v){this.snapshot=v}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rn{constructor(v){this.snapshot=v}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pn{constructor(v,b,R){this.routerEvent=v,this.position=b,this.anchor=R}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Kt="primary";class Vn{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const b=this.params[v];return Array.isArray(b)?b[0]:b}return null}getAll(v){if(this.has(v)){const b=this.params[v];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function pe(C){return new Vn(C)}const ne="ngNavigationCancelingError";function Se(C){const v=Error("NavigationCancelingError: "+C);return v[ne]=!0,v}function Oe(C,v,b){const R=b.path.split("/");if(R.length>C.length||"full"===b.pathMatch&&(v.hasChildren()||R.length<C.length))return null;const V={};for(let W=0;W<R.length;W++){const le=R[W],Ie=C[W];if(le.startsWith(":"))V[le.substring(1)]=Ie;else if(le!==Ie.path)return null}return{consumed:C.slice(0,R.length),posParams:V}}function At(C,v){const b=C?Object.keys(C):void 0,R=v?Object.keys(v):void 0;if(!b||!R||b.length!=R.length)return!1;let V;for(let W=0;W<b.length;W++)if(V=b[W],!rn(C[V],v[V]))return!1;return!0}function rn(C,v){if(Array.isArray(C)&&Array.isArray(v)){if(C.length!==v.length)return!1;const b=[...C].sort(),R=[...v].sort();return b.every((V,W)=>R[W]===V)}return C===v}function Nn(C){return Array.prototype.concat.apply([],C)}function yn(C){return C.length>0?C[C.length-1]:null}function xe(C,v){for(const b in C)C.hasOwnProperty(b)&&v(C[b],b)}function ge(C){return(0,w.CqO)(C)?C:(0,w.QGY)(C)?(0,Ye.D)(Promise.resolve(C)):(0,oe.of)(C)}const ze={exact:function Tn(C,v,b){if(!dr(C.segments,v.segments)||!sn(C.segments,v.segments,b)||C.numberOfChildren!==v.numberOfChildren)return!1;for(const R in v.children)if(!C.children[R]||!Tn(C.children[R],v.children[R],b))return!1;return!0},subset:An},It={exact:function(C,v){return At(C,v)},subset:function(C,v){return Object.keys(v).length<=Object.keys(C).length&&Object.keys(v).every(b=>rn(C[b],v[b]))},ignored:()=>!0};function Vt(C,v,b){return ze[b.paths](C.root,v.root,b.matrixParams)&&It[b.queryParams](C.queryParams,v.queryParams)&&!("exact"===b.fragment&&C.fragment!==v.fragment)}function An(C,v,b){return tr(C,v,v.segments,b)}function tr(C,v,b,R){if(C.segments.length>b.length){const V=C.segments.slice(0,b.length);return!(!dr(V,b)||v.hasChildren()||!sn(V,b,R))}if(C.segments.length===b.length){if(!dr(C.segments,b)||!sn(C.segments,b,R))return!1;for(const V in v.children)if(!C.children[V]||!An(C.children[V],v.children[V],R))return!1;return!0}{const V=b.slice(0,C.segments.length),W=b.slice(C.segments.length);return!!(dr(C.segments,V)&&sn(C.segments,V,R)&&C.children[Kt])&&tr(C.children[Kt],v,W,R)}}function sn(C,v,b){return v.every((R,V)=>It[b](C[V].parameters,R.parameters))}class mr{constructor(v,b,R){this.root=v,this.queryParams=b,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pe(this.queryParams)),this._queryParamMap}toString(){return en.serialize(this)}}class St{constructor(v,b){this.segments=v,this.children=b,this.parent=null,xe(b,(R,V)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qn(this)}}class jr{constructor(v,b){this.path=v,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=pe(this.parameters)),this._parameterMap}toString(){return fn(this)}}function dr(C,v){return C.length===v.length&&C.every((b,R)=>b.path===v[R].path)}class xr{}class vt{parse(v){const b=new Un(v);return new mr(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(v){var C;return`${`/${Cn(v.root,!0)}`}${function(C){const v=Object.keys(C).map(b=>{const R=C[b];return Array.isArray(R)?R.map(V=>`${Sn(b)}=${Sn(V)}`).join("&"):`${Sn(b)}=${Sn(R)}`}).filter(b=>!!b);return v.length?`?${v.join("&")}`:""}(v.queryParams)}${"string"==typeof v.fragment?`#${C=v.fragment,encodeURI(C)}`:""}`}}const en=new vt;function Qn(C){return C.segments.map(v=>fn(v)).join("/")}function Cn(C,v){if(!C.hasChildren())return Qn(C);if(v){const b=C.children[Kt]?Cn(C.children[Kt],!1):"",R=[];return xe(C.children,(V,W)=>{W!==Kt&&R.push(`${W}:${Cn(V,!1)}`)}),R.length>0?`${b}(${R.join("//")})`:b}{const b=function(C,v){let b=[];return xe(C.children,(R,V)=>{V===Kt&&(b=b.concat(v(R,V)))}),xe(C.children,(R,V)=>{V!==Kt&&(b=b.concat(v(R,V)))}),b}(C,(R,V)=>V===Kt?[Cn(C.children[Kt],!1)]:[`${V}:${Cn(R,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Kt]?`${Qn(C)}/${b[0]}`:`${Qn(C)}/(${b.join("//")})`}}function ar(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sn(C){return ar(C).replace(/%3B/gi,";")}function nr(C){return ar(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xi(C){return decodeURIComponent(C)}function Mi(C){return xi(C.replace(/\+/g,"%20"))}function fn(C){return`${nr(C.path)}${function(C){return Object.keys(C).map(v=>`;${nr(v)}=${nr(C[v])}`).join("")}(C.parameters)}`}const ai=/^[^\/()?;=#]+/;function Hr(C){const v=C.match(ai);return v?v[0]:""}const Ir=/^[^=?&#]+/,dn=/^[^?&#]+/;class Un{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(v.length>0||Object.keys(b).length>0)&&(R[Kt]=new St(v,b)),R}parseSegment(){const v=Hr(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(v),new jr(xi(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const b=Hr(this.remaining);if(!b)return;this.capture(b);let R="";if(this.consumeOptional("=")){const V=Hr(this.remaining);V&&(R=V,this.capture(R))}v[xi(b)]=xi(R)}parseQueryParam(v){const b=function(C){const v=C.match(Ir);return v?v[0]:""}(this.remaining);if(!b)return;this.capture(b);let R="";if(this.consumeOptional("=")){const le=function(C){const v=C.match(dn);return v?v[0]:""}(this.remaining);le&&(R=le,this.capture(R))}const V=Mi(b),W=Mi(R);if(v.hasOwnProperty(V)){let le=v[V];Array.isArray(le)||(le=[le],v[V]=le),le.push(W)}else v[V]=W}parseParens(v){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Hr(this.remaining),V=this.remaining[R.length];if("/"!==V&&")"!==V&&";"!==V)throw new Error(`Cannot parse url '${this.url}'`);let W;R.indexOf(":")>-1?(W=R.substr(0,R.indexOf(":")),this.capture(W),this.capture(":")):v&&(W=Kt);const le=this.parseChildren();b[W]=1===Object.keys(le).length?le[Kt]:new St([],le),this.consumeOptional("//")}return b}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new Error(`Expected "${v}".`)}}class Oi{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const b=this.pathFromRoot(v);return b.length>1?b[b.length-2]:null}children(v){const b=Wt(v,this._root);return b?b.children.map(R=>R.value):[]}firstChild(v){const b=Wt(v,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(v){const b=Ji(v,this._root);return b.length<2?[]:b[b.length-2].children.map(V=>V.value).filter(V=>V!==v)}pathFromRoot(v){return Ji(v,this._root).map(b=>b.value)}}function Wt(C,v){if(C===v.value)return v;for(const b of v.children){const R=Wt(C,b);if(R)return R}return null}function Ji(C,v){if(C===v.value)return[v];for(const b of v.children){const R=Ji(C,b);if(R.length)return R.unshift(v),R}return[]}class Tr{constructor(v,b){this.value=v,this.children=b}toString(){return`TreeNode(${this.value})`}}function _i(C){const v={};return C&&C.children.forEach(b=>v[b.value.outlet]=b),v}class Gr extends Oi{constructor(v,b){super(v),this.snapshot=b,Xr(this,v)}toString(){return this.snapshot.toString()}}function mi(C,v){const b=function(C,v){const le=new Ci([],{},{},"",{},Kt,v,null,C.root,-1,{});return new Mr("",new Tr(le,[]))}(C,v),R=new Ne([new jr("",{})]),V=new Ne({}),W=new Ne({}),le=new Ne({}),Ie=new Ne(""),tt=new Jr(R,V,le,Ie,W,Kt,v,b.root);return tt.snapshot=b.root,new Gr(new Tr(tt,[]),b)}class Jr{constructor(v,b,R,V,W,le,Ie,tt){this.url=v,this.params=b,this.queryParams=R,this.fragment=V,this.data=W,this.outlet=le,this.component=Ie,this._futureSnapshot=tt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kt.U)(v=>pe(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kt.U)(v=>pe(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ar(C,v="emptyOnly"){const b=C.pathFromRoot;let R=0;if("always"!==v)for(R=b.length-1;R>=1;){const V=b[R],W=b[R-1];if(V.routeConfig&&""===V.routeConfig.path)R--;else{if(W.component)break;R--}}return function(C){return C.reduce((v,b)=>({params:Object.assign(Object.assign({},v.params),b.params),data:Object.assign(Object.assign({},v.data),b.data),resolve:Object.assign(Object.assign({},v.resolve),b._resolvedData)}),{params:{},data:{},resolve:{}})}(b.slice(R))}class Ci{constructor(v,b,R,V,W,le,Ie,tt,Ct,on,kn){this.url=v,this.params=b,this.queryParams=R,this.fragment=V,this.data=W,this.outlet=le,this.component=Ie,this.routeConfig=tt,this._urlSegment=Ct,this._lastPathIndex=on,this._resolve=kn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mr extends Oi{constructor(v,b){super(b),this.url=v,Xr(this,b)}toString(){return hr(this._root)}}function Xr(C,v){v.value._routerState=C,v.children.forEach(b=>Xr(C,b))}function hr(C){const v=C.children.length>0?` { ${C.children.map(hr).join(", ")} } `:"";return`${C.value}${v}`}function Xi(C){if(C.snapshot){const v=C.snapshot,b=C._futureSnapshot;C.snapshot=b,At(v.queryParams,b.queryParams)||C.queryParams.next(b.queryParams),v.fragment!==b.fragment&&C.fragment.next(b.fragment),At(v.params,b.params)||C.params.next(b.params),function(C,v){if(C.length!==v.length)return!1;for(let b=0;b<C.length;++b)if(!At(C[b],v[b]))return!1;return!0}(v.url,b.url)||C.url.next(b.url),At(v.data,b.data)||C.data.next(b.data)}else C.snapshot=C._futureSnapshot,C.data.next(C._futureSnapshot.data)}function Ni(C,v){return At(C.params,v.params)&&function(C,v){return dr(C,v)&&C.every((b,R)=>At(b.parameters,v[R].parameters))}(C.url,v.url)&&!(!C.parent!=!v.parent)&&(!C.parent||Ni(C.parent,v.parent))}function Ii(C,v,b){if(b&&C.shouldReuseRoute(v.value,b.value.snapshot)){const R=b.value;R._futureSnapshot=v.value;const V=function(C,v,b){return v.children.map(R=>{for(const V of b.children)if(C.shouldReuseRoute(R.value,V.value.snapshot))return Ii(C,R,V);return Ii(C,R)})}(C,v,b);return new Tr(R,V)}{if(C.shouldAttach(v.value)){const W=C.retrieve(v.value);if(null!==W){const le=W.route;return Sr(v,le),le}}const R=function(C){return new Jr(new Ne(C.url),new Ne(C.params),new Ne(C.queryParams),new Ne(C.fragment),new Ne(C.data),C.outlet,C.component,C)}(v.value),V=v.children.map(W=>Ii(C,W));return new Tr(R,V)}}function Sr(C,v){if(C.value.routeConfig!==v.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(C.children.length!==v.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");v.value._futureSnapshot=C.value;for(let b=0;b<C.children.length;++b)Sr(C.children[b],v.children[b])}function G(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function ie(C){return"object"==typeof C&&null!=C&&C.outlets}function Ve(C,v,b,R,V){let W={};return R&&xe(R,(le,Ie)=>{W[Ie]=Array.isArray(le)?le.map(tt=>`${tt}`):`${le}`}),new mr(b.root===C?v:mt(b.root,C,v),W,V)}function mt(C,v,b){const R={};return xe(C.children,(V,W)=>{R[W]=V===v?b:mt(V,v,b)}),new St(C.segments,R)}class Ut{constructor(v,b,R){if(this.isAbsolute=v,this.numberOfDoubleDots=b,this.commands=R,v&&R.length>0&&G(R[0]))throw new Error("Root segment cannot have matrix parameters");const V=R.find(ie);if(V&&V!==yn(R))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fr{constructor(v,b,R){this.segmentGroup=v,this.processChildren=b,this.index=R}}function Hs(C,v,b){if(C||(C=new St([],{})),0===C.segments.length&&C.hasChildren())return _s(C,v,b);const R=function(C,v,b){let R=0,V=v;const W={match:!1,pathIndex:0,commandIndex:0};for(;V<C.segments.length;){if(R>=b.length)return W;const le=C.segments[V],Ie=b[R];if(ie(Ie))break;const tt=`${Ie}`,Ct=R<b.length-1?b[R+1]:null;if(V>0&&void 0===tt)break;if(tt&&Ct&&"object"==typeof Ct&&void 0===Ct.outlets){if(!Gi(tt,Ct,le))return W;R+=2}else{if(!Gi(tt,{},le))return W;R++}V++}return{match:!0,pathIndex:V,commandIndex:R}}(C,v,b),V=b.slice(R.commandIndex);if(R.match&&R.pathIndex<C.segments.length){const W=new St(C.segments.slice(0,R.pathIndex),{});return W.children[Kt]=new St(C.segments.slice(R.pathIndex),C.children),_s(W,0,V)}return R.match&&0===V.length?new St(C.segments,{}):R.match&&!C.hasChildren()?ns(C,v,b):R.match?_s(C,0,V):ns(C,v,b)}function _s(C,v,b){if(0===b.length)return new St(C.segments,{});{const R=function(C){return ie(C[0])?C[0].outlets:{[Kt]:C}}(b),V={};return xe(R,(W,le)=>{"string"==typeof W&&(W=[W]),null!==W&&(V[le]=Hs(C.children[le],v,W))}),xe(C.children,(W,le)=>{void 0===R[le]&&(V[le]=W)}),new St(C.segments,V)}}function ns(C,v,b){const R=C.segments.slice(0,v);let V=0;for(;V<b.length;){const W=b[V];if(ie(W)){const tt=$s(W.outlets);return new St(R,tt)}if(0===V&&G(b[0])){R.push(new jr(C.segments[v].path,Pi(b[0]))),V++;continue}const le=ie(W)?W.outlets[Kt]:`${W}`,Ie=V<b.length-1?b[V+1]:null;le&&Ie&&G(Ie)?(R.push(new jr(le,Pi(Ie))),V+=2):(R.push(new jr(le,{})),V++)}return new St(R,{})}function $s(C){const v={};return xe(C,(b,R)=>{"string"==typeof b&&(b=[b]),null!==b&&(v[R]=ns(new St([],{}),0,b))}),v}function Pi(C){const v={};return xe(C,(b,R)=>v[R]=`${b}`),v}function Gi(C,v,b){return C==b.path&&At(v,b.parameters)}class ei{constructor(v,b,R,V){this.routeReuseStrategy=v,this.futureState=b,this.currState=R,this.forwardEvent=V}activate(v){const b=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,R,v),Xi(this.futureState.root),this.activateChildRoutes(b,R,v)}deactivateChildRoutes(v,b,R){const V=_i(b);v.children.forEach(W=>{const le=W.value.outlet;this.deactivateRoutes(W,V[le],R),delete V[le]}),xe(V,(W,le)=>{this.deactivateRouteAndItsChildren(W,R)})}deactivateRoutes(v,b,R){const V=v.value,W=b?b.value:null;if(V===W)if(V.component){const le=R.getContext(V.outlet);le&&this.deactivateChildRoutes(v,b,le.children)}else this.deactivateChildRoutes(v,b,R);else W&&this.deactivateRouteAndItsChildren(b,R)}deactivateRouteAndItsChildren(v,b){this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,b):this.deactivateRouteAndOutlet(v,b)}detachAndStoreRouteSubtree(v,b){const R=b.getContext(v.value.outlet);if(R&&R.outlet){const V=R.outlet.detach(),W=R.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:V,route:v,contexts:W})}}deactivateRouteAndOutlet(v,b){const R=b.getContext(v.value.outlet),V=R&&v.value.component?R.children:b,W=_i(v);for(const le of Object.keys(W))this.deactivateRouteAndItsChildren(W[le],V);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(v,b,R){const V=_i(b);v.children.forEach(W=>{this.activateRoutes(W,V[W.value.outlet],R),this.forwardEvent(new Rn(W.value.snapshot))}),v.children.length&&this.forwardEvent(new pi(v.value.snapshot))}activateRoutes(v,b,R){const V=v.value,W=b?b.value:null;if(Xi(V),V===W)if(V.component){const le=R.getOrCreateContext(V.outlet);this.activateChildRoutes(v,b,le.children)}else this.activateChildRoutes(v,b,R);else if(V.component){const le=R.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const Ie=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),le.children.onOutletReAttached(Ie.contexts),le.attachRef=Ie.componentRef,le.route=Ie.route.value,le.outlet&&le.outlet.attach(Ie.componentRef,Ie.route.value),rs(Ie.route)}else{const Ie=function(C){for(let v=C.parent;v;v=v.parent){const b=v.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}(V.snapshot),tt=Ie?Ie.module.componentFactoryResolver:null;le.attachRef=null,le.route=V,le.resolver=tt,le.outlet&&le.outlet.activateWith(V,tt),this.activateChildRoutes(v,null,le.children)}}else this.activateChildRoutes(v,null,R)}}function rs(C){Xi(C.value),C.children.forEach(rs)}class ki{constructor(v,b){this.routes=v,this.module=b}}function qr(C){return"function"==typeof C}function ti(C){return C instanceof mr}const z=Symbol("INITIAL_VALUE");function L(){return(0,$n.w)(C=>function(...C){let v,b;return(0,ve.K)(C[C.length-1])&&(b=C.pop()),"function"==typeof C[C.length-1]&&(v=C.pop()),1===C.length&&(0,$e.k)(C[0])&&(C=C[0]),(0,be.n)(C,b).lift(new Ue(v))}(C.map(v=>v.pipe((0,ln.q)(1),(0,er.O)(z)))).pipe((0,gr.R)((v,b)=>{let R=!1;return b.reduce((V,W,le)=>V!==z?V:(W===z&&(R=!0),R||!1!==W&&le!==b.length-1&&!ti(W)?V:W),v)},z),(0,Ae.h)(v=>v!==z),(0,kt.U)(v=>ti(v)?v:!0===v),(0,ln.q)(1)))}let Z=(()=>{class C{}return C.\u0275fac=function(b){return new(b||C)},C.\u0275cmp=w.Xpm({type:C,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,R){1&b&&w._UZ(0,"router-outlet")},directives:function(){return[Io]},encapsulation:2}),C})();function _e(C,v=""){for(let b=0;b<C.length;b++){const R=C[b];He(R,lt(v,R))}}function He(C,v){C.children&&_e(C.children,v)}function lt(C,v){return v?C||v.path?C&&!v.path?`${C}/`:!C&&v.path?v.path:`${C}/${v.path}`:"":C}function P(C){const v=C.children&&C.children.map(P),b=v?Object.assign(Object.assign({},C),{children:v}):Object.assign({},C);return!b.component&&(v||b.loadChildren)&&b.outlet&&b.outlet!==Kt&&(b.component=Z),b}function O(C){return C.outlet||Kt}function S(C,v){const b=C.filter(R=>O(R)===v);return b.push(...C.filter(R=>O(R)!==v)),b}const H={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Re(C,v,b){var R;if(""===v.path)return"full"===v.pathMatch&&(C.hasChildren()||b.length>0)?Object.assign({},H):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const W=(v.matcher||Oe)(b,C,v);if(!W)return Object.assign({},H);const le={};xe(W.posParams,(tt,Ct)=>{le[Ct]=tt.path});const Ie=W.consumed.length>0?Object.assign(Object.assign({},le),W.consumed[W.consumed.length-1].parameters):le;return{matched:!0,consumedSegments:W.consumed,lastChild:W.consumed.length,parameters:Ie,positionalParamSegments:null!==(R=W.posParams)&&void 0!==R?R:{}}}function wt(C,v,b,R,V="corrected"){if(b.length>0&&function(C,v,b){return b.some(R=>sr(C,v,R)&&O(R)!==Kt)}(C,b,R)){const le=new St(v,function(C,v,b,R){const V={};V[Kt]=R,R._sourceSegment=C,R._segmentIndexShift=v.length;for(const W of b)if(""===W.path&&O(W)!==Kt){const le=new St([],{});le._sourceSegment=C,le._segmentIndexShift=v.length,V[O(W)]=le}return V}(C,v,R,new St(b,C.children)));return le._sourceSegment=C,le._segmentIndexShift=v.length,{segmentGroup:le,slicedSegments:[]}}if(0===b.length&&function(C,v,b){return b.some(R=>sr(C,v,R))}(C,b,R)){const le=new St(C.segments,function(C,v,b,R,V,W){const le={};for(const Ie of R)if(sr(C,b,Ie)&&!V[O(Ie)]){const tt=new St([],{});tt._sourceSegment=C,tt._segmentIndexShift="legacy"===W?C.segments.length:v.length,le[O(Ie)]=tt}return Object.assign(Object.assign({},V),le)}(C,v,b,R,C.children,V));return le._sourceSegment=C,le._segmentIndexShift=v.length,{segmentGroup:le,slicedSegments:b}}const W=new St(C.segments,C.children);return W._sourceSegment=C,W._segmentIndexShift=v.length,{segmentGroup:W,slicedSegments:b}}function sr(C,v,b){return(!(C.hasChildren()||v.length>0)||"full"!==b.pathMatch)&&""===b.path}function Ti(C,v,b,R){return!!(O(C)===R||R!==Kt&&sr(v,b,C))&&("**"===C.path||Re(v,C,b).matched)}function Wi(C,v,b){return 0===v.length&&!C.children[b]}class vi{constructor(v){this.segmentGroup=v||null}}class wi{constructor(v){this.urlTree=v}}function xs(C){return new de.y(v=>v.error(new vi(C)))}function Ai(C){return new de.y(v=>v.error(new wi(C)))}function hn(C){return new de.y(v=>v.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${C}'`)))}class qs{constructor(v,b,R,V,W){this.configLoader=b,this.urlSerializer=R,this.urlTree=V,this.config=W,this.allowRedirects=!0,this.ngModule=v.get(w.h0i)}apply(){const v=wt(this.urlTree.root,[],[],this.config).segmentGroup,b=new St(v.segments,v.children);return this.expandSegmentGroup(this.ngModule,this.config,b,Kt).pipe((0,kt.U)(W=>this.createUrlTree(_o(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fe(W=>{if(W instanceof wi)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof vi?this.noMatchError(W):W}))}match(v){return this.expandSegmentGroup(this.ngModule,this.config,v.root,Kt).pipe((0,kt.U)(V=>this.createUrlTree(_o(V),v.queryParams,v.fragment))).pipe(Fe(V=>{throw V instanceof vi?this.noMatchError(V):V}))}noMatchError(v){return new Error(`Cannot match any routes. URL Segment: '${v.segmentGroup}'`)}createUrlTree(v,b,R){const V=v.segments.length>0?new St([],{[Kt]:v}):v;return new mr(V,b,R)}expandSegmentGroup(v,b,R,V){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(v,b,R).pipe((0,kt.U)(W=>new St([],W))):this.expandSegment(v,R,b,R.segments,V,!0)}expandChildren(v,b,R){const V=[];for(const W of Object.keys(R.children))"primary"===W?V.unshift(W):V.push(W);return(0,Ye.D)(V).pipe(ye(W=>{const le=R.children[W],Ie=S(b,W);return this.expandSegmentGroup(v,Ie,le,W).pipe((0,kt.U)(tt=>({segment:tt,outlet:W})))}),(0,gr.R)((W,le)=>(W[le.outlet]=le.segment,W),{}),function(C,v){const b=arguments.length>=2;return R=>R.pipe(C?(0,Ae.h)((V,W)=>C(V,W,R)):nn.y,bt(1),b?(0,Rt.d)(v):(0,pt.T)(()=>new Xe.K))}())}expandSegment(v,b,R,V,W,le){return(0,Ye.D)(R).pipe(ye(Ie=>this.expandSegmentAgainstRoute(v,b,R,Ie,V,W,le).pipe(Fe(Ct=>{if(Ct instanceof vi)return(0,oe.of)(null);throw Ct}))),(0,Ln.P)(Ie=>!!Ie),Fe((Ie,tt)=>{if(Ie instanceof Xe.K||"EmptyError"===Ie.name){if(Wi(b,V,W))return(0,oe.of)(new St([],{}));throw new vi(b)}throw Ie}))}expandSegmentAgainstRoute(v,b,R,V,W,le,Ie){return Ti(V,b,W,le)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(v,b,V,W,le):Ie&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,b,R,V,W,le):xs(b):xs(b)}expandSegmentAgainstRouteUsingRedirect(v,b,R,V,W,le){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,R,V,le):this.expandRegularSegmentAgainstRouteUsingRedirect(v,b,R,V,W,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,b,R,V){const W=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?Ai(W):this.lineralizeSegments(R,W).pipe((0,ke.zg)(le=>{const Ie=new St(le,{});return this.expandSegment(v,Ie,b,le,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,b,R,V,W,le){const{matched:Ie,consumedSegments:tt,lastChild:Ct,positionalParamSegments:on}=Re(b,V,W);if(!Ie)return xs(b);const kn=this.applyRedirectCommands(tt,V.redirectTo,on);return V.redirectTo.startsWith("/")?Ai(kn):this.lineralizeSegments(V,kn).pipe((0,ke.zg)(Bt=>this.expandSegment(v,b,R,Bt.concat(W.slice(Ct)),le,!1)))}matchSegmentAgainstRoute(v,b,R,V,W){if("**"===R.path)return R.loadChildren?(R._loadedConfig?(0,oe.of)(R._loadedConfig):this.configLoader.load(v.injector,R)).pipe((0,kt.U)(Bt=>(R._loadedConfig=Bt,new St(V,{})))):(0,oe.of)(new St(V,{}));const{matched:le,consumedSegments:Ie,lastChild:tt}=Re(b,R,V);if(!le)return xs(b);const Ct=V.slice(tt);return this.getChildConfig(v,R,V).pipe((0,ke.zg)(kn=>{const Bt=kn.module,xn=kn.routes,{segmentGroup:Yi,slicedSegments:lr}=wt(b,Ie,Ct,xn),Xt=new St(Yi.segments,Yi.children);if(0===lr.length&&Xt.hasChildren())return this.expandChildren(Bt,xn,Xt).pipe((0,kt.U)(ma=>new St(Ie,ma)));if(0===xn.length&&0===lr.length)return(0,oe.of)(new St(Ie,{}));const Do=O(R)===W;return this.expandSegment(Bt,Xt,xn,lr,Do?Kt:W,!0).pipe((0,kt.U)(To=>new St(Ie.concat(To.segments),To.children)))}))}getChildConfig(v,b,R){return b.children?(0,oe.of)(new ki(b.children,v)):b.loadChildren?void 0!==b._loadedConfig?(0,oe.of)(b._loadedConfig):this.runCanLoadGuards(v.injector,b,R).pipe((0,ke.zg)(V=>{return V?this.configLoader.load(v.injector,b).pipe((0,kt.U)(W=>(b._loadedConfig=W,W))):(C=b,new de.y(v=>v.error(Se(`Cannot load children because the guard of the route "path: '${C.path}'" returned false`))));var C})):(0,oe.of)(new ki([],v))}runCanLoadGuards(v,b,R){const V=b.canLoad;if(!V||0===V.length)return(0,oe.of)(!0);const W=V.map(le=>{const Ie=v.get(le);let tt;if((C=Ie)&&qr(C.canLoad))tt=Ie.canLoad(b,R);else{if(!qr(Ie))throw new Error("Invalid CanLoad guard");tt=Ie(b,R)}var C;return ge(tt)});return(0,oe.of)(W).pipe(L(),(0,bn.b)(le=>{if(!ti(le))return;const Ie=Se(`Redirecting to "${this.urlSerializer.serialize(le)}"`);throw Ie.url=le,Ie}),(0,kt.U)(le=>!0===le))}lineralizeSegments(v,b){let R=[],V=b.root;for(;;){if(R=R.concat(V.segments),0===V.numberOfChildren)return(0,oe.of)(R);if(V.numberOfChildren>1||!V.children[Kt])return hn(v.redirectTo);V=V.children[Kt]}}applyRedirectCommands(v,b,R){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),v,R)}applyRedirectCreatreUrlTree(v,b,R,V){const W=this.createSegmentGroup(v,b.root,R,V);return new mr(W,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(v,b){const R={};return xe(v,(V,W)=>{if("string"==typeof V&&V.startsWith(":")){const Ie=V.substring(1);R[W]=b[Ie]}else R[W]=V}),R}createSegmentGroup(v,b,R,V){const W=this.createSegments(v,b.segments,R,V);let le={};return xe(b.children,(Ie,tt)=>{le[tt]=this.createSegmentGroup(v,Ie,R,V)}),new St(W,le)}createSegments(v,b,R,V){return b.map(W=>W.path.startsWith(":")?this.findPosParam(v,W,V):this.findOrReturn(W,R))}findPosParam(v,b,R){const V=R[b.path.substring(1)];if(!V)throw new Error(`Cannot redirect to '${v}'. Cannot find '${b.path}'.`);return V}findOrReturn(v,b){let R=0;for(const V of b){if(V.path===v.path)return b.splice(R),V;R++}return v}}function _o(C){const v={};for(const R of Object.keys(C.children)){const W=_o(C.children[R]);(W.segments.length>0||W.hasChildren())&&(v[R]=W)}return function(C){if(1===C.numberOfChildren&&C.children[Kt]){const v=C.children[Kt];return new St(C.segments.concat(v.segments),v.children)}return C}(new St(C.segments,v))}class la{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class ut{constructor(v,b){this.component=v,this.route=b}}function zn(C,v,b){const R=C._root;return Zi(R,v?v._root:null,b,[R.value])}function vr(C,v,b){const R=function(C){if(!C)return null;for(let v=C.parent;v;v=v.parent){const b=v.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(v);return(R?R.module.injector:b).get(C)}function Zi(C,v,b,R,V={canDeactivateChecks:[],canActivateChecks:[]}){const W=_i(v);return C.children.forEach(le=>{(function(C,v,b,R,V={canDeactivateChecks:[],canActivateChecks:[]}){const W=C.value,le=v?v.value:null,Ie=b?b.getContext(C.value.outlet):null;if(le&&W.routeConfig===le.routeConfig){const tt=function(C,v,b){if("function"==typeof b)return b(C,v);switch(b){case"pathParamsChange":return!dr(C.url,v.url);case"pathParamsOrQueryParamsChange":return!dr(C.url,v.url)||!At(C.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ni(C,v)||!At(C.queryParams,v.queryParams);case"paramsChange":default:return!Ni(C,v)}}(le,W,W.routeConfig.runGuardsAndResolvers);tt?V.canActivateChecks.push(new la(R)):(W.data=le.data,W._resolvedData=le._resolvedData),Zi(C,v,W.component?Ie?Ie.children:null:b,R,V),tt&&Ie&&Ie.outlet&&Ie.outlet.isActivated&&V.canDeactivateChecks.push(new ut(Ie.outlet.component,le))}else le&&zs(v,Ie,V),V.canActivateChecks.push(new la(R)),Zi(C,null,W.component?Ie?Ie.children:null:b,R,V)})(le,W[le.value.outlet],b,R.concat([le.value]),V),delete W[le.value.outlet]}),xe(W,(le,Ie)=>zs(le,b.getContext(Ie),V)),V}function zs(C,v,b){const R=_i(C),V=C.value;xe(R,(W,le)=>{zs(W,V.component?v?v.children.getContext(le):null:v,b)}),b.canDeactivateChecks.push(new ut(V.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,V))}class ss{}function Fr(C){return new de.y(v=>v.error(C))}class Eu{constructor(v,b,R,V,W,le){this.rootComponentType=v,this.config=b,this.urlTree=R,this.url=V,this.paramsInheritanceStrategy=W,this.relativeLinkResolution=le}recognize(){const v=wt(this.urlTree.root,[],[],this.config.filter(le=>void 0===le.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,v,Kt);if(null===b)return null;const R=new Ci([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new Tr(R,b),W=new Mr(this.url,V);return this.inheritParamsAndData(W._root),W}inheritParamsAndData(v){const b=v.value,R=Ar(b,this.paramsInheritanceStrategy);b.params=Object.freeze(R.params),b.data=Object.freeze(R.data),v.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(v,b,R){return 0===b.segments.length&&b.hasChildren()?this.processChildren(v,b):this.processSegment(v,b,b.segments,R)}processChildren(v,b){const R=[];for(const W of Object.keys(b.children)){const le=b.children[W],Ie=S(v,W),tt=this.processSegmentGroup(Ie,le,W);if(null===tt)return null;R.push(...tt)}const V=Zs(R);return V.sort((v,b)=>v.value.outlet===Kt?-1:b.value.outlet===Kt?1:v.value.outlet.localeCompare(b.value.outlet)),V}processSegment(v,b,R,V){for(const W of v){const le=this.processSegmentAgainstRoute(W,b,R,V);if(null!==le)return le}return Wi(b,R,V)?[]:null}processSegmentAgainstRoute(v,b,R,V){if(v.redirectTo||!Ti(v,b,R,V))return null;let W,le=[],Ie=[];if("**"===v.path){const xn=R.length>0?yn(R).parameters:{};W=new Ci(R,xn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Eo(v),O(v),v.component,v,Ba(b),bo(b)+R.length,os(v))}else{const xn=Re(b,v,R);if(!xn.matched)return null;le=xn.consumedSegments,Ie=R.slice(xn.lastChild),W=new Ci(le,xn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Eo(v),O(v),v.component,v,Ba(b),bo(b)+le.length,os(v))}const tt=(C=v).children?C.children:C.loadChildren?C._loadedConfig.routes:[],{segmentGroup:Ct,slicedSegments:on}=wt(b,le,Ie,tt.filter(xn=>void 0===xn.redirectTo),this.relativeLinkResolution);var C;if(0===on.length&&Ct.hasChildren()){const xn=this.processChildren(tt,Ct);return null===xn?null:[new Tr(W,xn)]}if(0===tt.length&&0===on.length)return[new Tr(W,[])];const kn=O(v)===V,Bt=this.processSegment(tt,Ct,on,kn?Kt:V);return null===Bt?null:[new Tr(W,Bt)]}}function Ws(C){const v=C.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function Zs(C){const v=[],b=new Set;for(const R of C){if(!Ws(R)){v.push(R);continue}const V=v.find(W=>R.value.routeConfig===W.value.routeConfig);void 0!==V?(V.children.push(...R.children),b.add(V)):v.push(R)}for(const R of b){const V=Zs(R.children);v.push(new Tr(R.value,V))}return v.filter(R=>!b.has(R))}function Ba(C){let v=C;for(;v._sourceSegment;)v=v._sourceSegment;return v}function bo(C){let v=C,b=v._segmentIndexShift?v._segmentIndexShift:0;for(;v._sourceSegment;)v=v._sourceSegment,b+=v._segmentIndexShift?v._segmentIndexShift:0;return b-1}function Eo(C){return C.data||{}}function os(C){return C.resolve||{}}function da(C){return(0,$n.w)(v=>{const b=C(v);return b?(0,Ye.D)(b).pipe((0,kt.U)(()=>v)):(0,oe.of)(v)})}class or extends class{shouldDetach(v){return!1}store(v,b){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,b){return v.routeConfig===b.routeConfig}}{}const Ns=new w.OlP("ROUTES");class Ha{constructor(v,b,R,V){this.loader=v,this.compiler=b,this.onLoadStartListener=R,this.onLoadEndListener=V}load(v,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const V=this.loadModuleFactory(b.loadChildren).pipe((0,kt.U)(W=>{this.onLoadEndListener&&this.onLoadEndListener(b);const le=W.create(v);return new ki(Nn(le.injector.get(Ns,void 0,w.XFs.Self|w.XFs.Optional)).map(P),le)}),Fe(W=>{throw b._loader$=void 0,W}));return b._loader$=new et.c(V,()=>new Y.xQ).pipe((0,Pt.x)()),b._loader$}loadModuleFactory(v){return"string"==typeof v?(0,Ye.D)(this.loader.load(v)):ge(v()).pipe((0,ke.zg)(b=>b instanceof w.YKP?(0,oe.of)(b):(0,Ye.D)(this.compiler.compileModuleAsync(b))))}}class ha{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bi,this.attachRef=null}}class bi{constructor(){this.contexts=new Map}onChildOutletCreated(v,b){const R=this.getOrCreateContext(v);R.outlet=b,this.contexts.set(v,R)}onChildOutletDestroyed(v){const b=this.getContext(v);b&&(b.outlet=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let b=this.getContext(v);return b||(b=new ha,this.contexts.set(v,b)),b}getContext(v){return this.contexts.get(v)||null}}class M{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,b){return v}}function x(C){throw C}function B(C,v,b){return v.parse("/")}function me(C,v){return(0,oe.of)(null)}const st={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},un={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wn=(()=>{class C{constructor(b,R,V,W,le,Ie,tt,Ct){this.rootComponentType=b,this.urlSerializer=R,this.rootContexts=V,this.location=W,this.config=Ct,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Y.xQ,this.errorHandler=x,this.malformedUriErrorHandler=B,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:me,afterPreactivation:me},this.urlHandlingStrategy=new M,this.routeReuseStrategy=new or,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=le.get(w.h0i),this.console=le.get(w.c2e);const Bt=le.get(w.R0b);this.isNgZoneEnabled=Bt instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(Ct),this.currentUrlTree=new mr(new St([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ha(Ie,tt,xn=>this.triggerEvent(new xt(xn)),xn=>this.triggerEvent(new Mt(xn))),this.routerState=mi(this.currentUrlTree,this.rootComponentType),this.transitions=new Ne({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const R=this.events;return b.pipe((0,Ae.h)(V=>0!==V.id),(0,kt.U)(V=>Object.assign(Object.assign({},V),{extractedUrl:this.urlHandlingStrategy.extract(V.rawUrl)})),(0,$n.w)(V=>{let W=!1,le=!1;return(0,oe.of)(V).pipe((0,bn.b)(Ie=>{this.currentNavigation={id:Ie.id,initialUrl:Ie.currentRawUrl,extractedUrl:Ie.extractedUrl,trigger:Ie.source,extras:Ie.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,$n.w)(Ie=>{const tt=!this.navigated||Ie.extractedUrl.toString()!==this.browserUrlTree.toString(),Ct=("reload"===this.onSameUrlNavigation||tt)&&this.urlHandlingStrategy.shouldProcessUrl(Ie.rawUrl);if(Nr(Ie.source)&&(this.browserUrlTree=Ie.rawUrl),Ct)return(0,oe.of)(Ie).pipe((0,$n.w)(on=>{const kn=this.transitions.getValue();return R.next(new Tt(on.id,this.serializeUrl(on.extractedUrl),on.source,on.restoredState)),kn!==this.transitions.getValue()?Ke.E:Promise.resolve(on)}),function(C,v,b,R){return(0,$n.w)(V=>function(C,v,b,R,V){return new qs(C,v,b,R,V).apply()}(C,v,b,V.extractedUrl,R).pipe((0,kt.U)(W=>Object.assign(Object.assign({},V),{urlAfterRedirects:W}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,bn.b)(on=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:on.urlAfterRedirects})}),function(C,v,b,R,V){return(0,ke.zg)(W=>function(C,v,b,R,V="emptyOnly",W="legacy"){try{const le=new Eu(C,v,b,R,V,W).recognize();return null===le?Fr(new ss):(0,oe.of)(le)}catch(le){return Fr(le)}}(C,v,W.urlAfterRedirects,b(W.urlAfterRedirects),R,V).pipe((0,kt.U)(le=>Object.assign(Object.assign({},W),{targetSnapshot:le}))))}(this.rootComponentType,this.config,on=>this.serializeUrl(on),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,bn.b)(on=>{"eager"===this.urlUpdateStrategy&&(on.extras.skipLocationChange||this.setBrowserUrl(on.urlAfterRedirects,on),this.browserUrlTree=on.urlAfterRedirects);const kn=new rt(on.id,this.serializeUrl(on.extractedUrl),this.serializeUrl(on.urlAfterRedirects),on.targetSnapshot);R.next(kn)}));if(tt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:kn,extractedUrl:Bt,source:xn,restoredState:Yi,extras:lr}=Ie,Xt=new Tt(kn,this.serializeUrl(Bt),xn,Yi);R.next(Xt);const Do=mi(Bt,this.rootComponentType).snapshot;return(0,oe.of)(Object.assign(Object.assign({},Ie),{targetSnapshot:Do,urlAfterRedirects:Bt,extras:Object.assign(Object.assign({},lr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ie.rawUrl,this.browserUrlTree=Ie.urlAfterRedirects,Ie.resolve(null),Ke.E}),da(Ie=>{const{targetSnapshot:tt,id:Ct,extractedUrl:on,rawUrl:kn,extras:{skipLocationChange:Bt,replaceUrl:xn}}=Ie;return this.hooks.beforePreactivation(tt,{navigationId:Ct,appliedUrlTree:on,rawUrlTree:kn,skipLocationChange:!!Bt,replaceUrl:!!xn})}),(0,bn.b)(Ie=>{const tt=new Jt(Ie.id,this.serializeUrl(Ie.extractedUrl),this.serializeUrl(Ie.urlAfterRedirects),Ie.targetSnapshot);this.triggerEvent(tt)}),(0,kt.U)(Ie=>Object.assign(Object.assign({},Ie),{guards:zn(Ie.targetSnapshot,Ie.currentSnapshot,this.rootContexts)})),function(C,v){return(0,ke.zg)(b=>{const{targetSnapshot:R,currentSnapshot:V,guards:{canActivateChecks:W,canDeactivateChecks:le}}=b;return 0===le.length&&0===W.length?(0,oe.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function(C,v,b,R){return(0,Ye.D)(C).pipe((0,ke.zg)(V=>function(C,v,b,R,V){const W=v&&v.routeConfig?v.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,oe.of)(!0);const le=W.map(Ie=>{const tt=vr(Ie,v,V);let Ct;if(function(C){return C&&qr(C.canDeactivate)}(tt))Ct=ge(tt.canDeactivate(C,v,b,R));else{if(!qr(tt))throw new Error("Invalid CanDeactivate guard");Ct=ge(tt(C,v,b,R))}return Ct.pipe((0,Ln.P)())});return(0,oe.of)(le).pipe(L())}(V.component,V.route,b,v,R)),(0,Ln.P)(V=>!0!==V,!0))}(le,R,V,C).pipe((0,ke.zg)(Ie=>Ie&&function(C){return"boolean"==typeof C}(Ie)?function(C,v,b,R){return(0,Ye.D)(v).pipe(ye(V=>(0,Gt.z)(function(C,v){return null!==C&&v&&v(new Er(C)),(0,oe.of)(!0)}(V.route.parent,R),function(C,v){return null!==C&&v&&v(new oi(C)),(0,oe.of)(!0)}(V.route,R),function(C,v,b){const R=v[v.length-1],W=v.slice(0,v.length-1).reverse().map(le=>function(C){const v=C.routeConfig?C.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:C,guards:v}:null}(le)).filter(le=>null!==le).map(le=>ot(()=>{const Ie=le.guards.map(tt=>{const Ct=vr(tt,le.node,b);let on;if(function(C){return C&&qr(C.canActivateChild)}(Ct))on=ge(Ct.canActivateChild(R,C));else{if(!qr(Ct))throw new Error("Invalid CanActivateChild guard");on=ge(Ct(R,C))}return on.pipe((0,Ln.P)())});return(0,oe.of)(Ie).pipe(L())}));return(0,oe.of)(W).pipe(L())}(C,V.path,b),function(C,v,b){const R=v.routeConfig?v.routeConfig.canActivate:null;if(!R||0===R.length)return(0,oe.of)(!0);const V=R.map(W=>ot(()=>{const le=vr(W,v,b);let Ie;if(function(C){return C&&qr(C.canActivate)}(le))Ie=ge(le.canActivate(v,C));else{if(!qr(le))throw new Error("Invalid CanActivate guard");Ie=ge(le(v,C))}return Ie.pipe((0,Ln.P)())}));return(0,oe.of)(V).pipe(L())}(C,V.route,b))),(0,Ln.P)(V=>!0!==V,!0))}(R,W,C,v):(0,oe.of)(Ie)),(0,kt.U)(Ie=>Object.assign(Object.assign({},b),{guardsResult:Ie})))})}(this.ngModule.injector,Ie=>this.triggerEvent(Ie)),(0,bn.b)(Ie=>{if(ti(Ie.guardsResult)){const Ct=Se(`Redirecting to "${this.serializeUrl(Ie.guardsResult)}"`);throw Ct.url=Ie.guardsResult,Ct}const tt=new Kn(Ie.id,this.serializeUrl(Ie.extractedUrl),this.serializeUrl(Ie.urlAfterRedirects),Ie.targetSnapshot,!!Ie.guardsResult);this.triggerEvent(tt)}),(0,Ae.h)(Ie=>!!Ie.guardsResult||(this.restoreHistory(Ie),this.cancelNavigationTransition(Ie,""),!1)),da(Ie=>{if(Ie.guards.canActivateChecks.length)return(0,oe.of)(Ie).pipe((0,bn.b)(tt=>{const Ct=new Gn(tt.id,this.serializeUrl(tt.extractedUrl),this.serializeUrl(tt.urlAfterRedirects),tt.targetSnapshot);this.triggerEvent(Ct)}),(0,$n.w)(tt=>{let Ct=!1;return(0,oe.of)(tt).pipe(function(C,v){return(0,ke.zg)(b=>{const{targetSnapshot:R,guards:{canActivateChecks:V}}=b;if(!V.length)return(0,oe.of)(b);let W=0;return(0,Ye.D)(V).pipe(ye(le=>function(C,v,b,R){return function(C,v,b,R){const V=Object.keys(C);if(0===V.length)return(0,oe.of)({});const W={};return(0,Ye.D)(V).pipe((0,ke.zg)(le=>function(C,v,b,R){const V=vr(C,v,R);return ge(V.resolve?V.resolve(v,b):V(v,b))}(C[le],v,b,R).pipe((0,bn.b)(Ie=>{W[le]=Ie}))),bt(1),(0,ke.zg)(()=>Object.keys(W).length===V.length?(0,oe.of)(W):Ke.E))}(C._resolve,C,v,R).pipe((0,kt.U)(W=>(C._resolvedData=W,C.data=Object.assign(Object.assign({},C.data),Ar(C,b).resolve),null)))}(le.route,R,C,v)),(0,bn.b)(()=>W++),bt(1),(0,ke.zg)(le=>W===V.length?(0,oe.of)(b):Ke.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,bn.b)({next:()=>Ct=!0,complete:()=>{Ct||(this.restoreHistory(tt),this.cancelNavigationTransition(tt,"At least one route resolver didn't emit any value."))}}))}),(0,bn.b)(tt=>{const Ct=new wn(tt.id,this.serializeUrl(tt.extractedUrl),this.serializeUrl(tt.urlAfterRedirects),tt.targetSnapshot);this.triggerEvent(Ct)}))}),da(Ie=>{const{targetSnapshot:tt,id:Ct,extractedUrl:on,rawUrl:kn,extras:{skipLocationChange:Bt,replaceUrl:xn}}=Ie;return this.hooks.afterPreactivation(tt,{navigationId:Ct,appliedUrlTree:on,rawUrlTree:kn,skipLocationChange:!!Bt,replaceUrl:!!xn})}),(0,kt.U)(Ie=>{const tt=function(C,v,b){const R=Ii(C,v._root,b?b._root:void 0);return new Gr(R,v)}(this.routeReuseStrategy,Ie.targetSnapshot,Ie.currentRouterState);return Object.assign(Object.assign({},Ie),{targetRouterState:tt})}),(0,bn.b)(Ie=>{this.currentUrlTree=Ie.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Ie.rawUrl),this.routerState=Ie.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ie.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ie),this.browserUrlTree=Ie.urlAfterRedirects)}),((C,v,b)=>(0,kt.U)(R=>(new ei(v,R.targetRouterState,R.currentRouterState,b).activate(C),R)))(this.rootContexts,this.routeReuseStrategy,Ie=>this.triggerEvent(Ie)),(0,bn.b)({next(){W=!0},complete(){W=!0}}),function(C){return v=>v.lift(new Et(C))}(()=>{if(!W&&!le){const Ie=`Navigation ID ${V.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(V),this.cancelNavigationTransition(V,Ie)):this.cancelNavigationTransition(V,Ie)}this.currentNavigation=null}),Fe(Ie=>{if(le=!0,function(C){return C&&C[ne]}(Ie)){const tt=ti(Ie.url);tt||(this.navigated=!0,this.restoreHistory(V,!0));const Ct=new $t(V.id,this.serializeUrl(V.extractedUrl),Ie.message);R.next(Ct),tt?setTimeout(()=>{const on=this.urlHandlingStrategy.merge(Ie.url,this.rawUrlTree),kn={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Nr(V.source)};this.scheduleNavigation(on,"imperative",null,kn,{resolve:V.resolve,reject:V.reject,promise:V.promise})},0):V.resolve(!1)}else{this.restoreHistory(V,!0);const tt=new zt(V.id,this.serializeUrl(V.extractedUrl),Ie);R.next(tt);try{V.resolve(this.errorHandler(Ie))}catch(Ct){V.reject(Ct)}}return Ke.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}getTransition(){const b=this.transitions.value;return b.urlAfterRedirects=this.browserUrlTree,b}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const R=this.extractLocationChangeInfoFromEvent(b);this.shouldScheduleNavigation(this.lastLocationChangeInfo,R)&&setTimeout(()=>{const{source:V,state:W,urlTree:le}=R,Ie={replaceUrl:!0};if(W){const tt=Object.assign({},W);delete tt.navigationId,delete tt.\u0275routerPageId,0!==Object.keys(tt).length&&(Ie.state=tt)}this.scheduleNavigation(le,V,W,Ie)},0),this.lastLocationChangeInfo=R}))}extractLocationChangeInfoFromEvent(b){var R;return{source:"popstate"===b.type?"popstate":"hashchange",urlTree:this.parseUrl(b.url),state:(null===(R=b.state)||void 0===R?void 0:R.navigationId)?b.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(b,R){if(!b)return!0;const V=R.urlTree.toString()===b.urlTree.toString();return R.transitionId!==b.transitionId||!V||!("hashchange"===R.source&&"popstate"===b.source||"popstate"===R.source&&"hashchange"===b.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){_e(b),this.config=b.map(P),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,R={}){const{relativeTo:V,queryParams:W,fragment:le,queryParamsHandling:Ie,preserveFragment:tt}=R,Ct=V||this.routerState.root,on=tt?this.currentUrlTree.fragment:le;let kn=null;switch(Ie){case"merge":kn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),W);break;case"preserve":kn=this.currentUrlTree.queryParams;break;default:kn=W||null}return null!==kn&&(kn=this.removeEmptyProps(kn)),function(C,v,b,R,V){if(0===b.length)return Ve(v.root,v.root,v,R,V);const W=function(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new Ut(!0,0,C);let v=0,b=!1;const R=C.reduce((V,W,le)=>{if("object"==typeof W&&null!=W){if(W.outlets){const Ie={};return xe(W.outlets,(tt,Ct)=>{Ie[Ct]="string"==typeof tt?tt.split("/"):tt}),[...V,{outlets:Ie}]}if(W.segmentPath)return[...V,W.segmentPath]}return"string"!=typeof W?[...V,W]:0===le?(W.split("/").forEach((Ie,tt)=>{0==tt&&"."===Ie||(0==tt&&""===Ie?b=!0:".."===Ie?v++:""!=Ie&&V.push(Ie))}),V):[...V,W]},[]);return new Ut(b,v,R)}(b);if(W.toRoot())return Ve(v.root,new St([],{}),v,R,V);const le=function(C,v,b){if(C.isAbsolute)return new fr(v.root,!0,0);if(-1===b.snapshot._lastPathIndex){const W=b.snapshot._urlSegment;return new fr(W,W===v.root,0)}const R=G(C.commands[0])?0:1;return function(C,v,b){let R=C,V=v,W=b;for(;W>V;){if(W-=V,R=R.parent,!R)throw new Error("Invalid number of '../'");V=R.segments.length}return new fr(R,!1,V-W)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+R,C.numberOfDoubleDots)}(W,v,C),Ie=le.processChildren?_s(le.segmentGroup,le.index,W.commands):Hs(le.segmentGroup,le.index,W.commands);return Ve(le.segmentGroup,Ie,v,R,V)}(Ct,this.currentUrlTree,b,kn,null!=on?on:null)}navigateByUrl(b,R={skipLocationChange:!1}){const V=ti(b)?b:this.parseUrl(b),W=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(W,"imperative",null,R)}navigate(b,R={skipLocationChange:!1}){return function(C){for(let v=0;v<C.length;v++){const b=C[v];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${v}`)}}(b),this.navigateByUrl(this.createUrlTree(b,R),R)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let R;try{R=this.urlSerializer.parse(b)}catch(V){R=this.malformedUriErrorHandler(V,this.urlSerializer,b)}return R}isActive(b,R){let V;if(V=!0===R?Object.assign({},st):!1===R?Object.assign({},un):R,ti(b))return Vt(this.currentUrlTree,b,V);const W=this.parseUrl(b);return Vt(this.currentUrlTree,W,V)}removeEmptyProps(b){return Object.keys(b).reduce((R,V)=>{const W=b[V];return null!=W&&(R[V]=W),R},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new Qt(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,R,V,W,le){var Ie,tt;if(this.disposed)return Promise.resolve(!1);const Ct=this.getTransition(),on=Nr(R)&&Ct&&!Nr(Ct.source),xn=(this.lastSuccessfulId===Ct.id||this.currentNavigation?Ct.rawUrl:Ct.urlAfterRedirects).toString()===b.toString();if(on&&xn)return Promise.resolve(!0);let Yi,lr,Xt;le?(Yi=le.resolve,lr=le.reject,Xt=le.promise):Xt=new Promise((To,ma)=>{Yi=To,lr=ma});const Do=++this.navigationId;let ci;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(V=this.location.getState()),ci=V&&V.\u0275routerPageId?V.\u0275routerPageId:W.replaceUrl||W.skipLocationChange?null!==(Ie=this.browserPageId)&&void 0!==Ie?Ie:0:(null!==(tt=this.browserPageId)&&void 0!==tt?tt:0)+1):ci=0,this.setTransition({id:Do,targetPageId:ci,source:R,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:W,resolve:Yi,reject:lr,promise:Xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xt.catch(To=>Promise.reject(To))}setBrowserUrl(b,R){const V=this.urlSerializer.serialize(b),W=Object.assign(Object.assign({},R.extras.state),this.generateNgRouterState(R.id,R.targetPageId));this.location.isCurrentPathEqualTo(V)||R.extras.replaceUrl?this.location.replaceState(V,"",W):this.location.go(V,"",W)}restoreHistory(b,R=!1){var V,W;if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(V=this.currentNavigation)||void 0===V?void 0:V.finalUrl)||0===le?this.currentUrlTree===(null===(W=this.currentNavigation)||void 0===W?void 0:W.finalUrl)&&0===le&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(le)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,R){const V=new $t(b.id,this.serializeUrl(b.extractedUrl),R);this.triggerEvent(V),b.resolve(!1)}generateNgRouterState(b,R){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:R}:{navigationId:b}}}return C.\u0275fac=function(b){return new(b||C)(w.LFG(w.DyG),w.LFG(xr),w.LFG(bi),w.LFG(E.Ye),w.LFG(w.zs3),w.LFG(w.v3s),w.LFG(w.Sil),w.LFG(void 0))},C.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac}),C})();function Nr(C){return"imperative"!==C}let Co=(()=>{class C{constructor(b,R,V){this.router=b,this.route=R,this.locationStrategy=V,this.commands=[],this.onChanges=new Y.xQ,this.subscription=b.events.subscribe(W=>{W instanceof Qt&&this.updateTargetUrlAndHref()})}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:[]}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,R,V,W,le){if(0!==b||R||V||W||le||"string"==typeof this.target&&"_self"!=this.target)return!0;const Ie={skipLocationChange:us(this.skipLocationChange),replaceUrl:us(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ie),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:us(this.preserveFragment)})}}return C.\u0275fac=function(b){return new(b||C)(w.Y36(Wn),w.Y36(Jr),w.Y36(E.S$))},C.\u0275dir=w.lG2({type:C,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,R){1&b&&w.NdJ("click",function(W){return R.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&b&&(w.Ikx("href",R.href,w.LSH),w.uIk("target",R.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[w.TTD]}),C})();function us(C){return""===C||!!C}let Io=(()=>{class C{constructor(b,R,V,W,le){this.parentContexts=b,this.location=R,this.resolver=V,this.changeDetector=le,this.activated=null,this._activatedRoute=null,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.name=W||Kt,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,b}attach(b,R){this.activated=b,this._activatedRoute=R,this.location.insert(b.hostView)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,R){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const le=(R=R||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),Ie=this.parentContexts.getOrCreateContext(this.name).children,tt=new Ac(b,Ie,this.location.injector);this.activated=this.location.createComponent(le,this.location.length,tt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return C.\u0275fac=function(b){return new(b||C)(w.Y36(bi),w.Y36(w.s_b),w.Y36(w._Vd),w.$8M("name"),w.Y36(w.sBO))},C.\u0275dir=w.lG2({type:C,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),C})();class Ac{constructor(v,b,R){this.route=v,this.childContexts=b,this.parent=R}get(v,b){return v===Jr?this.route:v===bi?this.childContexts:this.parent.get(v,b)}}class Rr{}class pa{preload(v,b){return(0,oe.of)(null)}}let Ho=(()=>{class C{constructor(b,R,V,W,le){this.router=b,this.injector=W,this.preloadingStrategy=le,this.loader=new Ha(R,V,Ct=>b.triggerEvent(new xt(Ct)),Ct=>b.triggerEvent(new Mt(Ct)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ae.h)(b=>b instanceof Qt),ye(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(w.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,R){const V=[];for(const W of R)if(W.loadChildren&&!W.canLoad&&W._loadedConfig){const le=W._loadedConfig;V.push(this.processRoutes(le.module,le.routes))}else W.loadChildren&&!W.canLoad?V.push(this.preloadConfig(b,W)):W.children&&V.push(this.processRoutes(b,W.children));return(0,Ye.D)(V).pipe((0,vn.J)(),(0,kt.U)(W=>{}))}preloadConfig(b,R){return this.preloadingStrategy.preload(R,()=>(R._loadedConfig?(0,oe.of)(R._loadedConfig):this.loader.load(b.injector,R)).pipe((0,ke.zg)(W=>(R._loadedConfig=W,this.processRoutes(W.module,W.routes)))))}}return C.\u0275fac=function(b){return new(b||C)(w.LFG(Wn),w.LFG(w.v3s),w.LFG(w.Sil),w.LFG(w.zs3),w.LFG(Rr))},C.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac}),C})(),co=(()=>{class C{constructor(b,R,V={}){this.router=b,this.viewportScroller=R,this.options=V,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},V.scrollPositionRestoration=V.scrollPositionRestoration||"disabled",V.anchorScrolling=V.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof Tt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Qt&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof Pn&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,R){this.router.triggerEvent(new Pn(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return C.\u0275fac=function(b){return new(b||C)(w.LFG(Wn),w.LFG(E.EM),w.LFG(void 0))},C.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac}),C})();const Ys=new w.OlP("ROUTER_CONFIGURATION"),ho=new w.OlP("ROUTER_FORROOT_GUARD"),Qs=[E.Ye,{provide:xr,useClass:vt},{provide:Wn,useFactory:function(C,v,b,R,V,W,le,Ie={},tt,Ct){const on=new Wn(null,C,v,b,R,V,W,Nn(le));return tt&&(on.urlHandlingStrategy=tt),Ct&&(on.routeReuseStrategy=Ct),function(C,v){C.errorHandler&&(v.errorHandler=C.errorHandler),C.malformedUriErrorHandler&&(v.malformedUriErrorHandler=C.malformedUriErrorHandler),C.onSameUrlNavigation&&(v.onSameUrlNavigation=C.onSameUrlNavigation),C.paramsInheritanceStrategy&&(v.paramsInheritanceStrategy=C.paramsInheritanceStrategy),C.relativeLinkResolution&&(v.relativeLinkResolution=C.relativeLinkResolution),C.urlUpdateStrategy&&(v.urlUpdateStrategy=C.urlUpdateStrategy)}(Ie,on),Ie.enableTracing&&on.events.subscribe(kn=>{var Bt,xn;null===(Bt=console.group)||void 0===Bt||Bt.call(console,`Router Event: ${kn.constructor.name}`),console.log(kn.toString()),console.log(kn),null===(xn=console.groupEnd)||void 0===xn||xn.call(console)}),on},deps:[xr,bi,E.Ye,w.zs3,w.v3s,w.Sil,Ns,Ys,[class{},new w.FiY],[class{},new w.FiY]]},bi,{provide:Jr,useFactory:function(C){return C.routerState.root},deps:[Wn]},{provide:w.v3s,useClass:w.EAV},Ho,pa,class{preload(v,b){return b().pipe(Fe(()=>(0,oe.of)(null)))}},{provide:Ys,useValue:{enableTracing:!1}}];function tl(){return new w.PXZ("Router",Wn)}let $o=(()=>{class C{constructor(b,R){}static forRoot(b,R){return{ngModule:C,providers:[Qs,qa(b),{provide:ho,useFactory:Rs,deps:[[Wn,new w.FiY,new w.tp0]]},{provide:Ys,useValue:R||{}},{provide:E.S$,useFactory:Go,deps:[E.lw,[new w.tBr(E.mr),new w.FiY],Ys]},{provide:co,useFactory:li,deps:[Wn,E.EM,Ys]},{provide:Rr,useExisting:R&&R.preloadingStrategy?R.preloadingStrategy:pa},{provide:w.PXZ,multi:!0,useFactory:tl},[Js,{provide:w.ip1,multi:!0,useFactory:ga,deps:[Js]},{provide:pn,useFactory:jt,deps:[Js]},{provide:w.tb,multi:!0,useExisting:pn}]]}}static forChild(b){return{ngModule:C,providers:[qa(b)]}}}return C.\u0275fac=function(b){return new(b||C)(w.LFG(ho,8),w.LFG(Wn,8))},C.\u0275mod=w.oAB({type:C}),C.\u0275inj=w.cJS({}),C})();function li(C,v,b){return b.scrollOffset&&v.setOffset(b.scrollOffset),new co(C,v,b)}function Go(C,v,b={}){return b.useHash?new E.Do(C,v):new E.b0(C,v)}function Rs(C){return"guarded"}function qa(C){return[{provide:w.deG,multi:!0,useValue:C},{provide:Ns,multi:!0,useValue:C}]}let Js=(()=>{class C{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Y.xQ}appInitializer(){return this.injector.get(E.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let R=null;const V=new Promise(Ie=>R=Ie),W=this.injector.get(Wn),le=this.injector.get(Ys);return"disabled"===le.initialNavigation?(W.setUpLocationChangeListener(),R(!0)):"enabled"===le.initialNavigation||"enabledBlocking"===le.initialNavigation?(W.hooks.afterPreactivation=()=>this.initNavigation?(0,oe.of)(null):(this.initNavigation=!0,R(!0),this.resultOfPreactivationDone),W.initialNavigation()):R(!0),V})}bootstrapListener(b){const R=this.injector.get(Ys),V=this.injector.get(Ho),W=this.injector.get(co),le=this.injector.get(Wn),Ie=this.injector.get(w.z2F);b===Ie.components[0]&&(("enabledNonBlocking"===R.initialNavigation||void 0===R.initialNavigation)&&le.initialNavigation(),V.setUpPreloading(),W.init(),le.resetRootComponentType(Ie.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return C.\u0275fac=function(b){return new(b||C)(w.LFG(w.zs3))},C.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac}),C})();function ga(C){return C.appInitializer.bind(C)}function jt(C){return C.bootstrapListener.bind(C)}const pn=new w.OlP("Router Initializer")},4486:(Nt,We,$)=>{"use strict";$.d(We,{Z:()=>Pe});var E=$(4685),w=$(6034),Y=$(5452),we=$(300);class Ne{constructor(he,Ye){this._delegate=he,this.firebase=Ye,(0,Y._addComponent)(he,new w.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(he,Ye=Y._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const ot=this._delegate.container.getProvider(he);return!ot.isInitialized()&&"EXPLICIT"===(null===(Ke=ot.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&ot.initialize(),ot.getImmediate({identifier:Ye})}_removeServiceInstance(he,Ye=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(Ye)}_addComponent(he){(0,Y._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,Y._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const $e=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function ce(){const Ue=function(Ue){const he={},Ye={__esModule:!0,initializeApp:function(gt,Fe={}){const Ze=Y.initializeApp(gt,Fe);if((0,E.r3)(he,Ze.name))return he[Ze.name];const Le=new Ue(Ze,Ye);return he[Ze.name]=Le,Le},app:ot,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function(gt){const Fe=gt.name,Ze=Fe.replace("-compat","");if(Y._registerComponent(gt)&&"PUBLIC"===gt.type){const Le=(ke=ot())=>{if("function"!=typeof ke[Ze])throw $e.create("invalid-app-argument",{appName:Fe});return ke[Ze]()};void 0!==gt.serviceProps&&(0,E.ZB)(Le,gt.serviceProps),Ye[Ze]=Le,Ue.prototype[Ze]=function(...ke){return this._getService.bind(this,Fe).apply(this,gt.multipleInstances?ke:[])}}return"PUBLIC"===gt.type?Ye[Ze]:null},removeApp:function(gt){delete he[gt]},useAsService:function(gt,Fe){return"serverAuth"===Fe?null:Fe},modularAPIs:Y}};function ot(gt){if(!(0,E.r3)(he,gt=gt||Y._DEFAULT_ENTRY_NAME))throw $e.create("no-app",{appName:gt});return he[gt]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function(){return Object.keys(he).map(gt=>he[gt])}}),ot.App=Ue,Ye}(Ne);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function(Ye){(0,E.ZB)(Ue,Ye)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),Ue}(),re=new we.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=ee;(0,Y.registerVersion)("@firebase/app-compat","0.1.1",undefined);const Pe=Ge},5452:(Nt,We,$)=>{"use strict";$.r(We),$.d(We,{FirebaseError:()=>we.ZR,SDK_VERSION:()=>er,_DEFAULT_ENTRY_NAME:()=>Zt,_addComponent:()=>nn,_addOrOverwriteComponent:()=>gn,_apps:()=>pt,_clearComponents:()=>Lt,_components:()=>Rt,_getProvider:()=>ht,_registerComponent:()=>mn,_removeServiceInstance:()=>Et,deleteApp:()=>Pt,getApp:()=>Ln,getApps:()=>bn,initializeApp:()=>gr,onLog:()=>Tt,registerVersion:()=>Dn,setLogLevel:()=>Qt});var E=$(8239),w=$(6034),Y=$(300),we=$(4685);class Ne{constructor(rt){this.container=rt}getPlatformInfoString(){return this.container.getProviders().map(Jt=>{if(function(zt){const rt=zt.getComponent();return"VERSION"===(null==rt?void 0:rt.type)}(Jt)){const Kn=Jt.getImmediate();return`${Kn.library}/${Kn.version}`}return null}).filter(Jt=>Jt).join(" ")}}const $e="@firebase/app",ce=new Y.Yd("@firebase/app"),Zt="[DEFAULT]",ct={[$e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pt=new Map,Rt=new Map;function nn(zt,rt){try{zt.container.addComponent(rt)}catch(Jt){ce.debug(`Component ${rt.name} failed to register with FirebaseApp ${zt.name}`,Jt)}}function gn(zt,rt){zt.container.addOrOverwriteComponent(rt)}function mn(zt){const rt=zt.name;if(Rt.has(rt))return ce.debug(`There were multiple attempts to register component ${rt}.`),!1;Rt.set(rt,zt);for(const Jt of pt.values())nn(Jt,zt);return!0}function ht(zt,rt){return zt.container.getProvider(rt)}function Et(zt,rt,Jt=Zt){ht(zt,rt).clearInstance(Jt)}function Lt(){Rt.clear()}const $n=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class ln{constructor(rt,Jt,Kn){this._isDeleted=!1,this._options=Object.assign({},rt),this._config=Object.assign({},Jt),this._name=Jt.name,this._automaticDataCollectionEnabled=Jt.automaticDataCollectionEnabled,this._container=Kn,this.container.addComponent(new w.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this.checkDestroyed(),this._automaticDataCollectionEnabled=rt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(rt){this._isDeleted=rt}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}const er="9.0.0";function gr(zt,rt={}){"object"!=typeof rt&&(rt={name:rt});const Jt=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},rt),Kn=Jt.name;if("string"!=typeof Kn||!Kn)throw $n.create("bad-app-name",{appName:String(Kn)});const Gn=pt.get(Kn);if(Gn){if((0,we.vZ)(zt,Gn.options)&&(0,we.vZ)(Jt,Gn.config))return Gn;throw $n.create("duplicate-app",{appName:Kn})}const wn=new w.H0(Kn);for(const Mt of Rt.values())wn.addComponent(Mt);const xt=new ln(zt,Jt,wn);return pt.set(Kn,xt),xt}function Ln(zt=Zt){const rt=pt.get(zt);if(!rt)throw $n.create("no-app",{appName:zt});return rt}function bn(){return Array.from(pt.values())}function Pt(zt){return vn.apply(this,arguments)}function vn(){return(vn=(0,E.Z)(function*(zt){const rt=zt.name;pt.has(rt)&&(pt.delete(rt),yield Promise.all(zt.container.getProviders().map(Jt=>Jt.delete())),zt.isDeleted=!0)})).apply(this,arguments)}function Dn(zt,rt,Jt){var Kn;let Gn=null!==(Kn=ct[zt])&&void 0!==Kn?Kn:zt;Jt&&(Gn+=`-${Jt}`);const wn=Gn.match(/\s|\//),xt=rt.match(/\s|\//);if(wn||xt){const Mt=[`Unable to register library "${Gn}" with version "${rt}":`];return wn&&Mt.push(`library name "${Gn}" contains illegal characters (whitespace or "/")`),wn&&xt&&Mt.push("and"),xt&&Mt.push(`version name "${rt}" contains illegal characters (whitespace or "/")`),void ce.warn(Mt.join(" "))}mn(new w.wA(`${Gn}-version`,()=>({library:Gn,version:rt}),"VERSION"))}function Tt(zt,rt){if(null!==zt&&"function"!=typeof zt)throw $n.create("invalid-log-argument");(0,Y.Am)(zt,rt)}function Qt(zt){(0,Y.Ub)(zt)}mn(new w.wA("platform-logger",rt=>new Ne(rt),"PRIVATE")),Dn($e,"0.7.0",undefined),Dn("fire-js","")},5893:(Nt,We,$)=>{"use strict";$.d(We,{$:()=>vi,A:()=>re,E:()=>vt,G:()=>Sn,I:()=>Mr,K:()=>yn,L:()=>Ut,M:()=>ys,N:()=>es,P:()=>Bl,Q:()=>Hs,R:()=>ma,T:()=>Ri,V:()=>Pi,W:()=>Gs,X:()=>P,Y:()=>S,Z:()=>Re,_:()=>Zr,a:()=>us,a0:()=>xs,a1:()=>hn,a2:()=>ka,a3:()=>Ju,a4:()=>wu,a5:()=>ut,a6:()=>zn,a7:()=>vr,a8:()=>ca,a9:()=>zs,aA:()=>ya,aB:()=>Wa,aC:()=>Cr,aG:()=>Io,aJ:()=>ts,aa:()=>wo,ab:()=>Ms,ae:()=>vs,af:()=>Fr,ag:()=>Fa,aj:()=>uo,ak:()=>os,am:()=>Ha,an:()=>B,ao:()=>tr,ap:()=>Fe,aq:()=>An,ar:()=>cn,as:()=>Ke,at:()=>eu,au:()=>Qa,av:()=>ot,aw:()=>et,ax:()=>Le,ay:()=>En,az:()=>Pd,b:()=>ws,c:()=>Od,d:()=>Zo,e:()=>eo,f:()=>Hl,g:()=>Mc,h:()=>uf,i:()=>rl,j:()=>cl,k:()=>vl,l:()=>af,m:()=>Su,n:()=>Bd,o:()=>Ce,r:()=>Vg,s:()=>Li,u:()=>Md,z:()=>be});var E=$(8239),w=$(4685),Y=$(5452),we=$(4762),Ne=$(300),ve=$(6034);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},re={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const be=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ge=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Pe=new w.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),he=new Ne.Yd("@firebase/auth");function Ye(D,...p){he.logLevel<=Ne.in.ERROR&&he.error(`Auth (${Y.SDK_VERSION}): ${D}`,...p)}function Ke(D,...p){throw Gt(D,...p)}function ot(D,...p){return Gt(D,...p)}function oe(D,p,m){const A=Object.assign(Object.assign({},Ge()),{[p]:m});return new w.LL("auth","Firebase",A).create(p,{appName:D.name})}function Xe(D,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ke(D,"argument-error"),oe(D,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gt(D,...p){if("string"!=typeof D){const m=p[0],A=[...p.slice(1)];return A[0]&&(A[0].appName=D.name),D._errorFactory.create(m,...A)}return Pe.create(D,...p)}function et(D,p,...m){if(!D)throw Gt(p,...m)}function gt(D){const p="INTERNAL ASSERTION FAILED: "+D;throw Ye(p),new Error(p)}function Fe(D,p){D||gt(p)}const Ze=new Map;function Le(D){Fe(D instanceof Function,"Expected a class definition");let p=Ze.get(D);return p?(Fe(p instanceof D,"Instance stored in cache mismatched with class"),p):(p=new D,Ze.set(D,p),p)}function Ae(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Be(){return"http:"===bt()||"https:"===bt()}function bt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class pt{constructor(p,m){this.shortDelay=p,this.longDelay=m,Fe(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,w.uI)()||(0,w.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Be()||(0,w.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Rt(D,p){Fe(D.emulator,"Emulator should always be set here");const{url:m}=D.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class nn{static initialize(p,m,A){this.fetchImpl=p,m&&(this.headersImpl=m),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},mn=new pt(3e4,6e4);function ht(D,p){return D.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:D.tenantId}):p}function Et(D,p,m,A){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,E.Z)(function*(D,p,m,A,q={}){return kt(D,q,()=>{let J={},Me={};A&&("GET"===p?Me=A:J={body:JSON.stringify(A)});const ft=(0,w.xO)(Object.assign({key:D.config.apiKey},Me)).slice(1),Ht=new(nn.headers());return Ht.set("Content-Type","application/json"),Ht.set("X-Client-Version",D._getSdkClientVersion()),D.languageCode&&Ht.set("X-Firebase-Locale",D.languageCode),nn.fetch()(gr(D,D.config.apiHost,m,ft),Object.assign({method:p,headers:Ht,referrerPolicy:"no-referrer"},J))})})).apply(this,arguments)}function kt(D,p,m){return $n.apply(this,arguments)}function $n(){return($n=(0,E.Z)(function*(D,p,m){D._canInitEmulator=!1;const A=Object.assign(Object.assign({},gn),p);try{const q=new Ln(D),J=yield Promise.race([m(),q.promise]);q.clearNetworkTimeout();const Me=yield J.json();if("needConfirmation"in Me)throw bn(D,"account-exists-with-different-credential",Me);if(J.ok&&!("errorMessage"in Me))return Me;{const ft=J.ok?Me.errorMessage:Me.error.message,[Ht,Ft]=ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ht)throw bn(D,"credential-already-in-use",Me);if("EMAIL_EXISTS"===Ht)throw bn(D,"email-already-in-use",Me);const Hn=A[Ht]||Ht.toLowerCase().replace(/[_\s]+/g,"-");if(Ft)throw oe(D,Hn,Ft);Ke(D,Hn)}}catch(q){if(q instanceof w.ZR)throw q;Ke(D,"network-request-failed")}})).apply(this,arguments)}function ln(D,p,m,A){return er.apply(this,arguments)}function er(){return(er=(0,E.Z)(function*(D,p,m,A,q={}){const J=yield Et(D,p,m,A,q);return"mfaPendingCredential"in J&&Ke(D,"multi-factor-auth-required",{serverResponse:J}),J})).apply(this,arguments)}function gr(D,p,m,A){const q=`${p}${m}?${A}`;return D.config.emulator?Rt(D.config,q):`${D.config.apiScheme}://${q}`}class Ln{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,A)=>{this.timer=setTimeout(()=>A(ot(this.auth,"timeout")),mn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bn(D,p,m){const A={appName:D.name};m.email&&(A.email=m.email),m.phoneNumber&&(A.phoneNumber=m.phoneNumber);const q=ot(D,p,A);return q.customData._tokenResponse=m,q}function vn(){return(vn=(0,E.Z)(function*(D,p){return Et(D,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Dn(D,p){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,E.Z)(function*(D,p){return Et(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Qt(D,p){return $t.apply(this,arguments)}function $t(){return($t=(0,E.Z)(function*(D,p){return Et(D,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function zt(D){if(D)try{const p=new Date(Number(D));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Kn(){return(Kn=(0,E.Z)(function*(D,p=!1){const m=(0,w.m9)(D),A=yield m.getIdToken(p),q=wn(A);et(q&&q.exp&&q.auth_time&&q.iat,m.auth,"internal-error");const J="object"==typeof q.firebase?q.firebase:void 0,Me=null==J?void 0:J.sign_in_provider;return{claims:q,token:A,authTime:zt(Gn(q.auth_time)),issuedAtTime:zt(Gn(q.iat)),expirationTime:zt(Gn(q.exp)),signInProvider:Me||null,signInSecondFactor:(null==J?void 0:J.sign_in_second_factor)||null}})).apply(this,arguments)}function Gn(D){return 1e3*Number(D)}function wn(D){const[p,m,A]=D.split(".");if(void 0===p||void 0===m||void 0===A)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,w.tV)(m);return q?JSON.parse(q):(Ye("Failed to decode base64 JWT payload"),null)}catch(q){return Ye("Caught error parsing JWT payload as JSON",q),null}}function Mt(D,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,E.Z)(function*(D,p,m=!1){if(m)return p;try{return yield p}catch(A){throw A instanceof w.ZR&&pi(A)&&D.auth.currentUser===D&&(yield D.auth.signOut()),A}})).apply(this,arguments)}function pi({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class oi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const q=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const A=this.getInterval(p);this.timerId=setTimeout((0,E.Z)(function*(){yield m.iteration()}),A)}iteration(){var p=this;return(0,E.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Rn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=zt(this.lastLoginAt),this.creationTime=zt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pn(D){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,E.Z)(function*(D){var p;const m=D.auth,A=yield D.getIdToken(),q=yield Mt(D,Qt(m,{idToken:A}));et(null==q?void 0:q.users.length,m,"internal-error");const J=q.users[0];D._notifyReloadListener(J);const Me=(null===(p=J.providerUserInfo)||void 0===p?void 0:p.length)?Se(J.providerUserInfo):[],ft=ne(D.providerData,Me),Hn=!!D.isAnonymous&&!(D.email&&J.passwordHash||(null==ft?void 0:ft.length)),rr={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:ft,metadata:new Rn(J.createdAt,J.lastLoginAt),isAnonymous:Hn};Object.assign(D,rr)})).apply(this,arguments)}function pe(){return(pe=(0,E.Z)(function*(D){const p=(0,w.m9)(D);yield Pn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ne(D,p){return[...D.filter(A=>!p.some(q=>q.providerId===A.providerId)),...p]}function Se(D){return D.map(p=>{var{providerId:m}=p,A=(0,we._T)(p,["providerId"]);return{providerId:m,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Oe(){return(Oe=(0,E.Z)(function*(D,p){const m=yield kt(D,{},()=>{const A=(0,w.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:q,apiKey:J}=D.config,Me=gr(D,q,"/v1/token",`key=${J}`);return nn.fetch()(Me,{method:"POST",headers:{"X-Client-Version":D._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:A})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){et(p.idToken,"internal-error"),et(void 0!==p.idToken,"internal-error"),et(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(D){const p=wn(D);return et(p,"internal-error"),et(void 0!==p.exp,"internal-error"),et(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var A=this;return(0,E.Z)(function*(){return et(!A.accessToken||A.refreshToken,p,"user-token-expired"),m||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(p,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var A=this;return(0,E.Z)(function*(){const{accessToken:q,refreshToken:J,expiresIn:Me}=yield function(D,p){return Oe.apply(this,arguments)}(p,m);A.updateTokensAndExpiration(q,J,Number(Me))})()}updateTokensAndExpiration(p,m,A){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(p,m){const{refreshToken:A,accessToken:q,expirationTime:J}=m,Me=new nt;return A&&(et("string"==typeof A,"internal-error",{appName:p}),Me.refreshToken=A),q&&(et("string"==typeof q,"internal-error",{appName:p}),Me.accessToken=q),J&&(et("number"==typeof J,"internal-error",{appName:p}),Me.expirationTime=J),Me}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new nt,this.toJSON())}_performRefresh(){return gt("not implemented")}}function At(D,p){et("string"==typeof D||void 0===D,"internal-error",{appName:p})}class rn{constructor(p){var{uid:m,auth:A,stsTokenManager:q}=p,J=(0,we._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new oi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=A,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.metadata=new Rn(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,E.Z)(function*(){const A=yield Mt(m,m.stsTokenManager.getToken(m.auth,p));return et(A,m.auth,"internal-error"),m.accessToken!==A&&(m.accessToken=A,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),A})()}getIdTokenResult(p){return function(D){return Kn.apply(this,arguments)}(this,p)}reload(){return function(D){return pe.apply(this,arguments)}(this)}_assign(p){this!==p&&(et(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new rn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var A=this;return(0,E.Z)(function*(){let q=!1;p.idToken&&p.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(p),q=!0),m&&(yield Pn(A)),yield A.auth._persistUserIfCurrent(A),q&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var p=this;return(0,E.Z)(function*(){const m=yield p.getIdToken();return yield Mt(p,function(D,p){return vn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var A,q,J,Me,ft,Ht,Ft,Hn;const rr=null!==(A=m.displayName)&&void 0!==A?A:void 0,pr=null!==(q=m.email)&&void 0!==q?q:void 0,Xo=null!==(J=m.phoneNumber)&&void 0!==J?J:void 0,Kl=null!==(Me=m.photoURL)&&void 0!==Me?Me:void 0,ks=null!==(ft=m.tenantId)&&void 0!==ft?ft:void 0,Lc=null!==(Ht=m._redirectEventId)&&void 0!==Ht?Ht:void 0,Vc=null!==(Ft=m.createdAt)&&void 0!==Ft?Ft:void 0,jd=null!==(Hn=m.lastLoginAt)&&void 0!==Hn?Hn:void 0,{uid:wa,emailVerified:Uc,isAnonymous:Zn,providerData:tu,stsTokenManager:Mu}=m;et(wa&&Mu,p,"internal-error");const Ou=nt.fromJSON(this.name,Mu);et("string"==typeof wa,p,"internal-error"),At(rr,p.name),At(pr,p.name),et("boolean"==typeof Uc,p,"internal-error"),et("boolean"==typeof Zn,p,"internal-error"),At(Xo,p.name),At(Kl,p.name),At(ks,p.name),At(Lc,p.name),At(Vc,p.name),At(jd,p.name);const ba=new rn({uid:wa,auth:p,email:pr,emailVerified:Uc,displayName:rr,isAnonymous:Zn,photoURL:Kl,phoneNumber:Xo,tenantId:ks,stsTokenManager:Ou,createdAt:Vc,lastLoginAt:jd});return tu&&Array.isArray(tu)&&(ba.providerData=tu.map(Bc=>Object.assign({},Bc))),Lc&&(ba._redirectEventId=Lc),ba}static _fromIdTokenResponse(p,m,A=!1){return(0,E.Z)(function*(){const q=new nt;q.updateFromServerResponse(m);const J=new rn({uid:m.localId,auth:p,stsTokenManager:q,isAnonymous:A});return yield Pn(J),J})()}}const yn=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(m,A){var q=this;return(0,E.Z)(function*(){q.storage[m]=A})()}_get(m){var A=this;return(0,E.Z)(function*(){const q=A.storage[m];return void 0===q?null:q})()}_remove(m){var A=this;return(0,E.Z)(function*(){delete A.storage[m]})()}_addListener(m,A){}_removeListener(m,A){}}return D.type="NONE",D})();function En(D,p,m){return`firebase:${D}:${p}:${m}`}class xe{constructor(p,m,A){this.persistence=p,this.auth=m,this.userKey=A;const{config:q,name:J}=this.auth;this.fullUserKey=En(this.userKey,q.apiKey,J),this.fullPersistenceKey=En("persistence",q.apiKey,J),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,E.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?rn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,E.Z)(function*(){if(m.persistence===p)return;const A=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,A?m.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,A="authUser"){return(0,E.Z)(function*(){if(!m.length)return new xe(Le(yn),p,A);const q=(yield Promise.all(m.map(function(){var Ft=(0,E.Z)(function*(Hn){if(yield Hn._isAvailable())return Hn});return function(Hn){return Ft.apply(this,arguments)}}()))).filter(Ft=>Ft);let J=q[0]||Le(yn);const Me=En(A,p.config.apiKey,p.name);let ft=null;for(const Ft of m)try{const Hn=yield Ft._get(Me);if(Hn){const rr=rn._fromJSON(p,Hn);Ft!==J&&(ft=rr),J=Ft;break}}catch(Hn){}const Ht=q.filter(Ft=>Ft._shouldAllowMigration);return J._shouldAllowMigration&&Ht.length?(J=Ht[0],ft&&(yield J._set(Me,ft.toJSON())),yield Promise.all(m.map(function(){var Ft=(0,E.Z)(function*(Hn){if(Hn!==J)try{yield Hn._remove(Me)}catch(rr){}});return function(Hn){return Ft.apply(this,arguments)}}())),new xe(J,p,A)):new xe(J,p,A)})()}}function ge(D){const p=D.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Vt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ee(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Tn(p))return"Blackberry";if(Yn(p))return"Webos";if(ze(p))return"Safari";if((p.includes("chrome/")||It(p))&&!p.includes("edge/"))return"Chrome";if(cn(p))return"Android";{const A=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function Ee(D=(0,w.z$)()){return/firefox\//i.test(D)}function ze(D=(0,w.z$)()){const p=D.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function It(D=(0,w.z$)()){return/crios\//i.test(D)}function Vt(D=(0,w.z$)()){return/iemobile/i.test(D)}function cn(D=(0,w.z$)()){return/android/i.test(D)}function Tn(D=(0,w.z$)()){return/blackberry/i.test(D)}function Yn(D=(0,w.z$)()){return/webos/i.test(D)}function An(D=(0,w.z$)()){return/iphone|ipad|ipod/i.test(D)}function tr(D=(0,w.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function St(D=(0,w.z$)()){return An(D)||cn(D)||Yn(D)||Tn(D)||/windows phone/i.test(D)||Vt(D)}function gi(D,p=[]){let m;switch(D){case"Browser":m=ge((0,w.z$)());break;case"Worker":m=`${ge((0,w.z$)())}-${D}`;break;default:m=D}const A=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${Y.SDK_VERSION}/${A}`}class dr{constructor(p,m){this.app=p,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xr(this),this.idTokenSubscription=new xr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(p,m){var A=this;return m&&(this._popupRedirectResolver=Le(m)),this._initializationPromise=this.queue((0,E.Z)(function*(){var q;A._deleted||(A.persistenceManager=yield xe.create(A,p),!A._deleted&&((null===(q=A._popupRedirectResolver)||void 0===q?void 0:q._shouldInitProactively)&&(yield A._popupRedirectResolver._initialize(A)),yield A.initializeCurrentUser(m),!A._deleted&&(A._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,E.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,E.Z)(function*(){var A;let q=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const J=null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId,Me=null==q?void 0:q._redirectEventId,ft=yield m.tryRedirectSignIn(p);(!J||J===Me)&&(null==ft?void 0:ft.user)&&(q=ft.user)}return q?q._redirectEventId?(et(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===q._redirectEventId?m.directlySetCurrentUser(q):m.reloadAndSetCurrentUserOrClear(q)):m.reloadAndSetCurrentUserOrClear(q):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,E.Z)(function*(){let A=null;try{A=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(q){yield m._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,E.Z)(function*(){try{yield Pn(p)}catch(A){if("auth/network-request-failed"!==A.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var p=this;return(0,E.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,E.Z)(function*(){const A=p?(0,w.m9)(p):null;return A&&et(A.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(A&&A._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,E.Z)(function*(){if(!m._deleted)return p&&et(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,E.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,E.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,E.Z)(function*(){yield m.assertedPersistence.setPersistence(Le(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new w.LL("auth","Firebase",p())}onAuthStateChanged(p,m,A){return this.registerStateListener(this.authStateSubscription,p,m,A)}onIdTokenChanged(p,m,A){return this.registerStateListener(this.idTokenSubscription,p,m,A)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var A=this;return(0,E.Z)(function*(){const q=yield A.getOrInitRedirectPersistenceManager(m);return null===p?q.removeCurrentUser():q.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,E.Z)(function*(){if(!m.redirectPersistenceManager){const A=p&&Le(p)||m._popupRedirectResolver;et(A,m,"argument-error"),m.redirectPersistenceManager=yield xe.create(m,[Le(A._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,E.Z)(function*(){var A,q;return m._isInitialized&&(yield m.queue((0,E.Z)(function*(){}))),(null===(A=m._currentUser)||void 0===A?void 0:A._redirectEventId)===p?m._currentUser:(null===(q=m.redirectUser)||void 0===q?void 0:q._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,E.Z)(function*(){if(p===m.currentUser)return m.queue((0,E.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,A,q){if(this._deleted)return()=>{};const J="function"==typeof m?m:m.next.bind(m),Me=this._isInitialized?Promise.resolve():this._initializationPromise;return et(Me,this,"internal-error"),Me.then(()=>J(this.currentUser)),"function"==typeof m?p.addObserver(m,A,q):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,E.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=gi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Cr(D){return(0,w.m9)(D)}class xr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,w.ne)(m=>this.observer=m)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function vt(D,p,m){const A=Cr(D);et(A._canInitEmulator,A,"emulator-config-failed"),et(/^https?:\/\//.test(p),A,"invalid-emulator-scheme");const q=!!(null==m?void 0:m.disableWarnings),J=en(p),{host:Me,port:ft}=function(D){const p=en(D),m=/(\/\/)?([^?#/]+)/.exec(D.substr(p.length));if(!m)return{host:"",port:null};const A=m[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(A);if(q){const J=q[1];return{host:J,port:Cn(A.substr(J.length+1))}}{const[J,Me]=A.split(":");return{host:J,port:Cn(Me)}}}(p);A.config.emulator={url:`${J}//${Me}${null===ft?"":`:${ft}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Me,port:ft,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:q})}),function(D){function p(){const m=document.createElement("p"),A=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",A.position="fixed",A.width="100%",A.backgroundColor="#ffffff",A.border=".1em solid #000000",A.color="#b50000",A.bottom="0px",A.left="0px",A.margin="0px",A.zIndex="10000",A.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!D&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}(q)}function en(D){const p=D.indexOf(":");return p<0?"":D.substr(0,p+1)}function Cn(D){if(!D)return null;const p=Number(D);return isNaN(p)?null:p}class Sn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return gt("not implemented")}_getIdTokenResponse(p){return gt("not implemented")}_linkToIdToken(p,m){return gt("not implemented")}_getReauthenticationResolver(p){return gt("not implemented")}}function qn(D,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,E.Z)(function*(D,p){return Et(D,"POST","/v1/accounts:resetPassword",ht(D,p))})).apply(this,arguments)}function xi(D,p){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,E.Z)(function*(D,p){return Et(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function fn(D,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,E.Z)(function*(D,p){return Et(D,"POST","/v1/accounts:update",ht(D,p))})).apply(this,arguments)}function ai(){return(ai=(0,E.Z)(function*(D,p){return ln(D,"POST","/v1/accounts:signInWithPassword",ht(D,p))})).apply(this,arguments)}function Hr(D,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,E.Z)(function*(D,p){return Et(D,"POST","/v1/accounts:sendOobCode",ht(D,p))})).apply(this,arguments)}function $r(D,p){return dn.apply(this,arguments)}function dn(){return(dn=(0,E.Z)(function*(D,p){return Hr(D,p)})).apply(this,arguments)}function _r(D,p){return Un.apply(this,arguments)}function Un(){return(Un=(0,E.Z)(function*(D,p){return Hr(D,p)})).apply(this,arguments)}function Oi(D,p){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,E.Z)(function*(D,p){return Hr(D,p)})).apply(this,arguments)}function Ji(D,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,E.Z)(function*(D,p){return Hr(D,p)})).apply(this,arguments)}function Gr(){return(Gr=(0,E.Z)(function*(D,p){return ln(D,"POST","/v1/accounts:signInWithEmailLink",ht(D,p))})).apply(this,arguments)}function ur(){return(ur=(0,E.Z)(function*(D,p){return ln(D,"POST","/v1/accounts:signInWithEmailLink",ht(D,p))})).apply(this,arguments)}class Jr extends Sn{constructor(p,m,A,q=null){super("password",A),this._email=p,this._password=m,this._tenantId=q}static _fromEmailAndPassword(p,m){return new Jr(p,m,"password")}static _fromEmailAndCode(p,m,A=null){return new Jr(p,m,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,E.Z)(function*(){switch(m.signInMethod){case"password":return function(D,p){return ai.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(D,p){return Gr.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ke(p,"internal-error")}})()}_linkToIdToken(p,m){var A=this;return(0,E.Z)(function*(){switch(A.signInMethod){case"password":return xi(p,{idToken:m,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function(D,p){return ur.apply(this,arguments)}(p,{idToken:m,email:A._email,oobCode:A._password});default:Ke(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ar(D,p){return jn.apply(this,arguments)}function jn(){return(jn=(0,E.Z)(function*(D,p){return ln(D,"POST","/v1/accounts:signInWithIdp",ht(D,p))})).apply(this,arguments)}class Mr extends Sn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Mr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ke("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:A,signInMethod:q}=m,J=(0,we._T)(m,["providerId","signInMethod"]);if(!A||!q)return null;const Me=new Mr(A,q);return Object.assign(Me,J),Me}_getIdTokenResponse(p){return Ar(p,this.buildRequest())}_linkToIdToken(p,m){const A=this.buildRequest();return A.idToken=m,Ar(p,A)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ar(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,w.xO)(m)}return p}}function Xr(D,p){return hr.apply(this,arguments)}function hr(){return(hr=(0,E.Z)(function*(D,p){return Et(D,"POST","/v1/accounts:sendVerificationCode",ht(D,p))})).apply(this,arguments)}function Ni(){return(Ni=(0,E.Z)(function*(D,p){return ln(D,"POST","/v1/accounts:signInWithPhoneNumber",ht(D,p))})).apply(this,arguments)}function Ii(){return(Ii=(0,E.Z)(function*(D,p){const m=yield ln(D,"POST","/v1/accounts:signInWithPhoneNumber",ht(D,p));if(m.temporaryProof)throw bn(D,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Sr={USER_NOT_FOUND:"user-not-found"};function te(){return(te=(0,E.Z)(function*(D,p){return ln(D,"POST","/v1/accounts:signInWithPhoneNumber",ht(D,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Sr)})).apply(this,arguments)}class se extends Sn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new se({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new se({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function(D,p){return Ni.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function(D,p){return Ii.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(D,p){return te.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:A,verificationCode:q}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:A,code:q}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:A,phoneNumber:q,temporaryProof:J}=p;return A||m||q||J?new se({verificationId:m,verificationCode:A,phoneNumber:q,temporaryProof:J}):null}}class Ve{constructor(p){var m,A,q,J,Me,ft;const Ht=(0,w.zd)((0,w.pd)(p)),Ft=null!==(m=Ht.apiKey)&&void 0!==m?m:null,Hn=null!==(A=Ht.oobCode)&&void 0!==A?A:null,rr=function(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=Ht.mode)&&void 0!==q?q:null);et(Ft&&Hn&&rr,"argument-error"),this.apiKey=Ft,this.operation=rr,this.code=Hn,this.continueUrl=null!==(J=Ht.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Me=Ht.languageCode)&&void 0!==Me?Me:null,this.tenantId=null!==(ft=Ht.tenantId)&&void 0!==ft?ft:null}static parseLink(p){const m=function(D){const p=(0,w.zd)((0,w.pd)(D)).link,m=p?(0,w.zd)((0,w.pd)(p)).deep_link_id:null,A=(0,w.zd)((0,w.pd)(D)).deep_link_id;return(A?(0,w.zd)((0,w.pd)(A)).link:null)||A||m||p||D}(p);try{return new Ve(m)}catch(A){return null}}}let Ut=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(m,A){return Jr._fromEmailAndPassword(m,A)}static credentialWithLink(m,A){const q=Ve.parseLink(A);return et(q,"argument-error"),Jr._fromEmailAndCode(m,q.code,q.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class ir{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class fr extends ir{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ri extends fr{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return et("providerId"in m&&"signInMethod"in m,"argument-error"),Mr._fromParams(m)}credential(p){return this._credential(p)}_credential(p){return et(p.idToken||p.accessToken,"argument-error"),Mr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ri.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ri.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:A,oauthTokenSecret:q,pendingToken:J,nonce:Me,providerId:ft}=p;if(!A&&!q&&!m&&!J||!ft)return null;try{return new Ri(ft)._credential({idToken:m,accessToken:A,rawNonce:Me,pendingToken:J})}catch(Ht){return null}}}let ys=(()=>{class D extends fr{constructor(){super("facebook.com")}static credential(m){return Mr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch(A){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),es=(()=>{class D extends fr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,A){return Mr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:A})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:A,oauthAccessToken:q}=m;if(!A&&!q)return null;try{return D.credential(A,q)}catch(J){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Hs=(()=>{class D extends fr{constructor(){super("github.com")}static credential(m){return Mr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch(A){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class ts extends Sn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Ar(p,this.buildRequest())}_linkToIdToken(p,m){const A=this.buildRequest();return A.idToken=m,Ar(p,A)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ar(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:A,signInMethod:q,pendingToken:J}=m;return A&&q&&J&&A===q?new ts(A,J):null}static _create(p,m){return new ts(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Pi=(()=>{class D extends fr{constructor(){super("twitter.com")}static credential(m,A){return Mr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:A})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:A,oauthTokenSecret:q}=m;if(!A||!q)return null;try{return D.credential(A,q)}catch(J){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Gi(D,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,E.Z)(function*(D,p){return ln(D,"POST","/v1/accounts:signUp",ht(D,p))})).apply(this,arguments)}class ei{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,A,q=!1){return(0,E.Z)(function*(){const J=yield rn._fromIdTokenResponse(p,A,q),Me=rs(A);return new ei({user:J,providerId:Me,_tokenResponse:A,operationType:m})})()}static _forOperation(p,m,A){return(0,E.Z)(function*(){yield p._updateTokensIfNecessary(A,!0);const q=rs(A);return new ei({user:p,providerId:q,_tokenResponse:A,operationType:m})})()}}function rs(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Gs(D){return ki.apply(this,arguments)}function ki(){return(ki=(0,E.Z)(function*(D){var p;const m=Cr(D);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new ei({user:m.currentUser,providerId:null,operationType:"signIn"});const A=yield Gi(m,{returnSecureToken:!0}),q=yield ei._fromIdTokenResponse(m,"signIn",A,!0);return yield m._updateCurrentUser(q.user),q})).apply(this,arguments)}class qr extends w.ZR{constructor(p,m,A,q){var J;super(m.code,m.message),this.operationType=A,this.user=q,this.name="FirebaseError",Object.setPrototypeOf(this,qr.prototype),this.appName=p.name,this.code=m.code,this.tenantId=null!==(J=p.tenantId)&&void 0!==J?J:void 0,this.serverResponse=m.customData.serverResponse}static _fromErrorAndOperation(p,m,A,q){return new qr(p,m,A,q)}}function Di(D,p,m,A){return("reauthenticate"===p?m._getReauthenticationResolver(D):m._getIdTokenResponse(D)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?qr._fromErrorAndOperation(D,J,p,A):J})}function ti(D){return new Set(D.map(({providerId:p})=>p).filter(p=>!!p))}function uo(D,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,E.Z)(function*(D,p){const m=(0,w.m9)(D);yield z(!0,m,p);const{providerUserInfo:A}=yield Dn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),q=ti(A||[]);return m.providerData=m.providerData.filter(J=>q.has(J.providerId)),q.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function zi(D,p){return F.apply(this,arguments)}function F(){return(F=(0,E.Z)(function*(D,p,m=!1){const A=yield Mt(D,p._linkToIdToken(D.auth,yield D.getIdToken()),m);return ei._forOperation(D,"link",A)})).apply(this,arguments)}function z(D,p,m){return L.apply(this,arguments)}function L(){return(L=(0,E.Z)(function*(D,p,m){yield Pn(p);const q=!1===D?"provider-already-linked":"no-such-provider";et(ti(p.providerData).has(m)===D,p.auth,q)})).apply(this,arguments)}function Z(D,p){return _e.apply(this,arguments)}function _e(){return(_e=(0,E.Z)(function*(D,p,m=!1){const{auth:A}=D,q="reauthenticate";try{const J=yield Mt(D,Di(A,q,p,D),m);et(J.idToken,A,"internal-error");const Me=wn(J.idToken);et(Me,A,"internal-error");const{sub:ft}=Me;return et(D.uid===ft,A,"user-mismatch"),ei._forOperation(D,q,J)}catch(J){throw"auth/user-not-found"===(null==J?void 0:J.code)&&Ke(A,"user-mismatch"),J}})).apply(this,arguments)}function He(D,p){return lt.apply(this,arguments)}function lt(){return(lt=(0,E.Z)(function*(D,p,m=!1){const A="signIn",q=yield Di(D,A,p),J=yield ei._fromIdTokenResponse(D,A,q);return m||(yield D._updateCurrentUser(J.user)),J})).apply(this,arguments)}function P(D,p){return O.apply(this,arguments)}function O(){return(O=(0,E.Z)(function*(D,p){return He(Cr(D),p)})).apply(this,arguments)}function S(D,p){return H.apply(this,arguments)}function H(){return(H=(0,E.Z)(function*(D,p){const m=(0,w.m9)(D);return yield z(!1,m,p.providerId),zi(m,p)})).apply(this,arguments)}function Re(D,p){return wt.apply(this,arguments)}function wt(){return(wt=(0,E.Z)(function*(D,p){return Z((0,w.m9)(D),p)})).apply(this,arguments)}function qt(D,p){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,E.Z)(function*(D,p){return ln(D,"POST","/v1/accounts:signInWithCustomToken",ht(D,p))})).apply(this,arguments)}function Zr(D,p){return zr.apply(this,arguments)}function zr(){return(zr=(0,E.Z)(function*(D,p){const m=Cr(D),A=yield qt(m,{token:p,returnSecureToken:!0}),q=yield ei._fromIdTokenResponse(m,"signIn",A);return yield m._updateCurrentUser(q.user),q})).apply(this,arguments)}class sr{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Ti._fromServerResponse(p,m):Ke(p,"internal-error")}}class Ti extends sr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Ti(m)}}function Wi(D,p,m){var A;et((null===(A=m.url)||void 0===A?void 0:A.length)>0,D,"invalid-continue-uri"),et(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(et(m.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),p.iosBundleId=m.iOS.bundleId),m.android&&(et(m.android.packageName.length>0,D,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function vi(D,p,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,E.Z)(function*(D,p,m){const A=(0,w.m9)(D),q={requestType:"PASSWORD_RESET",email:p};m&&Wi(A,q,m),yield _r(A,q)})).apply(this,arguments)}function xs(D,p,m){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,E.Z)(function*(D,p,m){yield qn((0,w.m9)(D),{oobCode:p,newPassword:m})})).apply(this,arguments)}function hn(D,p){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,E.Z)(function*(D,p){yield fn((0,w.m9)(D),{oobCode:p})})).apply(this,arguments)}function ka(D,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,E.Z)(function*(D,p){const m=(0,w.m9)(D),A=yield qn(m,{oobCode:p}),q=A.requestType;switch(et(q,m,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":et(A.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":et(A.mfaInfo,m,"internal-error");default:et(A.email,m,"internal-error")}let J=null;return A.mfaInfo&&(J=sr._fromServerResponse(Cr(m),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:J},operation:q}})).apply(this,arguments)}function Ju(D,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,E.Z)(function*(D,p){const{data:m}=yield ka((0,w.m9)(D),p);return m.email})).apply(this,arguments)}function wu(D,p,m){return la.apply(this,arguments)}function la(){return(la=(0,E.Z)(function*(D,p,m){const A=Cr(D),q=yield Gi(A,{returnSecureToken:!0,email:p,password:m}),J=yield ei._fromIdTokenResponse(A,"signIn",q);return yield A._updateCurrentUser(J.user),J})).apply(this,arguments)}function ut(D,p,m){return P((0,w.m9)(D),Ut.credential(p,m))}function zn(D,p,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,E.Z)(function*(D,p,m){const A=(0,w.m9)(D),q={requestType:"EMAIL_SIGNIN",email:p};et(m.handleCodeInApp,A,"argument-error"),m&&Wi(A,q,m),yield Oi(A,q)})).apply(this,arguments)}function vr(D,p){const m=Ve.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function ca(D,p,m){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,E.Z)(function*(D,p,m){const A=(0,w.m9)(D),q=Ut.credentialWithLink(p,m||Ae());return et(q._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),P(A,q)})).apply(this,arguments)}function Ki(D,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,E.Z)(function*(D,p){return Et(D,"POST","/v1/accounts:createAuthUri",ht(D,p))})).apply(this,arguments)}function zs(D,p){return bu.apply(this,arguments)}function bu(){return(bu=(0,E.Z)(function*(D,p){const A={identifier:p,continueUri:Be()?Ae():"http://localhost"},{signinMethods:q}=yield Ki((0,w.m9)(D),A);return q||[]})).apply(this,arguments)}function wo(D,p){return is.apply(this,arguments)}function is(){return(is=(0,E.Z)(function*(D,p){const m=(0,w.m9)(D),q={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};p&&Wi(m.auth,q,p);const{email:J}=yield $r(m.auth,q);J!==D.email&&(yield D.reload())})).apply(this,arguments)}function Ms(D,p,m){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,E.Z)(function*(D,p,m){const A=(0,w.m9)(D),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:p};m&&Wi(A.auth,J,m);const{email:Me}=yield Ji(A.auth,J);Me!==D.email&&(yield D.reload())})).apply(this,arguments)}function Fi(D,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,E.Z)(function*(D,p){return Et(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function vs(D,p){return ss.apply(this,arguments)}function ss(){return(ss=(0,E.Z)(function*(D,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const A=(0,w.m9)(D),J={idToken:yield A.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Me=yield Mt(A,Fi(A.auth,J));A.displayName=Me.displayName||null,A.photoURL=Me.photoUrl||null;const ft=A.providerData.find(({providerId:Ht})=>"password"===Ht);ft&&(ft.displayName=A.displayName,ft.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Me)})).apply(this,arguments)}function Fr(D,p){return Eu((0,w.m9)(D),p,null)}function Fa(D,p){return Eu((0,w.m9)(D),null,p)}function Eu(D,p,m){return La.apply(this,arguments)}function La(){return(La=(0,E.Z)(function*(D,p,m){const{auth:A}=D,J={idToken:yield D.getIdToken(),returnSecureToken:!0};p&&(J.email=p),m&&(J.password=m);const Me=yield Mt(D,xi(A,J));yield D._updateTokensIfNecessary(Me,!0)})).apply(this,arguments)}class Ws{constructor(p,m,A={}){this.isNewUser=p,this.providerId=m,this.profile=A}}class Zs extends Ws{constructor(p,m,A,q){super(p,m,A),this.username=q}}class Ua extends Ws{constructor(p,m){super(p,"facebook.com",m)}}class Ba extends Zs{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class bo extends Ws{constructor(p,m){super(p,"google.com",m)}}class Eo extends Zs{constructor(p,m,A){super(p,"twitter.com",m,A)}}function os(D){const{user:p,_tokenResponse:m}=D;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(D){var p,m;if(!D)return null;const{providerId:A}=D,q=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},J=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!A&&(null==D?void 0:D.idToken)){const Me=null===(m=null===(p=wn(D.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Me)return new Ws(J,"anonymous"!==Me&&"custom"!==Me?Me:null)}if(!A)return null;switch(A){case"facebook.com":return new Ua(J,q);case"github.com":return new Ba(J,q);case"google.com":return new bo(J,q);case"twitter.com":return new Eo(J,q,D.screenName||null);case"custom":case"anonymous":return new Ws(J,null);default:return new Ws(J,A,q)}}(m)}class or{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new or("enroll",p)}static _fromMfaPendingCredential(p){return new or("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,A;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return or._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(A=p.multiFactorSession)||void 0===A?void 0:A.idToken)return or._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ns{constructor(p,m,A){this.session=p,this.hints=m,this.signInResolver=A}static _fromError(p,m){const A=Cr(p),q=(m.serverResponse.mfaInfo||[]).map(Me=>sr._fromServerResponse(A,Me));et(m.serverResponse.mfaPendingCredential,A,"internal-error");const J=or._fromMfaPendingCredential(m.serverResponse.mfaPendingCredential);return new Ns(J,q,function(){var Me=(0,E.Z)(function*(ft){const Ht=yield ft._process(A,J);delete m.serverResponse.mfaInfo,delete m.serverResponse.mfaPendingCredential;const Ft=Object.assign(Object.assign({},m.serverResponse),{idToken:Ht.idToken,refreshToken:Ht.refreshToken});switch(m.operationType){case"signIn":const Hn=yield ei._fromIdTokenResponse(A,m.operationType,Ft);return yield A._updateCurrentUser(Hn.user),Hn;case"reauthenticate":return et(m.user,A,"internal-error"),ei._forOperation(m.user,m.operationType,Ft);default:Ke(A,"internal-error")}});return function(ft){return Me.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,E.Z)(function*(){return m.signInResolver(p)})()}}function Ha(D,p){var m;const A=(0,w.m9)(D),q=p;return et(p.operationType,A,"argument-error"),et(null===(m=q.serverResponse)||void 0===m?void 0:m.mfaPendingCredential,A,"argument-error"),Ns._fromError(A,q)}function ha(D,p){return Et(D,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:D.tenantId},p))}class M{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(A=>sr._fromServerResponse(p.auth,A)))})}static _fromUser(p){return new M(p)}getSession(){var p=this;return(0,E.Z)(function*(){return or._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var A=this;return(0,E.Z)(function*(){const q=p,J=yield A.getSession(),Me=yield Mt(A.user,q._process(A.user.auth,J,m));return yield A.user._updateTokensIfNecessary(Me),A.user.reload()})()}unenroll(p){var m=this;return(0,E.Z)(function*(){const A="string"==typeof p?p:p.uid,q=yield m.user.getIdToken(),J=yield Mt(m.user,function(D,p){return Et(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:D.tenantId},p))}(m.user.auth,{idToken:q,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Me})=>Me!==A),yield m.user._updateTokensIfNecessary(J);try{yield m.user.reload()}catch(Me){if("auth/user-token-expired"!==Me.code)throw Me}})()}}const x=new WeakMap;function B(D){const p=(0,w.m9)(D);return x.has(p)||x.set(p,M._fromUser(p)),x.get(p)}const me="__sak";class st{constructor(p,m){this.storage=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(me,"1"),this.storage.removeItem(me),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}}const ws=(()=>{class D extends st{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const D=(0,w.z$)();return ze(D)||An(D)}()&&function(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=St(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(m){for(const A of Object.keys(this.listeners)){const q=this.storage.getItem(A),J=this.localCache[A];q!==J&&m(A,J,q)}}onStorageEvent(m,A=!1){if(!m.key)return void this.forAllChangedKeys((ft,Ht,Ft)=>{this.notifyListeners(ft,Ft)});const q=m.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ft=this.storage.getItem(q);if(m.newValue!==ft)null!==m.newValue?this.storage.setItem(q,m.newValue):this.storage.removeItem(q);else if(this.localCache[q]===m.newValue&&!A)return}const J=()=>{const ft=this.storage.getItem(q);!A&&this.localCache[q]===ft||this.notifyListeners(q,ft)},Me=this.storage.getItem(q);(0,w.w1)()&&10===document.documentMode&&Me!==m.newValue&&m.newValue!==m.oldValue?setTimeout(J,10):J()}notifyListeners(m,A){this.localCache[m]=A;const q=this.listeners[m];if(q)for(const J of Array.from(q))J(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,A,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:A,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,A){var q=()=>super._set,J=this;return(0,E.Z)(function*(){yield q().call(J,m,A),J.localCache[m]=JSON.stringify(A)})()}_get(m){var A=()=>super._get,q=this;return(0,E.Z)(function*(){const J=yield A().call(q,m);return q.localCache[m]=JSON.stringify(J),J})()}_remove(m){var A=()=>super._remove,q=this;return(0,E.Z)(function*(){yield A().call(q,m),delete q.localCache[m]})()}}return D.type="LOCAL",D})(),us=(()=>{class D extends st{constructor(){super(window.sessionStorage,"SESSION")}_addListener(m,A){}_removeListener(m,A){}}return D.type="SESSION",D})();let ls=(()=>{class D{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const A=this.receivers.find(J=>J.isListeningto(m));if(A)return A;const q=new D(m);return this.receivers.push(q),q}isListeningto(m){return this.eventTarget===m}handleEvent(m){var A=this;return(0,E.Z)(function*(){const q=m,{eventId:J,eventType:Me,data:ft}=q.data,Ht=A.handlersMap[Me];if(!(null==Ht?void 0:Ht.size))return;q.ports[0].postMessage({status:"ack",eventId:J,eventType:Me});const Ft=Array.from(Ht).map(function(){var rr=(0,E.Z)(function*(pr){return pr(q.origin,ft)});return function(pr){return rr.apply(this,arguments)}}()),Hn=yield function(D){return Promise.all(D.map(function(){var p=(0,E.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(A){return{fulfilled:!1,reason:A}}});return function(m){return p.apply(this,arguments)}}()))}(Ft);q.ports[0].postMessage({status:"done",eventId:J,eventType:Me,response:Hn})})()}_subscribe(m,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(A)}_unsubscribe(m,A){this.handlersMap[m]&&A&&this.handlersMap[m].delete(A),(!A||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Io(D="",p=10){let m="";for(let A=0;A<p;A++)m+=Math.floor(10*Math.random());return D+m}class Ac{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,A=50){var q=this;return(0,E.Z)(function*(){const J="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let Me,ft;return new Promise((Ht,Ft)=>{const Hn=Io("",20);J.port1.start();const rr=setTimeout(()=>{Ft(new Error("unsupported_event"))},A);ft={messageChannel:J,onMessage(pr){const Xo=pr;if(Xo.data.eventId===Hn)switch(Xo.data.status){case"ack":clearTimeout(rr),Me=setTimeout(()=>{Ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(Me),Ht(Xo.data.response);break;default:clearTimeout(rr),clearTimeout(Me),Ft(new Error("invalid_response"))}}},q.handlers.add(ft),J.port1.addEventListener("message",ft.onMessage),q.target.postMessage({eventType:p,eventId:Hn,data:m},[J.port2])}).finally(()=>{ft&&q.removeMessageHandler(ft)})})()}}function Rr(){return window}function pa(){return void 0!==Rr().WorkerGlobalScope&&"function"==typeof Rr().importScripts}function co(){return(co=(0,E.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const ho="firebaseLocalStorageDb",Qs="firebaseLocalStorage",tl="fbase_key";class $o{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function li(D,p){return D.transaction([Qs],p?"readwrite":"readonly").objectStore(Qs)}function Rs(){const D=indexedDB.open(ho,1);return new Promise((p,m)=>{D.addEventListener("error",()=>{m(D.error)}),D.addEventListener("upgradeneeded",()=>{const A=D.result;try{A.createObjectStore(Qs,{keyPath:tl})}catch(q){m(q)}}),D.addEventListener("success",(0,E.Z)(function*(){const A=D.result;A.objectStoreNames.contains(Qs)?p(A):(A.close(),yield function(){const D=indexedDB.deleteDatabase(ho);return new $o(D).toPromise()}(),p(yield Rs()))}))})}function qa(D,p,m){return nl.apply(this,arguments)}function nl(){return(nl=(0,E.Z)(function*(D,p,m){const A=li(D,!0).put({[tl]:p,value:m});return new $o(A).toPromise()})).apply(this,arguments)}function Pr(){return(Pr=(0,E.Z)(function*(D,p){const m=li(D,!1).get(p),A=yield new $o(m).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Js(D,p){const m=li(D,!0).delete(p);return new $o(m).toPromise()}const rl=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,E.Z)(function*(){return m.db||(m.db=yield Rs()),m.db})()}_withRetries(m){var A=this;return(0,E.Z)(function*(){let q=0;for(;;)try{const J=yield A._openDb();return yield m(J)}catch(J){if(q++>3)throw J;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,E.Z)(function*(){return pa()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,E.Z)(function*(){m.receiver=ls._getInstance(pa()?self:null),m.receiver._subscribe("keyChanged",function(){var A=(0,E.Z)(function*(q,J){return{keyProcessed:(yield m._poll()).includes(J.key)}});return function(q,J){return A.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var A=(0,E.Z)(function*(q,J){return["keyChanged"]});return function(q,J){return A.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,E.Z)(function*(){var A,q;if(m.activeServiceWorker=yield function(){return co.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ac(m.activeServiceWorker);const J=yield m.sender._send("ping",{},800);!J||(null===(A=J[0])||void 0===A?void 0:A.fulfilled)&&(null===(q=J[0])||void 0===q?void 0:q.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var A=this;return(0,E.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:m},A.serviceWorkerReceiverAvailable?800:50)}catch(q){}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Rs();return yield qa(m,me,"1"),yield Js(m,me),!0}catch(m){}return!1})()}_withPendingWrite(m){var A=this;return(0,E.Z)(function*(){A.pendingWrites++;try{yield m()}finally{A.pendingWrites--}})()}_set(m,A){var q=this;return(0,E.Z)(function*(){return q._withPendingWrite((0,E.Z)(function*(){return yield q._withRetries(J=>qa(J,m,A)),q.localCache[m]=A,q.notifyServiceWorker(m)}))})()}_get(m){var A=this;return(0,E.Z)(function*(){const q=yield A._withRetries(J=>function(D,p){return Pr.apply(this,arguments)}(J,m));return A.localCache[m]=q,q})()}_remove(m){var A=this;return(0,E.Z)(function*(){return A._withPendingWrite((0,E.Z)(function*(){return yield A._withRetries(q=>Js(q,m)),delete A.localCache[m],A.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,E.Z)(function*(){const A=yield m._withRetries(Me=>{const ft=li(Me,!1).getAll();return new $o(ft).toPromise()});if(!A)return[];if(0!==m.pendingWrites)return[];const q=[],J=new Set;for(const{fbase_key:Me,value:ft}of A)J.add(Me),JSON.stringify(m.localCache[Me])!==JSON.stringify(ft)&&(m.notifyListeners(Me,ft),q.push(Me));for(const Me of Object.keys(m.localCache))m.localCache[Me]&&!J.has(Me)&&(m.notifyListeners(Me,null),q.push(Me));return q})()}notifyListeners(m,A){this.localCache[m]=A;const q=this.listeners[m];if(q)for(const J of Array.from(q))J(A)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Ot(D,p){return Et(D,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:D.tenantId},p))}function b(){return(b=(0,E.Z)(function*(D){return(yield Et(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function V(D){return new Promise((p,m)=>{const A=document.createElement("script");A.setAttribute("src",D),A.onload=p,A.onerror=q=>{const J=ot("internal-error");J.customData=q,m(J)},A.type="text/javascript",A.charset="UTF-8",function(){var D,p;return null!==(p=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==p?p:document}().appendChild(A)})}function W(D){return`__${D}${Math.floor(1e6*Math.random())}`}const tt=1e12;class Ct{constructor(p){this.auth=p,this.counter=tt,this._widgets=new Map}render(p,m){const A=this.counter;return this._widgets.set(A,new on(p,this.auth.name,m||{})),this.counter++,A}reset(p){var m;const A=p||tt;null===(m=this._widgets.get(A))||void 0===m||m.delete(),this._widgets.delete(A)}getResponse(p){var m;return(null===(m=this._widgets.get(p||tt))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,E.Z)(function*(){var A;return null===(A=m._widgets.get(p||tt))||void 0===A||A.execute(),""})()}}class on{constructor(p,m,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof p?document.getElementById(p):p;et(q,"argument-error",{appName:m}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(D){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<50;A++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}();const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bt=W("rcb"),xn=new pt(3e4,6e4);class lr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Rr().grecaptcha}load(p,m=""){return et((D=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Rr().grecaptcha):new Promise((A,q)=>{const J=Rr().setTimeout(()=>{q(ot(p,"network-request-failed"))},xn.get());Rr()[Bt]=()=>{Rr().clearTimeout(J),delete Rr()[Bt];const ft=Rr().grecaptcha;if(!ft)return void q(ot(p,"internal-error"));const Ht=ft.render;ft.render=(Ft,Hn)=>{const rr=Ht(Ft,Hn);return this.counter++,rr},this.hostLanguage=m,A(ft)},V(`https://www.google.com/recaptcha/api.js??${(0,w.xO)({onload:Bt,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(J),q(ot(p,"internal-error"))})});var D}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Rr().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Do{load(p){return(0,E.Z)(function*(){return new Ct(p)})()}clearedOneInstance(){}}const ci="recaptcha",To={theme:"light",type:"image"};class ma{constructor(p,m=Object.assign({},To),A){this.parameters=m,this.type=ci,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Cr(A),this.isInvisible="invisible"===this.parameters.size,et("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof p?document.getElementById(p):p;et(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Do:new lr,this.validateStartingState()}verify(){var p=this;return(0,E.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),A=p.getAssertedRecaptcha();return A.getResponse(m)||new Promise(J=>{const Me=ft=>{!ft||(p.tokenChangeListeners.delete(Me),J(ft))};p.tokenChangeListeners.add(Me),p.isInvisible&&A.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){et(!this.parameters.sitekey,this.auth,"argument-error"),et(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),et("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(A=>A(m)),"function"==typeof p)p(m);else if("string"==typeof p){const A=Rr()[p];"function"==typeof A&&A(m)}}}assertNotDestroyed(){et(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,E.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const A=document.createElement("div");m.appendChild(A),m=A}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,E.Z)(function*(){et(Be()&&!pa(),p.auth,"internal-error"),yield function(){let D=null;return new Promise(p=>{"complete"!==document.readyState?(D=()=>p(),window.addEventListener("load",D)):p()}).catch(p=>{throw D&&window.removeEventListener("load",D),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function(D){return b.apply(this,arguments)}(p.auth);et(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return et(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xd{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=se._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Li(D,p,m){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,E.Z)(function*(D,p,m){const A=Cr(D),q=yield ni(A,p,(0,w.m9)(m));return new xd(q,J=>P(A,J))})).apply(this,arguments)}function af(D,p,m){return di.apply(this,arguments)}function di(){return(di=(0,E.Z)(function*(D,p,m){const A=(0,w.m9)(D);yield z(!1,A,"phone");const q=yield ni(A.auth,p,(0,w.m9)(m));return new xd(q,J=>S(A,J))})).apply(this,arguments)}function Vg(D,p,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,E.Z)(function*(D,p,m){const A=(0,w.m9)(D),q=yield ni(A.auth,p,(0,w.m9)(m));return new xd(q,J=>Re(A,J))})).apply(this,arguments)}function ni(D,p,m){return za.apply(this,arguments)}function za(){return(za=(0,E.Z)(function*(D,p,m){var A;const q=yield m.verify();try{let J;if(et("string"==typeof q,D,"argument-error"),et(m.type===ci,D,"argument-error"),J="string"==typeof p?{phoneNumber:p}:p,"session"in J){const Me=J.session;if("phoneNumber"in J)return et("enroll"===Me.type,D,"internal-error"),(yield ha(D,{idToken:Me.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{et("signin"===Me.type,D,"internal-error");const ft=(null===(A=J.multiFactorHint)||void 0===A?void 0:A.uid)||J.multiFactorUid;return et(ft,D,"missing-multi-factor-info"),(yield Ot(D,{mfaPendingCredential:Me.credential,mfaEnrollmentId:ft,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Me}=yield Xr(D,{phoneNumber:J.phoneNumber,recaptchaToken:q});return Me}}finally{m._reset()}})).apply(this,arguments)}function Md(D,p){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,E.Z)(function*(D,p){yield zi((0,w.m9)(D),p)})).apply(this,arguments)}let Bl=(()=>{class D{constructor(m){this.providerId=D.PROVIDER_ID,this.auth=Cr(m)}verifyPhoneNumber(m,A){return ni(this.auth,m,(0,w.m9)(A))}static credential(m,A){return se._fromVerification(m,A)}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:A,temporaryProof:q}=m;return A&&q?se._fromTokenResponse(A,q):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Xs(D,p){return p?Le(p):(et(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class il extends Sn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ar(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Ar(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Ar(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Iu(D){return He(D.auth,new il(D),D.bypassAuthState)}function Yt(D){const{auth:p,user:m}=D;return et(m,p,"internal-error"),Z(m,new il(D),D.bypassAuthState)}function Lr(D){return cs.apply(this,arguments)}function cs(){return(cs=(0,E.Z)(function*(D){const{auth:p,user:m}=D;return et(m,p,"internal-error"),zi(m,new il(D),D.bypassAuthState)})).apply(this,arguments)}class zo{constructor(p,m,A,q,J=!1){this.auth=p,this.resolver=A,this.user=q,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,E.Z)(function*(A,q){p.pendingPromise={resolve:A,reject:q};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(J){p.reject(J)}});return function(A,q){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,E.Z)(function*(){const{urlResponse:A,sessionId:q,postBody:J,tenantId:Me,error:ft,type:Ht}=p;if(ft)return void m.reject(ft);const Ft={auth:m.auth,requestUri:A,sessionId:q,tenantId:Me||void 0,postBody:J||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ht)(Ft))}catch(Hn){m.reject(Hn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Iu;case"linkViaPopup":case"linkViaRedirect":return Lr;case"reauthViaPopup":case"reauthViaRedirect":return Yt;default:Ke(this.auth,"internal-error")}}resolve(p){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sl=new pt(2e3,1e4);function Od(D,p,m){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,E.Z)(function*(D,p,m){const A=Cr(D);Xe(D,p,ir);const q=Xs(A,m);return new ol(A,"signInViaPopup",p,q).executeNotNull()})).apply(this,arguments)}function eo(D,p,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,E.Z)(function*(D,p,m){const A=(0,w.m9)(D);Xe(A.auth,p,ir);const q=Xs(A.auth,m);return new ol(A.auth,"reauthViaPopup",p,q,A).executeNotNull()})).apply(this,arguments)}function Zo(D,p,m){return to.apply(this,arguments)}function to(){return(to=(0,E.Z)(function*(D,p,m){const A=(0,w.m9)(D);Xe(A.auth,p,ir);const q=Xs(A.auth,m);return new ol(A.auth,"linkViaPopup",p,q,A).executeNotNull()})).apply(this,arguments)}let ol=(()=>{class D extends zo{constructor(m,A,q,J,Me){super(m,A,J,Me),this.provider=q,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var m=this;return(0,E.Z)(function*(){const A=yield m.execute();return et(A,m.auth,"internal-error"),A})()}onExecution(){var m=this;return(0,E.Z)(function*(){Fe(1===m.filter.length,"Popup operations only handle one event");const A=Io();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],A),m.authWindow.associatedEvent=A,m.resolver._originValidation(m.auth).catch(q=>{m.reject(q)}),m.resolver._isIframeWebStorageSupported(m.auth,q=>{q||m.reject(ot(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ot(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const m=()=>{var A,q;this.pollId=(null===(q=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===q?void 0:q.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ot(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,sl.get())};m()}}return D.currentPopupAction=null,D})();const Du=new Map;class jl extends zo{constructor(p,m,A=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,A),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,E.Z)(function*(){let A=Du.get(m.auth._key());if(!A){try{const J=(yield function(D,p){return al.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;A=()=>Promise.resolve(J)}catch(q){A=()=>Promise.reject(q)}Du.set(m.auth._key(),A)}return A()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,A=this;return(0,E.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(A,p);if("unknown"!==p.type){if(p.eventId){const q=yield A.auth._redirectUserForId(p.eventId);if(q)return A.user=q,m().call(A,p);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function al(){return(al=(0,E.Z)(function*(D,p){const m=xc(p),A="true"===(yield Tu(D)._get(m));return yield Tu(D)._remove(m),A})).apply(this,arguments)}function Xn(D,p){return ul.apply(this,arguments)}function ul(){return(ul=(0,E.Z)(function*(D,p){return Tu(D)._set(xc(p),"true")})).apply(this,arguments)}function Wa(){Du.clear()}function Tu(D){return Le(D._redirectPersistence)}function xc(D){return En("pendingRedirect",D.config.apiKey,D.name)}function Hl(D,p,m){return function(D,p,m){return Vi.apply(this,arguments)}(D,p,m)}function Vi(){return(Vi=(0,E.Z)(function*(D,p,m){const A=Cr(D);Xe(D,p,ir);const q=Xs(A,m);return yield Xn(q,A),q._openRedirect(A,p,"signInViaRedirect")})).apply(this,arguments)}function uf(D,p,m){return function(D,p,m){return Za.apply(this,arguments)}(D,p,m)}function Za(){return(Za=(0,E.Z)(function*(D,p,m){const A=(0,w.m9)(D);Xe(A.auth,p,ir);const q=Xs(A.auth,m);yield Xn(q,A.auth);const J=yield hl(A);return q._openRedirect(A.auth,p,"reauthViaRedirect",J)})).apply(this,arguments)}function Mc(D,p,m){return function(D,p,m){return Rd.apply(this,arguments)}(D,p,m)}function Rd(){return(Rd=(0,E.Z)(function*(D,p,m){const A=(0,w.m9)(D);Xe(A.auth,p,ir);const q=Xs(A.auth,m);yield z(!1,A,p.providerId),yield Xn(q,A.auth);const J=yield hl(A);return q._openRedirect(A.auth,p,"linkViaRedirect",J)})).apply(this,arguments)}function cl(D,p){return dl.apply(this,arguments)}function dl(){return(dl=(0,E.Z)(function*(D,p){return yield Cr(D)._initializationPromise,ya(D,p,!1)})).apply(this,arguments)}function ya(D,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,E.Z)(function*(D,p,m=!1){const A=Cr(D),q=Xs(A,p),Me=yield new jl(A,q,m).execute();return Me&&!m&&(delete Me.user._redirectEventId,yield A._persistUserIfCurrent(Me.user),yield A._setRedirectUser(null,p)),Me})).apply(this,arguments)}function hl(D){return _a.apply(this,arguments)}function _a(){return(_a=(0,E.Z)(function*(D){const p=Io(`${D.uid}:::`);return D._redirectEventId=p,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),p})).apply(this,arguments)}class Pd{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(p,A)&&(m=!0,this.sendToConsumer(p,A),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bs(D);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var A;if(p.error&&!bs(p)){const q=(null===(A=p.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";m.onError(ot(this.auth,q))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const A=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&A}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fl(p))}saveEventToCache(p){this.cachedEventUids.add(fl(p)),this.lastProcessedEventTime=Date.now()}}function fl(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(p=>p).join("-")}function bs({type:D,error:p}){return"unknown"===D&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Qa(D){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,E.Z)(function*(D,p={}){return Et(D,"GET","/v1/projects",p)})).apply(this,arguments)}const pl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kd=/^https?/;function Yo(){return(Yo=(0,E.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:p}=yield Qa(D);for(const m of p)try{if(Au(m))return}catch(A){}Ke(D,"unauthorized-domain")})).apply(this,arguments)}function Au(D){const p=Ae(),{protocol:m,hostname:A}=new URL(p);if(D.startsWith("chrome-extension://")){const Me=new URL(D);return""===Me.hostname&&""===A?"chrome-extension:"===m&&D.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Me.hostname===A}if(!kd.test(m))return!1;if(pl.test(D))return A===D;const q=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(A)}const Ps=new pt(3e4,6e4);function Gl(){const D=Rr().___jsl;if(null==D?void 0:D.H)for(const p of Object.keys(D.H))if(D.H[p].r=D.H[p].r||[],D.H[p].L=D.H[p].L||[],D.H[p].r=[...D.H[p].L],D.CP)for(let m=0;m<D.CP.length;m++)D.CP[m]=null}let Ao=null;function fo(D){return Ao=Ao||function(D){return new Promise((p,m)=>{var A,q,J;function Me(){Gl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Gl(),m(ot(D,"network-request-failed"))},timeout:Ps.get()})}if(null===(q=null===(A=Rr().gapi)||void 0===A?void 0:A.iframes)||void 0===q?void 0:q.Iframe)p(gapi.iframes.getContext());else{if(!(null===(J=Rr().gapi)||void 0===J?void 0:J.load)){const ft=W("iframefcb");return Rr()[ft]=()=>{gapi.load?Me():m(ot(D,"network-request-failed"))},V(`https://apis.google.com/js/api.js?onload=${ft}`)}Me()}}).catch(p=>{throw Ao=null,p})}(D),Ao}const va=new pt(5e3,15e3),Nc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},zl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gl(D){const p=D.config;et(p.authDomain,D,"auth-domain-config-required");const m=p.emulator?Rt(p,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,A={apiKey:p.apiKey,appName:D.name,v:Y.SDK_VERSION},q=zl.get(D.config.apiHost);q&&(A.eid=q);const J=D._getFrameworks();return J.length&&(A.fw=J.join(",")),`${m}?${(0,w.xO)(A).slice(1)}`}function Rc(){return(Rc=(0,E.Z)(function*(D){const p=yield fo(D),m=Rr().gapi;return et(m,D,"internal-error"),p.open({where:document.body,url:gl(D),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nc,dontclear:!0},A=>new Promise(function(){var q=(0,E.Z)(function*(J,Me){yield A.restyle({setHideOnLeave:!1});const ft=ot(D,"network-request-failed"),Ht=Rr().setTimeout(()=>{Me(ft)},va.get());function Ft(){Rr().clearTimeout(Ht),J(A)}A.ping(Ft).then(Ft,()=>{Me(ft)})});return function(J,Me){return q.apply(this,arguments)}}()))})).apply(this,arguments)}const df={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jo{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function eu(D,p,m,A,q,J){et(D.config.authDomain,D,"auth-domain-config-required"),et(D.config.apiKey,D,"invalid-api-key");const Me={apiKey:D.config.apiKey,appName:D.name,authType:m,redirectUrl:A,v:Y.SDK_VERSION,eventId:q};if(p instanceof ir){p.setDefaultLanguage(D.languageCode),Me.providerId=p.providerId||"",(0,w.xb)(p.getCustomParameters())||(Me.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ht,Ft]of Object.entries(J||{}))Me[Ht]=Ft}if(p instanceof fr){const Ht=p.getScopes().filter(Ft=>""!==Ft);Ht.length>0&&(Me.scopes=Ht.join(","))}D.tenantId&&(Me.tid=D.tenantId);const ft=Me;for(const Ht of Object.keys(ft))void 0===ft[Ht]&&delete ft[Ht];return`${function({config:D}){return D.emulator?Rt(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,w.xO)(ft).slice(1)}`}const _l="webStorageSupport",vl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=us,this._completeRedirectFn=ya}_openPopup(p,m,A,q){var J=this;return(0,E.Z)(function*(){var Me;Fe(null===(Me=J.eventManagers[p._key()])||void 0===Me?void 0:Me.manager,"_initialize() not called before _openPopup()");const ft=eu(p,m,A,Ae(),q);return function(D,p,m,A=500,q=600){const J=Math.max((window.screen.availHeight-q)/2,0).toString(),Me=Math.max((window.screen.availWidth-A)/2,0).toString();let ft="";const Ht=Object.assign(Object.assign({},df),{width:A.toString(),height:q.toString(),top:J,left:Me}),Ft=(0,w.z$)().toLowerCase();m&&(ft=It(Ft)?"_blank":m),Ee(Ft)&&(p=p||"http://localhost",Ht.scrollbars="yes");const Hn=Object.entries(Ht).reduce((pr,[Xo,Kl])=>`${pr}${Xo}=${Kl},`,"");if(function(D=(0,w.z$)()){var p;return An(D)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ft)&&"_self"!==ft)return function(D,p){const m=document.createElement("a");m.href=D,m.target=p;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(A)}(p||"",ft),new Jo(null);const rr=window.open(p||"",ft,Hn);et(rr,D,"popup-blocked");try{rr.focus()}catch(pr){}return new Jo(rr)}(p,ft,Io())})()}_openRedirect(p,m,A,q){var J=this;return(0,E.Z)(function*(){return yield J._originValidation(p),D=eu(p,m,A,Ae(),q),Rr().location.href=D,new Promise(()=>{});var D})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:q,promise:J}=this.eventManagers[m];return q?Promise.resolve(q):(Fe(J,"If manager is not set, promise should be"),J)}const A=this.initAndGetManager(p);return this.eventManagers[m]={promise:A},A}initAndGetManager(p){var m=this;return(0,E.Z)(function*(){const A=yield function(D){return Rc.apply(this,arguments)}(p),q=new Pd(p);return A.register("authEvent",J=>(et(null==J?void 0:J.authEvent,p,"invalid-auth-event"),{status:q.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:q},m.iframes[p._key()]=A,q})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(_l,{type:_l},q=>{var J;const Me=null===(J=null==q?void 0:q[0])||void 0===J?void 0:J[_l];void 0!==Me&&m(!!Me),Ke(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(D){return Yo.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return St()||ze()||An()}};class Ud extends class{constructor(p){this.factorId=p}_process(p,m,A){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,A);case"signin":return this._finalizeSignIn(p,m.credential);default:return gt("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ud(p)}_finalizeEnroll(p,m,A){return function(D,p){return Et(D,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:D.tenantId},p))}(p,{idToken:m,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function(D,p){return Et(D,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:D.tenantId},p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Su{constructor(){}static assertion(p){return Ud._fromCredential(p)}}var D;class Fc{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,E.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(A=>{var q;p((null===(q=A)||void 0===q?void 0:q.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Bd(D=(0,Y.getApp)()){const p=(0,Y._getProvider)(D,"auth");return p.isInitialized()?p.getImmediate():function(D,p){const m=(0,Y._getProvider)(D,"auth");if(m.isInitialized()){const q=m.getImmediate(),J=m.getOptions();if((0,w.vZ)(J,null!=p?p:{}))return q;Ke(q,"already-initialized")}return m.initialize({options:p})}(D,{popupRedirectResolver:vl,persistence:[rl,ws,us]})}D="Browser",(0,Y._registerComponent)(new ve.wA("auth",(p,{options:m})=>{const A=p.getProvider("app").getImmediate(),{apiKey:q,authDomain:J}=A.options;return(Me=>{et(q&&!q.includes(":"),"invalid-api-key",{appName:Me.name}),et(!(null==J?void 0:J.includes(":")),"argument-error",{appName:Me.name});const ft={apiKey:q,authDomain:J,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gi(D)},Ht=new dr(Me,ft);return function(D,p){const m=(null==p?void 0:p.persistence)||[],A=(Array.isArray(m)?m:[m]).map(Le);(null==p?void 0:p.errorMap)&&D._updateErrorMap(p.errorMap),D._initializeWithPersistence(A,null==p?void 0:p.popupRedirectResolver)}(Ht,m),Ht})(A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,A)=>{p.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new ve.wA("auth-internal",p=>{const m=Cr(p.getProvider("auth").getImmediate());return new Fc(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)("@firebase/auth","0.17.2",void 0)},6034:(Nt,We,$)=>{"use strict";$.d(We,{wA:()=>Y,H0:()=>Ce});var E=$(4762),w=$(4685),Y=function(){function ce(ee,re,de){this.name=ee,this.instanceFactory=re,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ce.prototype.setInstantiationMode=function(ee){return this.instantiationMode=ee,this},ce.prototype.setMultipleInstances=function(ee){return this.multipleInstances=ee,this},ce.prototype.setServiceProps=function(ee){return this.serviceProps=ee,this},ce.prototype.setInstanceCreatedCallback=function(ee){return this.onInstanceCreated=ee,this},ce}(),we="[DEFAULT]",Ne=function(){function ce(ee,re){this.name=ee,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ce.prototype.get=function(ee){var re=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(re)){var de=new w.BH;if(this.instancesDeferred.set(re,de),this.isInitialized(re)||this.shouldAutoInitialize())try{var ae=this.getOrInitializeService({instanceIdentifier:re});ae&&de.resolve(ae)}catch(be){}}return this.instancesDeferred.get(re).promise},ce.prototype.getImmediate=function(ee){var re,de=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),ae=null!==(re=null==ee?void 0:ee.optional)&&void 0!==re&&re;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(ae)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(be){if(ae)return null;throw be}},ce.prototype.getComponent=function(){return this.component},ce.prototype.setComponent=function(ee){var re,de;if(ee.name!==this.name)throw Error("Mismatching Component "+ee.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=ee,this.shouldAutoInitialize()){if(function(ce){return"EAGER"===ce.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:we})}catch(Ke){}try{for(var ae=(0,E.XA)(this.instancesDeferred.entries()),be=ae.next();!be.done;be=ae.next()){var Ge=(0,E.CR)(be.value,2),Ue=Ge[1],he=this.normalizeInstanceIdentifier(Ge[0]);try{var Ye=this.getOrInitializeService({instanceIdentifier:he});Ue.resolve(Ye)}catch(Ke){}}}catch(Ke){re={error:Ke}}finally{try{be&&!be.done&&(de=ae.return)&&de.call(ae)}finally{if(re)throw re.error}}}},ce.prototype.clearInstance=function(ee){void 0===ee&&(ee=we),this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)},ce.prototype.delete=function(){return(0,E.mG)(this,void 0,void 0,function(){var ee;return(0,E.Jh)(this,function(re){switch(re.label){case 0:return ee=Array.from(this.instances.values()),[4,Promise.all((0,E.ev)((0,E.ev)([],(0,E.CR)(ee.filter(function(de){return"INTERNAL"in de}).map(function(de){return de.INTERNAL.delete()}))),(0,E.CR)(ee.filter(function(de){return"_delete"in de}).map(function(de){return de._delete()}))))];case 1:return re.sent(),[2]}})})},ce.prototype.isComponentSet=function(){return null!=this.component},ce.prototype.isInitialized=function(ee){return void 0===ee&&(ee=we),this.instances.has(ee)},ce.prototype.getOptions=function(ee){return void 0===ee&&(ee=we),this.instancesOptions.get(ee)||{}},ce.prototype.initialize=function(ee){var re,de;void 0===ee&&(ee={});var ae=ee.options,be=void 0===ae?{}:ae,Ge=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Ge))throw Error(this.name+"("+Ge+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Pe=this.getOrInitializeService({instanceIdentifier:Ge,options:be});try{for(var Ue=(0,E.XA)(this.instancesDeferred.entries()),he=Ue.next();!he.done;he=Ue.next()){var Ye=(0,E.CR)(he.value,2),ot=Ye[1];Ge===this.normalizeInstanceIdentifier(Ye[0])&&ot.resolve(Pe)}}catch(Xe){re={error:Xe}}finally{try{he&&!he.done&&(de=Ue.return)&&de.call(Ue)}finally{if(re)throw re.error}}return Pe},ce.prototype.onInit=function(ee,re){var de,ae=this.normalizeInstanceIdentifier(re),be=null!==(de=this.onInitCallbacks.get(ae))&&void 0!==de?de:new Set;be.add(ee),this.onInitCallbacks.set(ae,be);var Ge=this.instances.get(ae);return Ge&&ee(Ge,ae),function(){be.delete(ee)}},ce.prototype.invokeOnInitCallbacks=function(ee,re){var de,ae,be=this.onInitCallbacks.get(re);if(be)try{for(var Ge=(0,E.XA)(be),Pe=Ge.next();!Pe.done;Pe=Ge.next()){var Ue=Pe.value;try{Ue(ee,re)}catch(he){}}}catch(he){de={error:he}}finally{try{Pe&&!Pe.done&&(ae=Ge.return)&&ae.call(Ge)}finally{if(de)throw de.error}}},ce.prototype.getOrInitializeService=function(ee){var re=ee.instanceIdentifier,de=ee.options,ae=void 0===de?{}:de,be=this.instances.get(re);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:ve(re),options:ae}),this.instances.set(re,be),this.instancesOptions.set(re,ae),this.invokeOnInitCallbacks(be,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,be)}catch(Ge){}return be||null},ce.prototype.normalizeInstanceIdentifier=function(ee){return void 0===ee&&(ee=we),this.component?this.component.multipleInstances?ee:we:ee},ce.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ce}();function ve(ce){return ce===we?void 0:ce}var Ce=function(){function ce(ee){this.name=ee,this.providers=new Map}return ce.prototype.addComponent=function(ee){var re=this.getProvider(ee.name);if(re.isComponentSet())throw new Error("Component "+ee.name+" has already been registered with "+this.name);re.setComponent(ee)},ce.prototype.addOrOverwriteComponent=function(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)},ce.prototype.getProvider=function(ee){if(this.providers.has(ee))return this.providers.get(ee);var re=new Ne(ee,this);return this.providers.set(ee,re),re},ce.prototype.getProviders=function(){return Array.from(this.providers.values())},ce}()},300:(Nt,We,$)=>{"use strict";function E(){for(var de=0,ae=0,be=arguments.length;ae<be;ae++)de+=arguments[ae].length;var Ge=Array(de),Pe=0;for(ae=0;ae<be;ae++)for(var Ue=arguments[ae],he=0,Ye=Ue.length;he<Ye;he++,Pe++)Ge[Pe]=Ue[he];return Ge}$.d(We,{in:()=>we,Yd:()=>ce,Ub:()=>ee,Am:()=>re});var w,Y=[],we=(()=>{return(de=we||(we={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",we;var de})(),Ne={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},ve=we.INFO,$e=((w={})[we.DEBUG]="log",w[we.VERBOSE]="log",w[we.INFO]="info",w[we.WARN]="warn",w[we.ERROR]="error",w),Ce=function(de,ae){for(var be=[],Ge=2;Ge<arguments.length;Ge++)be[Ge-2]=arguments[Ge];if(!(ae<de.logLevel)){var Pe=(new Date).toISOString(),Ue=$e[ae];if(!Ue)throw new Error("Attempted to log a message with an invalid logType (value: "+ae+")");console[Ue].apply(console,E(["["+Pe+"]  "+de.name+":"],be))}},ce=function(){function de(ae){this.name=ae,this._logLevel=ve,this._logHandler=Ce,this._userLogHandler=null,Y.push(this)}return Object.defineProperty(de.prototype,"logLevel",{get:function(){return this._logLevel},set:function(ae){if(!(ae in we))throw new TypeError('Invalid value "'+ae+'" assigned to `logLevel`');this._logLevel=ae},enumerable:!1,configurable:!0}),de.prototype.setLogLevel=function(ae){this._logLevel="string"==typeof ae?Ne[ae]:ae},Object.defineProperty(de.prototype,"logHandler",{get:function(){return this._logHandler},set:function(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(ae){this._userLogHandler=ae},enumerable:!1,configurable:!0}),de.prototype.debug=function(){for(var ae=[],be=0;be<arguments.length;be++)ae[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,E([this,we.DEBUG],ae)),this._logHandler.apply(this,E([this,we.DEBUG],ae))},de.prototype.log=function(){for(var ae=[],be=0;be<arguments.length;be++)ae[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,E([this,we.VERBOSE],ae)),this._logHandler.apply(this,E([this,we.VERBOSE],ae))},de.prototype.info=function(){for(var ae=[],be=0;be<arguments.length;be++)ae[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,E([this,we.INFO],ae)),this._logHandler.apply(this,E([this,we.INFO],ae))},de.prototype.warn=function(){for(var ae=[],be=0;be<arguments.length;be++)ae[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,E([this,we.WARN],ae)),this._logHandler.apply(this,E([this,we.WARN],ae))},de.prototype.error=function(){for(var ae=[],be=0;be<arguments.length;be++)ae[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,E([this,we.ERROR],ae)),this._logHandler.apply(this,E([this,we.ERROR],ae))},de}();function ee(de){Y.forEach(function(ae){ae.setLogLevel(de)})}function re(de,ae){for(var be=function(he){var Ye=null;ae&&ae.level&&(Ye=Ne[ae.level]),he.userLogHandler=null===de?null:function(Ke,ot){for(var oe=[],Xe=2;Xe<arguments.length;Xe++)oe[Xe-2]=arguments[Xe];var Gt=oe.map(function(et){if(null==et)return null;if("string"==typeof et)return et;if("number"==typeof et||"boolean"==typeof et)return et.toString();if(et instanceof Error)return et.message;try{return JSON.stringify(et)}catch(gt){return null}}).filter(function(et){return et}).join(" ");ot>=(null!=Ye?Ye:Ke.logLevel)&&de({level:we[ot].toLowerCase(),message:Gt,args:oe,type:Ke.name})}},Ge=0,Pe=Y;Ge<Pe.length;Ge++)be(Pe[Ge])}},4685:(Nt,We,$)=>{"use strict";$.d(We,{BH:()=>be,LL:()=>Be,ZR:()=>Ae,tV:()=>ee,r3:()=>Et,Sg:()=>Ge,ne:()=>vn,vZ:()=>ln,ZB:()=>de,pd:()=>bn,m9:()=>Vn,z$:()=>Pe,jU:()=>Ye,ru:()=>Ke,d:()=>oe,xb:()=>kt,w1:()=>Xe,hl:()=>Fe,uI:()=>Ue,UG:()=>he,b$:()=>ot,G6:()=>gt,Mn:()=>Gt,xO:()=>gr,zd:()=>Ln});var E=$(4762),Ne=function(pe){for(var ne=[],Se=0,qe=0;qe<pe.length;qe++){var Oe=pe.charCodeAt(qe);Oe<128?ne[Se++]=Oe:Oe<2048?(ne[Se++]=Oe>>6|192,ne[Se++]=63&Oe|128):55296==(64512&Oe)&&qe+1<pe.length&&56320==(64512&pe.charCodeAt(qe+1))?(Oe=65536+((1023&Oe)<<10)+(1023&pe.charCodeAt(++qe)),ne[Se++]=Oe>>18|240,ne[Se++]=Oe>>12&63|128,ne[Se++]=Oe>>6&63|128,ne[Se++]=63&Oe|128):(ne[Se++]=Oe>>12|224,ne[Se++]=Oe>>6&63|128,ne[Se++]=63&Oe|128)}return ne},$e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(pe,ne){if(!Array.isArray(pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Se=ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,qe=[],Oe=0;Oe<pe.length;Oe+=3){var nt=pe[Oe],At=Oe+1<pe.length,rn=At?pe[Oe+1]:0,Nn=Oe+2<pe.length,yn=Nn?pe[Oe+2]:0,ge=(15&rn)<<2|yn>>6,Ee=63&yn;Nn||(Ee=64,At||(ge=64)),qe.push(Se[nt>>2],Se[(3&nt)<<4|rn>>4],Se[ge],Se[Ee])}return qe.join("")},encodeString:function(pe,ne){return this.HAS_NATIVE_SUPPORT&&!ne?btoa(pe):this.encodeByteArray(Ne(pe),ne)},decodeString:function(pe,ne){return this.HAS_NATIVE_SUPPORT&&!ne?atob(pe):function(pe){for(var ne=[],Se=0,qe=0;Se<pe.length;){var Oe=pe[Se++];if(Oe<128)ne[qe++]=String.fromCharCode(Oe);else if(Oe>191&&Oe<224){var nt=pe[Se++];ne[qe++]=String.fromCharCode((31&Oe)<<6|63&nt)}else if(Oe>239&&Oe<365){var Nn=((7&Oe)<<18|(63&(nt=pe[Se++]))<<12|(63&(At=pe[Se++]))<<6|63&pe[Se++])-65536;ne[qe++]=String.fromCharCode(55296+(Nn>>10)),ne[qe++]=String.fromCharCode(56320+(1023&Nn))}else{nt=pe[Se++];var At=pe[Se++];ne[qe++]=String.fromCharCode((15&Oe)<<12|(63&nt)<<6|63&At)}}return ne.join("")}(this.decodeStringToByteArray(pe,ne))},decodeStringToByteArray:function(pe,ne){this.init_();for(var Se=ne?this.charToByteMapWebSafe_:this.charToByteMap_,qe=[],Oe=0;Oe<pe.length;){var nt=Se[pe.charAt(Oe++)],rn=Oe<pe.length?Se[pe.charAt(Oe)]:0,yn=++Oe<pe.length?Se[pe.charAt(Oe)]:64,xe=++Oe<pe.length?Se[pe.charAt(Oe)]:64;if(++Oe,null==nt||null==rn||null==yn||null==xe)throw Error();qe.push(nt<<2|rn>>4),64!==yn&&(qe.push(rn<<4&240|yn>>2),64!==xe&&qe.push(yn<<6&192|xe))}return qe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var pe=0;pe<this.ENCODED_VALS.length;pe++)this.byteToCharMap_[pe]=this.ENCODED_VALS.charAt(pe),this.charToByteMap_[this.byteToCharMap_[pe]]=pe,this.byteToCharMapWebSafe_[pe]=this.ENCODED_VALS_WEBSAFE.charAt(pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[pe]]=pe,pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(pe)]=pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(pe)]=pe)}}},ce=function(pe){return function(pe){var ne=Ne(pe);return $e.encodeByteArray(ne,!0)}(pe).replace(/\./g,"")},ee=function(pe){try{return $e.decodeString(pe,!0)}catch(ne){console.error("base64Decode failed: ",ne)}return null};function de(pe,ne){if(!(ne instanceof Object))return ne;switch(ne.constructor){case Date:return new Date(ne.getTime());case Object:void 0===pe&&(pe={});break;case Array:pe=[];break;default:return ne}for(var qe in ne)!ne.hasOwnProperty(qe)||!ae(qe)||(pe[qe]=de(pe[qe],ne[qe]));return pe}function ae(pe){return"__proto__"!==pe}var be=function(){function pe(){var ne=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Se,qe){ne.resolve=Se,ne.reject=qe})}return pe.prototype.wrapCallback=function(ne){var Se=this;return function(qe,Oe){qe?Se.reject(qe):Se.resolve(Oe),"function"==typeof ne&&(Se.promise.catch(function(){}),1===ne.length?ne(qe):ne(qe,Oe))}},pe}();function Ge(pe,ne){if(pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var qe=ne||"demo-project",Oe=pe.iat||0,nt=pe.sub||pe.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var At=(0,E.pi)({iss:"https://securetoken.google.com/"+qe,aud:qe,iat:Oe,exp:Oe+3600,auth_time:Oe,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},pe);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(At)),""].join(".")}function Pe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(pe){return!1}}function Ye(){return"object"==typeof self&&self.self===self}function Ke(){var pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof pe&&void 0!==pe.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function oe(){return Pe().indexOf("Electron/")>=0}function Xe(){var pe=Pe();return pe.indexOf("MSIE ")>=0||pe.indexOf("Trident/")>=0}function Gt(){return Pe().indexOf("MSAppHost/")>=0}function gt(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fe(){return"indexedDB"in self&&null!=indexedDB}var Ae=function(pe){function ne(Se,qe,Oe){var nt=pe.call(this,qe)||this;return nt.code=Se,nt.customData=Oe,nt.name="FirebaseError",Object.setPrototypeOf(nt,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(nt,Be.prototype.create),nt}return(0,E.ZT)(ne,pe),ne}(Error),Be=function(){function pe(ne,Se,qe){this.service=ne,this.serviceName=Se,this.errors=qe}return pe.prototype.create=function(ne){for(var Se=[],qe=1;qe<arguments.length;qe++)Se[qe-1]=arguments[qe];var Oe=Se[0]||{},nt=this.service+"/"+ne,At=this.errors[ne],rn=At?bt(At,Oe):"Error",Nn=this.serviceName+": "+rn+" ("+nt+").",yn=new Ae(nt,Nn,Oe);return yn},pe}();function bt(pe,ne){return pe.replace(Zt,function(Se,qe){var Oe=ne[qe];return null!=Oe?String(Oe):"<"+qe+"?>"})}var Zt=/\{\$([^}]+)}/g;function Et(pe,ne){return Object.prototype.hasOwnProperty.call(pe,ne)}function kt(pe){for(var ne in pe)if(Object.prototype.hasOwnProperty.call(pe,ne))return!1;return!0}function ln(pe,ne){if(pe===ne)return!0;for(var Se=Object.keys(pe),qe=Object.keys(ne),Oe=0,nt=Se;Oe<nt.length;Oe++){if(!qe.includes(At=nt[Oe]))return!1;var rn=pe[At],Nn=ne[At];if(er(rn)&&er(Nn)){if(!ln(rn,Nn))return!1}else if(rn!==Nn)return!1}for(var yn=0,En=qe;yn<En.length;yn++){var At;if(!Se.includes(At=En[yn]))return!1}return!0}function er(pe){return null!==pe&&"object"==typeof pe}function gr(pe){for(var ne=[],Se=function(Nn,yn){Array.isArray(yn)?yn.forEach(function(En){ne.push(encodeURIComponent(Nn)+"="+encodeURIComponent(En))}):ne.push(encodeURIComponent(Nn)+"="+encodeURIComponent(yn))},qe=0,Oe=Object.entries(pe);qe<Oe.length;qe++){var nt=Oe[qe];Se(nt[0],nt[1])}return ne.length?"&"+ne.join("&"):""}function Ln(pe){var ne={};return pe.replace(/^\?/,"").split("&").forEach(function(qe){if(qe){var Oe=qe.split("="),At=Oe[1];ne[decodeURIComponent(Oe[0])]=decodeURIComponent(At)}}),ne}function bn(pe){var ne=pe.indexOf("?");if(!ne)return"";var Se=pe.indexOf("#",ne);return pe.substring(ne,Se>0?Se:void 0)}function vn(pe,ne){var Se=new Dn(pe,ne);return Se.subscribe.bind(Se)}!function(){function pe(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var ne=1;ne<this.blockSize;++ne)this.pad_[ne]=0;this.reset()}pe.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},pe.prototype.compress_=function(ne,Se){Se||(Se=0);var qe=this.W_;if("string"==typeof ne)for(var Oe=0;Oe<16;Oe++)qe[Oe]=ne.charCodeAt(Se)<<24|ne.charCodeAt(Se+1)<<16|ne.charCodeAt(Se+2)<<8|ne.charCodeAt(Se+3),Se+=4;else for(Oe=0;Oe<16;Oe++)qe[Oe]=ne[Se]<<24|ne[Se+1]<<16|ne[Se+2]<<8|ne[Se+3],Se+=4;for(Oe=16;Oe<80;Oe++)qe[Oe]=4294967295&((nt=qe[Oe-3]^qe[Oe-8]^qe[Oe-14]^qe[Oe-16])<<1|nt>>>31);var xe,ge,At=this.chain_[0],rn=this.chain_[1],Nn=this.chain_[2],yn=this.chain_[3],En=this.chain_[4];for(Oe=0;Oe<80;Oe++){Oe<40?Oe<20?(xe=yn^rn&(Nn^yn),ge=1518500249):(xe=rn^Nn^yn,ge=1859775393):Oe<60?(xe=rn&Nn|yn&(rn|Nn),ge=2400959708):(xe=rn^Nn^yn,ge=3395469782);var nt=(At<<5|At>>>27)+xe+En+ge+qe[Oe]&4294967295;En=yn,yn=Nn,Nn=4294967295&(rn<<30|rn>>>2),rn=At,At=nt}this.chain_[0]=this.chain_[0]+At&4294967295,this.chain_[1]=this.chain_[1]+rn&4294967295,this.chain_[2]=this.chain_[2]+Nn&4294967295,this.chain_[3]=this.chain_[3]+yn&4294967295,this.chain_[4]=this.chain_[4]+En&4294967295},pe.prototype.update=function(ne,Se){if(null!=ne){void 0===Se&&(Se=ne.length);for(var qe=Se-this.blockSize,Oe=0,nt=this.buf_,At=this.inbuf_;Oe<Se;){if(0===At)for(;Oe<=qe;)this.compress_(ne,Oe),Oe+=this.blockSize;if("string"==typeof ne){for(;Oe<Se;)if(nt[At]=ne.charCodeAt(Oe),++Oe,++At===this.blockSize){this.compress_(nt),At=0;break}}else for(;Oe<Se;)if(nt[At]=ne[Oe],++Oe,++At===this.blockSize){this.compress_(nt),At=0;break}}this.inbuf_=At,this.total_+=Se}},pe.prototype.digest=function(){var ne=[],Se=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var qe=this.blockSize-1;qe>=56;qe--)this.buf_[qe]=255&Se,Se/=256;this.compress_(this.buf_);var Oe=0;for(qe=0;qe<5;qe++)for(var nt=24;nt>=0;nt-=8)ne[Oe]=this.chain_[qe]>>nt&255,++Oe;return ne}}();var Dn=function(){function pe(ne,Se){var qe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(function(){ne(qe)}).catch(function(Oe){qe.error(Oe)})}return pe.prototype.next=function(ne){this.forEachObserver(function(Se){Se.next(ne)})},pe.prototype.error=function(ne){this.forEachObserver(function(Se){Se.error(ne)}),this.close(ne)},pe.prototype.complete=function(){this.forEachObserver(function(ne){ne.complete()}),this.close()},pe.prototype.subscribe=function(ne,Se,qe){var nt,Oe=this;if(void 0===ne&&void 0===Se&&void 0===qe)throw new Error("Missing Observer.");void 0===(nt=function(pe,ne){if("object"!=typeof pe||null===pe)return!1;for(var Se=0,qe=["next","error","complete"];Se<qe.length;Se++){var Oe=qe[Se];if(Oe in pe&&"function"==typeof pe[Oe])return!0}return!1}(ne)?ne:{next:ne,error:Se,complete:qe}).next&&(nt.next=$t),void 0===nt.error&&(nt.error=$t),void 0===nt.complete&&(nt.complete=$t);var At=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Oe.finalError?nt.error(Oe.finalError):nt.complete()}catch(rn){}}),this.observers.push(nt),At},pe.prototype.unsubscribeOne=function(ne){void 0===this.observers||void 0===this.observers[ne]||(delete this.observers[ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},pe.prototype.forEachObserver=function(ne){if(!this.finalized)for(var Se=0;Se<this.observers.length;Se++)this.sendOne(Se,ne)},pe.prototype.sendOne=function(ne,Se){var qe=this;this.task.then(function(){if(void 0!==qe.observers&&void 0!==qe.observers[ne])try{Se(qe.observers[ne])}catch(Oe){"undefined"!=typeof console&&console.error&&console.error(Oe)}})},pe.prototype.close=function(ne){var Se=this;this.finalized||(this.finalized=!0,void 0!==ne&&(this.finalError=ne),this.task.then(function(){Se.observers=void 0,Se.onNoObservers=void 0}))},pe}();function $t(){}function Vn(pe){return pe&&pe._delegate?pe._delegate:pe}},7841:(Nt,We,$)=>{"use strict";$.d(We,{Z:()=>E.Z});var E=$(4486);E.Z.registerVersion("firebase","9.0.2","app-compat")},4828:(Nt,We,$)=>{"use strict";$.r(We);var E=$(8239),w=$(4486),Y=$(5893),we=$(4685),$e=($(5452),$(300),$(6034));function Ce(){return window}function re(){return(re=(0,E.Z)(function*(xe,ge,Ee){var ze;const{BuildInfo:It}=Ce();(0,Y.ap)(ge.sessionId,"AuthEvent did not contain a session ID");const Vt=yield he(ge.sessionId),cn={};return(0,Y.aq)()?cn.ibi=It.packageName:(0,Y.ar)()?cn.apn=It.packageName:(0,Y.as)(xe,"operation-not-supported-in-this-environment"),It.displayName&&(cn.appDisplayName=It.displayName),cn.sessionId=Vt,(0,Y.at)(xe,Ee,ge.type,void 0,null!==(ze=ge.eventId)&&void 0!==ze?ze:void 0,cn)})).apply(this,arguments)}function ae(){return(ae=(0,E.Z)(function*(xe){const{BuildInfo:ge}=Ce(),Ee={};(0,Y.aq)()?Ee.iosBundleId=ge.packageName:(0,Y.ar)()?Ee.androidPackageName=ge.packageName:(0,Y.as)(xe,"operation-not-supported-in-this-environment"),yield(0,Y.au)(xe,Ee)})).apply(this,arguments)}function Pe(){return(Pe=(0,E.Z)(function*(xe,ge,Ee){const{cordova:ze}=Ce();let It=()=>{};try{yield new Promise((Vt,cn)=>{let Tn=null;function Yn(){var sn;Vt();const mr=null===(sn=ze.plugins.browsertab)||void 0===sn?void 0:sn.close;"function"==typeof mr&&mr(),"function"==typeof(null==Ee?void 0:Ee.close)&&Ee.close()}function An(){Tn||(Tn=window.setTimeout(()=>{cn((0,Y.av)(xe,"redirect-cancelled-by-user"))},2e3))}function tr(){"visible"===(null==document?void 0:document.visibilityState)&&An()}ge.addPassiveListener(Yn),document.addEventListener("resume",An,!1),(0,Y.ar)()&&document.addEventListener("visibilitychange",tr,!1),It=()=>{ge.removePassiveListener(Yn),document.removeEventListener("resume",An,!1),document.removeEventListener("visibilitychange",tr,!1),Tn&&window.clearTimeout(Tn)}})}finally{It()}})).apply(this,arguments)}function he(xe){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,E.Z)(function*(xe){const ge=Ke(xe),Ee=yield crypto.subtle.digest("SHA-256",ge);return Array.from(new Uint8Array(Ee)).map(It=>It.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ke(xe){if((0,Y.ap)(/[0-9a-zA-Z]+/.test(xe),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(xe);const ge=new ArrayBuffer(xe.length),Ee=new Uint8Array(ge);for(let ze=0;ze<xe.length;ze++)Ee[ze]=xe.charCodeAt(ze);return Ee}class oe extends Y.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ge=>{this.resolveInialized=ge})}addPassiveListener(ge){this.passiveListeners.add(ge)}removePassiveListener(ge){this.passiveListeners.delete(ge)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ge){return this.resolveInialized(),this.passiveListeners.forEach(Ee=>Ee(ge)),super.onEvent(ge)}initialized(){var ge=this;return(0,E.Z)(function*(){yield ge.initPromise})()}}function et(xe){return gt.apply(this,arguments)}function gt(){return(gt=(0,E.Z)(function*(xe){const ge=yield Le()._get(ke(xe));return ge&&(yield Le()._remove(ke(xe))),ge})).apply(this,arguments)}function Ze(){const xe=[],ge="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Ee=0;Ee<20;Ee++){const ze=Math.floor(Math.random()*ge.length);xe.push(ge.charAt(ze))}return xe.join("")}function Le(){return(0,Y.ax)(Y.b)}function ke(xe){return(0,Y.ay)("authEvent",xe.config.apiKey,xe.name)}function Be(xe){if(!(null==xe?void 0:xe.includes("?")))return{};const[ge,...Ee]=xe.split("?");return(0,we.zd)(Ee.join("?"))}function pt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,Y.av)("no-auth-event")}}function ht(){var xe;return(null===(xe=null==self?void 0:self.location)||void 0===xe?void 0:xe.protocol)||null}function Lt(xe=(0,we.z$)()){return!("file:"!==ht()&&"ionic:"!==ht()||!xe.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){try{const xe=self.localStorage,ge=Y.aG();if(xe)return xe.setItem(ge,"1"),xe.removeItem(ge),!function(xe=(0,we.z$)()){return(0,we.w1)()&&11===(null==document?void 0:document.documentMode)||function(xe=(0,we.z$)()){return/Edge\/\d+/.test(xe)}(xe)}()||(0,we.hl)()}catch(xe){return Ln()&&(0,we.hl)()}return!1}function Ln(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function bn(){return("http:"===ht()||"https:"===ht()||(0,we.ru)()||Lt())&&!((0,we.b$)()||(0,we.UG)())&&gr()&&!Ln()}function Pt(){return Lt()&&"undefined"!=typeof document}function Dn(){return(Dn=(0,E.Z)(function*(){return!!Pt()&&new Promise(xe=>{const ge=setTimeout(()=>{xe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ge),xe(!0)})})})).apply(this,arguments)}const Tt={LOCAL:"local",NONE:"none",SESSION:"session"},Qt=Y.aw,$t="persistence";function rt(xe){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,E.Z)(function*(xe){yield xe._initializationPromise;const ge=Gn(),Ee=Y.ay($t,xe.config.apiKey,xe.name);(null==ge?void 0:ge.sessionStorage)&&ge.sessionStorage.setItem(Ee,xe._getPersistence())})).apply(this,arguments)}function Gn(){return"undefined"!=typeof window?window:null}const wn=Y.aw;class xt{constructor(){this.browserResolver=Y.ax(Y.k),this.cordovaResolver=Y.ax(class{constructor(){this._redirectPersistence=Y.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Y.aA}_initialize(ge){var Ee=this;return(0,E.Z)(function*(){const ze=ge._key();let It=Ee.eventManagers.get(ze);return It||(It=new oe(ge),Ee.eventManagers.set(ze,It),Ee.attachCallbackListeners(ge,It)),It})()}_openPopup(ge){(0,Y.as)(ge,"operation-not-supported-in-this-environment")}_openRedirect(ge,Ee,ze,It){var Vt=this;return(0,E.Z)(function*(){!function(xe){var ge,Ee,ze,It,Vt,cn,Tn,Yn,An,tr;const sn=Ce();(0,Y.aw)("function"==typeof(null===(ge=null==sn?void 0:sn.universalLinks)||void 0===ge?void 0:ge.subscribe),xe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,Y.aw)(void 0!==(null===(Ee=null==sn?void 0:sn.BuildInfo)||void 0===Ee?void 0:Ee.packageName),xe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,Y.aw)("function"==typeof(null===(Vt=null===(It=null===(ze=null==sn?void 0:sn.cordova)||void 0===ze?void 0:ze.plugins)||void 0===It?void 0:It.browsertab)||void 0===Vt?void 0:Vt.openUrl),xe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aw)("function"==typeof(null===(Yn=null===(Tn=null===(cn=null==sn?void 0:sn.cordova)||void 0===cn?void 0:cn.plugins)||void 0===Tn?void 0:Tn.browsertab)||void 0===Yn?void 0:Yn.isAvailable),xe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aw)("function"==typeof(null===(tr=null===(An=null==sn?void 0:sn.cordova)||void 0===An?void 0:An.InAppBrowser)||void 0===tr?void 0:tr.open),xe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ge);const cn=yield Vt._initialize(ge);yield cn.initialized(),cn.resetRedirect(),(0,Y.aB)(),yield Vt._originValidation(ge);const Tn=function(xe,ge,Ee=null){return{type:ge,eventId:Ee,urlResponse:null,sessionId:Ze(),postBody:null,tenantId:xe.tenantId,error:(0,Y.av)(xe,"no-auth-event")}}(ge,ze,It);yield function(xe,ge){return Le()._set(ke(xe),ge)}(ge,Tn);const Yn=yield function(xe,ge,Ee){return re.apply(this,arguments)}(ge,Tn,Ee),An=yield function(xe){const{cordova:ge}=Ce();return new Promise(Ee=>{ge.plugins.browsertab.isAvailable(ze=>{let It=null;ze?ge.plugins.browsertab.openUrl(xe):It=ge.InAppBrowser.open(xe,(0,Y.ao)()?"_blank":"_system","location=yes"),Ee(It)})})}(Yn);return function(xe,ge,Ee){return Pe.apply(this,arguments)}(ge,cn,An)})()}_isIframeWebStorageSupported(ge,Ee){throw new Error("Method not implemented.")}_originValidation(ge){const Ee=ge._key();return this.originValidationPromises[Ee]||(this.originValidationPromises[Ee]=function(xe){return ae.apply(this,arguments)}(ge)),this.originValidationPromises[Ee]}attachCallbackListeners(ge,Ee){const{universalLinks:ze,handleOpenURL:It,BuildInfo:Vt}=Ce(),cn=setTimeout((0,E.Z)(function*(){yield et(ge),Ee.onEvent(pt())}),500),Tn=function(){var tr=(0,E.Z)(function*(sn){clearTimeout(cn);const mr=yield et(ge);let St=null;mr&&(null==sn?void 0:sn.url)&&(St=function(xe,ge){var Ee,ze;const It=function(xe){const ge=Be(xe),Ee=ge.link?decodeURIComponent(ge.link):void 0,ze=Be(Ee).link,It=ge.deep_link_id?decodeURIComponent(ge.deep_link_id):void 0;return Be(It).link||It||ze||Ee||xe}(ge);if(It.includes("/__/auth/callback")){const Vt=Be(It),cn=Vt.firebaseError?function(xe){try{return JSON.parse(xe)}catch(ge){return null}}(decodeURIComponent(Vt.firebaseError)):null,Tn=null===(ze=null===(Ee=null==cn?void 0:cn.code)||void 0===Ee?void 0:Ee.split("auth/"))||void 0===ze?void 0:ze[1],Yn=Tn?(0,Y.av)(Tn):null;return Yn?{type:xe.type,eventId:xe.eventId,tenantId:xe.tenantId,error:Yn,urlResponse:null,sessionId:null,postBody:null}:{type:xe.type,eventId:xe.eventId,tenantId:xe.tenantId,sessionId:xe.sessionId,urlResponse:It,postBody:null}}return null}(mr,sn.url)),Ee.onEvent(St||pt())});return function(mr){return tr.apply(this,arguments)}}();void 0!==ze&&"function"==typeof ze.subscribe&&ze.subscribe(null,Tn);const Yn=It,An=`${Vt.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var tr=(0,E.Z)(function*(sn){if(sn.toLowerCase().startsWith(An)&&Tn({url:sn}),"function"==typeof Yn)try{Yn(sn)}catch(mr){console.error(mr)}});return function(sn){return tr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Y.a,this._completeRedirectFn=Y.aA}_initialize(ge){var Ee=this;return(0,E.Z)(function*(){return yield Ee.selectUnderlyingResolver(),Ee.assertedUnderlyingResolver._initialize(ge)})()}_openPopup(ge,Ee,ze,It){var Vt=this;return(0,E.Z)(function*(){return yield Vt.selectUnderlyingResolver(),Vt.assertedUnderlyingResolver._openPopup(ge,Ee,ze,It)})()}_openRedirect(ge,Ee,ze,It){var Vt=this;return(0,E.Z)(function*(){return yield Vt.selectUnderlyingResolver(),Vt.assertedUnderlyingResolver._openRedirect(ge,Ee,ze,It)})()}_isIframeWebStorageSupported(ge,Ee){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ge,Ee)}_originValidation(ge){return this.assertedUnderlyingResolver._originValidation(ge)}get _shouldInitProactively(){return Pt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ge=this;return(0,E.Z)(function*(){if(ge.underlyingResolver)return;const Ee=yield function(){return Dn.apply(this,arguments)}();ge.underlyingResolver=Ee?ge.cordovaResolver:ge.browserResolver})()}}function Mt(xe){return xe.unwrap()}function pi(xe){return Rn(xe)}function oi(xe,ge){var Ee;const ze=null===(Ee=ge.customData)||void 0===Ee?void 0:Ee._tokenResponse;if("auth/multi-factor-auth-required"===ge.code)ge.resolver=new ne(xe,Y.am(xe,ge));else if(ze){const It=Rn(ge),Vt=ge;It&&(Vt.credential=It,Vt.tenantId=ze.tenantId||void 0,Vt.email=ze.email||void 0,Vt.phoneNumber=ze.phoneNumber||void 0)}}function Rn(xe){const{_tokenResponse:ge}=xe instanceof we.ZR?xe.customData:xe;if(!ge)return null;if(!(xe instanceof we.ZR)&&"temporaryProof"in ge&&"phoneNumber"in ge)return Y.P.credentialFromResult(xe);const Ee=ge.providerId;if(!Ee||Ee===Y.o.PASSWORD)return null;let ze;switch(Ee){case Y.o.GOOGLE:ze=Y.N;break;case Y.o.FACEBOOK:ze=Y.M;break;case Y.o.GITHUB:ze=Y.Q;break;case Y.o.TWITTER:ze=Y.V;break;default:const{oauthIdToken:It,oauthAccessToken:Vt,oauthTokenSecret:cn,pendingToken:Tn,nonce:Yn}=ge;return Vt||cn||It||Tn?Tn?Ee.startsWith("saml.")?Y.aJ._create(Ee,Tn):Y.I._fromParams({providerId:Ee,signInMethod:Ee,pendingToken:Tn,idToken:It,accessToken:Vt}):new Y.T(Ee).credential({idToken:It,accessToken:Vt,rawNonce:Yn}):null}return xe instanceof we.ZR?ze.credentialFromError(xe):ze.credentialFromResult(xe)}function Pn(xe,ge){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,E.Z)(function*(xe,ge){let Ee;try{Ee=yield ge}catch(Vt){throw Vt instanceof we.ZR&&oi(xe,Vt),Vt}const{operationType:ze,user:It}=Ee;return{operationType:ze,credential:pi(Ee),additionalUserInfo:Y.ak(Ee),user:Se.getOrCreate(It)}})).apply(this,arguments)}function Vn(xe,ge){return pe.apply(this,arguments)}function pe(){return(pe=(0,E.Z)(function*(xe,ge){const Ee=yield ge;return{verificationId:Ee.verificationId,confirm:ze=>Pn(xe,Ee.confirm(ze))}})).apply(this,arguments)}class ne{constructor(ge,Ee){this.resolver=Ee,this.auth=ge.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ge){return Pn(Mt(this.auth),this.resolver.resolveSignIn(ge))}}class Se{constructor(ge){this._delegate=ge,this.multiFactor=Y.an(ge)}static getOrCreate(ge){return Se.USER_MAP.has(ge)||Se.USER_MAP.set(ge,new Se(ge)),Se.USER_MAP.get(ge)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ge){return this._delegate.getIdTokenResult(ge)}getIdToken(ge){return this._delegate.getIdToken(ge)}linkAndRetrieveDataWithCredential(ge){return this.linkWithCredential(ge)}linkWithCredential(ge){var Ee=this;return(0,E.Z)(function*(){return Pn(Ee.auth,Y.Y(Ee._delegate,ge))})()}linkWithPhoneNumber(ge,Ee){var ze=this;return(0,E.Z)(function*(){return Vn(ze.auth,Y.l(ze._delegate,ge,Ee))})()}linkWithPopup(ge){var Ee=this;return(0,E.Z)(function*(){return Pn(Ee.auth,Y.d(Ee._delegate,ge,xt))})()}linkWithRedirect(ge){var Ee=this;return(0,E.Z)(function*(){return yield rt(Y.aC(Ee.auth)),Y.g(Ee._delegate,ge,xt)})()}reauthenticateAndRetrieveDataWithCredential(ge){return this.reauthenticateWithCredential(ge)}reauthenticateWithCredential(ge){var Ee=this;return(0,E.Z)(function*(){return Pn(Ee.auth,Y.Z(Ee._delegate,ge))})()}reauthenticateWithPhoneNumber(ge,Ee){return Vn(this.auth,Y.r(this._delegate,ge,Ee))}reauthenticateWithPopup(ge){return Pn(this.auth,Y.e(this._delegate,ge,xt))}reauthenticateWithRedirect(ge){var Ee=this;return(0,E.Z)(function*(){return yield rt(Y.aC(Ee.auth)),Y.h(Ee._delegate,ge,xt)})()}sendEmailVerification(ge){return Y.aa(this._delegate,ge)}unlink(ge){var Ee=this;return(0,E.Z)(function*(){return yield Y.aj(Ee._delegate,ge),Ee})()}updateEmail(ge){return Y.af(this._delegate,ge)}updatePassword(ge){return Y.ag(this._delegate,ge)}updatePhoneNumber(ge){return Y.u(this._delegate,ge)}updateProfile(ge){return Y.ae(this._delegate,ge)}verifyBeforeUpdateEmail(ge,Ee){return Y.ab(this._delegate,ge,Ee)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Se.USER_MAP=new WeakMap;const qe=Y.aw;let Oe=(()=>{class xe{constructor(Ee,ze){if(this.app=Ee,ze.isInitialized())return this._delegate=ze.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:It}=Ee.options;qe(It,"invalid-api-key",{appName:Ee.name});let Vt=[Y.K];if("undefined"!=typeof window){Vt=function(xe,ge){const Ee=Gn();if(!(null==Ee?void 0:Ee.sessionStorage))return[];const ze=Y.ay($t,xe,ge);switch(Ee.sessionStorage.getItem(ze)){case Tt.NONE:return[Y.K];case Tt.LOCAL:return[Y.i,Y.a];case Tt.SESSION:return[Y.a];default:return[]}}(It,Ee.name);for(const Tn of[Y.i,Y.b,Y.a])Vt.includes(Tn)||Vt.push(Tn)}qe(It,"invalid-api-key",{appName:Ee.name});const cn="undefined"!=typeof window?xt:void 0;this._delegate=ze.initialize({options:{persistence:Vt,popupRedirectResolver:cn}}),this._delegate._updateErrorMap(Y.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Se.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Ee){this._delegate.languageCode=Ee}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Ee){this._delegate.tenantId=Ee}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Ee,ze){Y.E(this._delegate,Ee,ze)}applyActionCode(Ee){return Y.a1(this._delegate,Ee)}checkActionCode(Ee){return Y.a2(this._delegate,Ee)}confirmPasswordReset(Ee,ze){return Y.a0(this._delegate,Ee,ze)}createUserWithEmailAndPassword(Ee,ze){var It=this;return(0,E.Z)(function*(){return Pn(It._delegate,Y.a4(It._delegate,Ee,ze))})()}fetchProvidersForEmail(Ee){return this.fetchSignInMethodsForEmail(Ee)}fetchSignInMethodsForEmail(Ee){return Y.a9(this._delegate,Ee)}isSignInWithEmailLink(Ee){return Y.a7(this._delegate,Ee)}getRedirectResult(){var Ee=this;return(0,E.Z)(function*(){qe(bn(),Ee._delegate,"operation-not-supported-in-this-environment");const ze=yield Y.j(Ee._delegate,xt);return ze?Pn(Ee._delegate,Promise.resolve(ze)):{credential:null,user:null}})()}addFrameworkForLogging(Ee){!function(xe,ge){(0,Y.aC)(xe)._logFramework(ge)}(this._delegate,Ee)}onAuthStateChanged(Ee,ze,It){const{next:Vt,error:cn,complete:Tn}=nt(Ee,ze,It);return this._delegate.onAuthStateChanged(Vt,cn,Tn)}onIdTokenChanged(Ee,ze,It){const{next:Vt,error:cn,complete:Tn}=nt(Ee,ze,It);return this._delegate.onIdTokenChanged(Vt,cn,Tn)}sendSignInLinkToEmail(Ee,ze){return Y.a6(this._delegate,Ee,ze)}sendPasswordResetEmail(Ee,ze){return Y.$(this._delegate,Ee,ze||void 0)}setPersistence(Ee){var ze=this;return(0,E.Z)(function*(){let It;switch(function(xe,ge){Qt(Object.values(Tt).includes(ge),xe,"invalid-persistence-type"),(0,we.b$)()?Qt(ge!==Tt.SESSION,xe,"unsupported-persistence-type"):(0,we.UG)()?Qt(ge===Tt.NONE,xe,"unsupported-persistence-type"):Ln()?Qt(ge===Tt.NONE||ge===Tt.LOCAL&&(0,we.hl)(),xe,"unsupported-persistence-type"):Qt(ge===Tt.NONE||gr(),xe,"unsupported-persistence-type")}(ze._delegate,Ee),Ee){case Tt.SESSION:It=Y.a;break;case Tt.LOCAL:It=(yield Y.ax(Y.i)._isAvailable())?Y.i:Y.b;break;case Tt.NONE:It=Y.K;break;default:return Y.as("argument-error",{appName:ze._delegate.name})}return ze._delegate.setPersistence(It)})()}signInAndRetrieveDataWithCredential(Ee){return this.signInWithCredential(Ee)}signInAnonymously(){return Pn(this._delegate,Y.W(this._delegate))}signInWithCredential(Ee){return Pn(this._delegate,Y.X(this._delegate,Ee))}signInWithCustomToken(Ee){return Pn(this._delegate,Y._(this._delegate,Ee))}signInWithEmailAndPassword(Ee,ze){return Pn(this._delegate,Y.a5(this._delegate,Ee,ze))}signInWithEmailLink(Ee,ze){return Pn(this._delegate,Y.a8(this._delegate,Ee,ze))}signInWithPhoneNumber(Ee,ze){return Vn(this._delegate,Y.s(this._delegate,Ee,ze))}signInWithPopup(Ee){var ze=this;return(0,E.Z)(function*(){return qe(bn(),ze._delegate,"operation-not-supported-in-this-environment"),Pn(ze._delegate,Y.c(ze._delegate,Ee,xt))})()}signInWithRedirect(Ee){var ze=this;return(0,E.Z)(function*(){return qe(bn(),ze._delegate,"operation-not-supported-in-this-environment"),yield rt(ze._delegate),Y.f(ze._delegate,Ee,xt)})()}updateCurrentUser(Ee){return this._delegate.updateCurrentUser(Ee)}verifyPasswordResetCode(Ee){return Y.a3(this._delegate,Ee)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return xe.Persistence=Tt,xe})();function nt(xe,ge,Ee){let ze=xe;"function"!=typeof xe&&({next:ze,error:ge,complete:Ee}=xe);const It=ze;return{next:cn=>It(cn&&Se.getOrCreate(cn)),error:ge,complete:Ee}}class At{constructor(){this.providerId="phone",this._delegate=new Y.P(Mt(w.Z.auth()))}static credential(ge,Ee){return Y.P.credential(ge,Ee)}verifyPhoneNumber(ge,Ee){return this._delegate.verifyPhoneNumber(ge,Ee)}unwrap(){return this._delegate}}At.PHONE_SIGN_IN_METHOD=Y.P.PHONE_SIGN_IN_METHOD,At.PROVIDER_ID=Y.P.PROVIDER_ID;const rn=Y.aw;var xe;(xe=w.Z).INTERNAL.registerComponent(new $e.wA("auth-compat",ge=>{const Ee=ge.getProvider("app-compat").getImmediate(),ze=ge.getProvider("auth");return new Oe(Ee,ze)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Y.A.EMAIL_SIGNIN,PASSWORD_RESET:Y.A.PASSWORD_RESET,RECOVER_EMAIL:Y.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Y.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Y.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Y.A.VERIFY_EMAIL}},EmailAuthProvider:Y.L,FacebookAuthProvider:Y.M,GithubAuthProvider:Y.Q,GoogleAuthProvider:Y.N,OAuthProvider:Y.T,PhoneAuthProvider:At,PhoneMultiFactorGenerator:Y.m,RecaptchaVerifier:class{constructor(ge,Ee,ze=w.Z.app()){var It;rn(null===(It=ze.options)||void 0===It?void 0:It.apiKey,"invalid-api-key",{appName:ze.name}),this._delegate=new Y.R(ge,Ee,ze.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:Y.V,Auth:Oe,AuthCredential:Y.G,Error:we.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),xe.registerVersion("@firebase/auth-compat","0.1.2")},7574:(Nt,We,$)=>{"use strict";$.d(We,{y:()=>re});var E=$(7393),Y=$(9181),we=$(6490),ve=$(6554),$e=$(4487);var ee=$(2494);let re=(()=>{class ae{constructor(Ge){this._isScalar=!1,Ge&&(this._subscribe=Ge)}lift(Ge){const Pe=new ae;return Pe.source=this,Pe.operator=Ge,Pe}subscribe(Ge,Pe,Ue){const{operator:he}=this,Ye=function(ae,be,Ge){if(ae){if(ae instanceof E.L)return ae;if(ae[Y.b])return ae[Y.b]()}return ae||be||Ge?new E.L(ae,be,Ge):new E.L(we.c)}(Ge,Pe,Ue);if(Ye.add(he?he.call(Ye,this.source):this.source||ee.v.useDeprecatedSynchronousErrorHandling&&!Ye.syncErrorThrowable?this._subscribe(Ye):this._trySubscribe(Ye)),ee.v.useDeprecatedSynchronousErrorHandling&&Ye.syncErrorThrowable&&(Ye.syncErrorThrowable=!1,Ye.syncErrorThrown))throw Ye.syncErrorValue;return Ye}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(Pe){ee.v.useDeprecatedSynchronousErrorHandling&&(Ge.syncErrorThrown=!0,Ge.syncErrorValue=Pe),function(ae){for(;ae;){const{closed:be,destination:Ge,isStopped:Pe}=ae;if(be||Pe)return!1;ae=Ge&&Ge instanceof E.L?Ge:null}return!0}(Ge)?Ge.error(Pe):console.warn(Pe)}}forEach(Ge,Pe){return new(Pe=de(Pe))((Ue,he)=>{let Ye;Ye=this.subscribe(Ke=>{try{Ge(Ke)}catch(ot){he(ot),Ye&&Ye.unsubscribe()}},he,Ue)})}_subscribe(Ge){const{source:Pe}=this;return Pe&&Pe.subscribe(Ge)}[ve.L](){return this}pipe(...Ge){return 0===Ge.length?this:function(ae){return 0===ae.length?$e.y:1===ae.length?ae[0]:function(Ge){return ae.reduce((Pe,Ue)=>Ue(Pe),Ge)}}(Ge)(this)}toPromise(Ge){return new(Ge=de(Ge))((Pe,Ue)=>{let he;this.subscribe(Ye=>he=Ye,Ye=>Ue(Ye),()=>Pe(he))})}}return ae.create=be=>new ae(be),ae})();function de(ae){if(ae||(ae=ee.v.Promise||Promise),!ae)throw new Error("no Promise impl found");return ae}},6490:(Nt,We,$)=>{"use strict";$.d(We,{c:()=>Y});var E=$(2494),w=$(4449);const Y={closed:!0,next(we){},error(we){if(E.v.useDeprecatedSynchronousErrorHandling)throw we;(0,w.z)(we)},complete(){}}},9765:(Nt,We,$)=>{"use strict";$.d(We,{Yc:()=>$e,xQ:()=>Ce});var E=$(7574),w=$(7393),Y=$(5319),we=$(7971),Ne=$(8858),ve=$(9181);class $e extends w.L{constructor(re){super(re),this.destination=re}}let Ce=(()=>{class ee extends E.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ve.b](){return new $e(this)}lift(de){const ae=new ce(this,this);return ae.operator=de,ae}next(de){if(this.closed)throw new we.N;if(!this.isStopped){const{observers:ae}=this,be=ae.length,Ge=ae.slice();for(let Pe=0;Pe<be;Pe++)Ge[Pe].next(de)}}error(de){if(this.closed)throw new we.N;this.hasError=!0,this.thrownError=de,this.isStopped=!0;const{observers:ae}=this,be=ae.length,Ge=ae.slice();for(let Pe=0;Pe<be;Pe++)Ge[Pe].error(de);this.observers.length=0}complete(){if(this.closed)throw new we.N;this.isStopped=!0;const{observers:de}=this,ae=de.length,be=de.slice();for(let Ge=0;Ge<ae;Ge++)be[Ge].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(de){if(this.closed)throw new we.N;return super._trySubscribe(de)}_subscribe(de){if(this.closed)throw new we.N;return this.hasError?(de.error(this.thrownError),Y.w.EMPTY):this.isStopped?(de.complete(),Y.w.EMPTY):(this.observers.push(de),new Ne.W(this,de))}asObservable(){const de=new E.y;return de.source=this,de}}return ee.create=(re,de)=>new ce(re,de),ee})();class ce extends Ce{constructor(re,de){super(),this.destination=re,this.source=de}next(re){const{destination:de}=this;de&&de.next&&de.next(re)}error(re){const{destination:de}=this;de&&de.error&&this.destination.error(re)}complete(){const{destination:re}=this;re&&re.complete&&this.destination.complete()}_subscribe(re){const{source:de}=this;return de?this.source.subscribe(re):Y.w.EMPTY}}},8858:(Nt,We,$)=>{"use strict";$.d(We,{W:()=>w});var E=$(5319);class w extends E.w{constructor(we,Ne){super(),this.subject=we,this.subscriber=Ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const we=this.subject,Ne=we.observers;if(this.subject=null,!Ne||0===Ne.length||we.isStopped||we.closed)return;const ve=Ne.indexOf(this.subscriber);-1!==ve&&Ne.splice(ve,1)}}},7393:(Nt,We,$)=>{"use strict";$.d(We,{L:()=>$e});var E=$(9105),w=$(6490),Y=$(5319),we=$(9181),Ne=$(2494),ve=$(4449);class $e extends Y.w{constructor(ee,re,de){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=w.c;break;case 1:if(!ee){this.destination=w.c;break}if("object"==typeof ee){ee instanceof $e?(this.syncErrorThrowable=ee.syncErrorThrowable,this.destination=ee,ee.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ce(this,ee));break}default:this.syncErrorThrowable=!0,this.destination=new Ce(this,ee,re,de)}}[we.b](){return this}static create(ee,re,de){const ae=new $e(ee,re,de);return ae.syncErrorThrowable=!1,ae}next(ee){this.isStopped||this._next(ee)}error(ee){this.isStopped||(this.isStopped=!0,this._error(ee))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ee){this.destination.next(ee)}_error(ee){this.destination.error(ee),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ee}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ee,this}}class Ce extends $e{constructor(ee,re,de,ae){super(),this._parentSubscriber=ee;let be,Ge=this;(0,E.m)(re)?be=re:re&&(be=re.next,de=re.error,ae=re.complete,re!==w.c&&(Ge=Object.create(re),(0,E.m)(Ge.unsubscribe)&&this.add(Ge.unsubscribe.bind(Ge)),Ge.unsubscribe=this.unsubscribe.bind(this))),this._context=Ge,this._next=be,this._error=de,this._complete=ae}next(ee){if(!this.isStopped&&this._next){const{_parentSubscriber:re}=this;Ne.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable?this.__tryOrSetError(re,this._next,ee)&&this.unsubscribe():this.__tryOrUnsub(this._next,ee)}}error(ee){if(!this.isStopped){const{_parentSubscriber:re}=this,{useDeprecatedSynchronousErrorHandling:de}=Ne.v;if(this._error)de&&re.syncErrorThrowable?(this.__tryOrSetError(re,this._error,ee),this.unsubscribe()):(this.__tryOrUnsub(this._error,ee),this.unsubscribe());else if(re.syncErrorThrowable)de?(re.syncErrorValue=ee,re.syncErrorThrown=!0):(0,ve.z)(ee),this.unsubscribe();else{if(this.unsubscribe(),de)throw ee;(0,ve.z)(ee)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ee}=this;if(this._complete){const re=()=>this._complete.call(this._context);Ne.v.useDeprecatedSynchronousErrorHandling&&ee.syncErrorThrowable?(this.__tryOrSetError(ee,re),this.unsubscribe()):(this.__tryOrUnsub(re),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ee,re){try{ee.call(this._context,re)}catch(de){if(this.unsubscribe(),Ne.v.useDeprecatedSynchronousErrorHandling)throw de;(0,ve.z)(de)}}__tryOrSetError(ee,re,de){if(!Ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{re.call(this._context,de)}catch(ae){return Ne.v.useDeprecatedSynchronousErrorHandling?(ee.syncErrorValue=ae,ee.syncErrorThrown=!0,!0):((0,ve.z)(ae),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ee}=this;this._context=null,this._parentSubscriber=null,ee.unsubscribe()}}},5319:(Nt,We,$)=>{"use strict";$.d(We,{w:()=>ve});var E=$(9796),w=$(1555),Y=$(9105);const Ne=(()=>{function Ce(ce){return Error.call(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((ee,re)=>`${re+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce,this}return Ce.prototype=Object.create(Error.prototype),Ce})();class ve{constructor(ce){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ce&&(this._ctorUnsubscribe=!0,this._unsubscribe=ce)}unsubscribe(){let ce;if(this.closed)return;let{_parentOrParents:ee,_ctorUnsubscribe:re,_unsubscribe:de,_subscriptions:ae}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ee instanceof ve)ee.remove(this);else if(null!==ee)for(let be=0;be<ee.length;++be)ee[be].remove(this);if((0,Y.m)(de)){re&&(this._unsubscribe=void 0);try{de.call(this)}catch(be){ce=be instanceof Ne?$e(be.errors):[be]}}if((0,E.k)(ae)){let be=-1,Ge=ae.length;for(;++be<Ge;){const Pe=ae[be];if((0,w.K)(Pe))try{Pe.unsubscribe()}catch(Ue){ce=ce||[],Ue instanceof Ne?ce=ce.concat($e(Ue.errors)):ce.push(Ue)}}}if(ce)throw new Ne(ce)}add(ce){let ee=ce;if(!ce)return ve.EMPTY;switch(typeof ce){case"function":ee=new ve(ce);case"object":if(ee===this||ee.closed||"function"!=typeof ee.unsubscribe)return ee;if(this.closed)return ee.unsubscribe(),ee;if(!(ee instanceof ve)){const ae=ee;ee=new ve,ee._subscriptions=[ae]}break;default:throw new Error("unrecognized teardown "+ce+" added to Subscription.")}let{_parentOrParents:re}=ee;if(null===re)ee._parentOrParents=this;else if(re instanceof ve){if(re===this)return ee;ee._parentOrParents=[re,this]}else{if(-1!==re.indexOf(this))return ee;re.push(this)}const de=this._subscriptions;return null===de?this._subscriptions=[ee]:de.push(ee),ee}remove(ce){const ee=this._subscriptions;if(ee){const re=ee.indexOf(ce);-1!==re&&ee.splice(re,1)}}}var Ce;function $e(Ce){return Ce.reduce((ce,ee)=>ce.concat(ee instanceof Ne?ee.errors:ee),[])}ve.EMPTY=((Ce=new ve).closed=!0,Ce)},2494:(Nt,We,$)=>{"use strict";$.d(We,{v:()=>w});let E=!1;const w={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Y){if(Y){const we=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+we.stack)}else E&&console.log("RxJS: Back to a better error behavior. Thank you. <3");E=Y},get useDeprecatedSynchronousErrorHandling(){return E}}},5345:(Nt,We,$)=>{"use strict";$.d(We,{IY:()=>we,Ds:()=>ve,ft:()=>Ce});var E=$(7393),w=$(7574),Y=$(7444);class we extends E.L{constructor(ee){super(),this.parent=ee}_next(ee){this.parent.notifyNext(ee)}_error(ee){this.parent.notifyError(ee),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ve extends E.L{notifyNext(ee){this.destination.next(ee)}notifyError(ee){this.destination.error(ee)}notifyComplete(){this.destination.complete()}}function Ce(ce,ee){if(ee.closed)return;if(ce instanceof w.y)return ce.subscribe(ee);let re;try{re=(0,Y.s)(ce)(ee)}catch(de){ee.error(de)}return re}},2441:(Nt,We,$)=>{"use strict";$.d(We,{c:()=>Ne,N:()=>ve});var E=$(9765),w=$(7574),Y=$(5319),we=$(1307);class Ne extends w.y{constructor(re,de){super(),this.source=re,this.subjectFactory=de,this._refCount=0,this._isComplete=!1}_subscribe(re){return this.getSubject().subscribe(re)}getSubject(){const re=this._subject;return(!re||re.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let re=this._connection;return re||(this._isComplete=!1,re=this._connection=new Y.w,re.add(this.source.subscribe(new $e(this.getSubject(),this))),re.closed&&(this._connection=null,re=Y.w.EMPTY)),re}refCount(){return(0,we.x)()(this)}}const ve=(()=>{const ee=Ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ee._subscribe},_isComplete:{value:ee._isComplete,writable:!0},getSubject:{value:ee.getSubject},connect:{value:ee.connect},refCount:{value:ee.refCount}}})();class $e extends E.Yc{constructor(re,de){super(re),this.connectable=de}_error(re){this._unsubscribe(),super._error(re)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const re=this.connectable;if(re){this.connectable=null;const de=re._connection;re._refCount=0,re._subject=null,re._connection=null,de&&de.unsubscribe()}}}},8071:(Nt,We,$)=>{"use strict";$.d(We,{z:()=>we});var E=$(5917),w=$(3282);function we(...Ne){return(0,w.J)(1)((0,E.of)(...Ne))}},9193:(Nt,We,$)=>{"use strict";$.d(We,{E:()=>w,c:()=>Y});var E=$(7574);const w=new E.y(Ne=>Ne.complete());function Y(Ne){return Ne?function(Ne){return new E.y(ve=>Ne.schedule(()=>ve.complete()))}(Ne):w}},4402:(Nt,We,$)=>{"use strict";$.d(We,{D:()=>Ge});var E=$(7574),w=$(7444),Y=$(5319),we=$(6554),$e=$(4087),Ce=$(377),re=$(4072),de=$(9489);function Ge(Pe,Ue){return Ue?function(Pe,Ue){if(null!=Pe){if(function(Pe){return Pe&&"function"==typeof Pe[we.L]}(Pe))return function(Pe,Ue){return new E.y(he=>{const Ye=new Y.w;return Ye.add(Ue.schedule(()=>{const Ke=Pe[we.L]();Ye.add(Ke.subscribe({next(ot){Ye.add(Ue.schedule(()=>he.next(ot)))},error(ot){Ye.add(Ue.schedule(()=>he.error(ot)))},complete(){Ye.add(Ue.schedule(()=>he.complete()))}}))})),Ye})}(Pe,Ue);if((0,re.t)(Pe))return function(Pe,Ue){return new E.y(he=>{const Ye=new Y.w;return Ye.add(Ue.schedule(()=>Pe.then(Ke=>{Ye.add(Ue.schedule(()=>{he.next(Ke),Ye.add(Ue.schedule(()=>he.complete()))}))},Ke=>{Ye.add(Ue.schedule(()=>he.error(Ke)))}))),Ye})}(Pe,Ue);if((0,de.z)(Pe))return(0,$e.r)(Pe,Ue);if(function(Pe){return Pe&&"function"==typeof Pe[Ce.hZ]}(Pe)||"string"==typeof Pe)return function(Pe,Ue){if(!Pe)throw new Error("Iterable cannot be null");return new E.y(he=>{const Ye=new Y.w;let Ke;return Ye.add(()=>{Ke&&"function"==typeof Ke.return&&Ke.return()}),Ye.add(Ue.schedule(()=>{Ke=Pe[Ce.hZ](),Ye.add(Ue.schedule(function(){if(he.closed)return;let ot,oe;try{const Xe=Ke.next();ot=Xe.value,oe=Xe.done}catch(Xe){return void he.error(Xe)}oe?he.complete():(he.next(ot),this.schedule())}))})),Ye})}(Pe,Ue)}throw new TypeError((null!==Pe&&typeof Pe||Pe)+" is not observable")}(Pe,Ue):Pe instanceof E.y?Pe:new E.y((0,w.s)(Pe))}},6693:(Nt,We,$)=>{"use strict";$.d(We,{n:()=>we});var E=$(7574),w=$(5015),Y=$(4087);function we(Ne,ve){return ve?(0,Y.r)(Ne,ve):new E.y((0,w.V)(Ne))}},6682:(Nt,We,$)=>{"use strict";$.d(We,{T:()=>Ne});var E=$(7574),w=$(4869),Y=$(3282),we=$(6693);function Ne(...ve){let $e=Number.POSITIVE_INFINITY,Ce=null,ce=ve[ve.length-1];return(0,w.K)(ce)?(Ce=ve.pop(),ve.length>1&&"number"==typeof ve[ve.length-1]&&($e=ve.pop())):"number"==typeof ce&&($e=ve.pop()),null===Ce&&1===ve.length&&ve[0]instanceof E.y?ve[0]:(0,Y.J)($e)((0,we.n)(ve,Ce))}},5917:(Nt,We,$)=>{"use strict";$.d(We,{of:()=>we});var E=$(4869),w=$(6693),Y=$(4087);function we(...Ne){let ve=Ne[Ne.length-1];return(0,E.K)(ve)?(Ne.pop(),(0,Y.r)(Ne,ve)):(0,w.n)(Ne)}},5242:(Nt,We,$)=>{"use strict";$.d(We,{d:()=>w});var E=$(7393);function w(Ne=null){return ve=>ve.lift(new Y(Ne))}class Y{constructor(ve){this.defaultValue=ve}call(ve,$e){return $e.subscribe(new we(ve,this.defaultValue))}}class we extends E.L{constructor(ve,$e){super(ve),this.defaultValue=$e,this.isEmpty=!0}_next(ve){this.isEmpty=!1,this.destination.next(ve)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(Nt,We,$)=>{"use strict";$.d(We,{h:()=>w});var E=$(7393);function w(Ne,ve){return function(Ce){return Ce.lift(new Y(Ne,ve))}}class Y{constructor(ve,$e){this.predicate=ve,this.thisArg=$e}call(ve,$e){return $e.subscribe(new we(ve,this.predicate,this.thisArg))}}class we extends E.L{constructor(ve,$e,Ce){super(ve),this.predicate=$e,this.thisArg=Ce,this.count=0}_next(ve){let $e;try{$e=this.predicate.call(this.thisArg,ve,this.count++)}catch(Ce){return void this.destination.error(Ce)}$e&&this.destination.next(ve)}}},8049:(Nt,We,$)=>{"use strict";$.d(We,{P:()=>$e});var E=$(3410),w=$(5435),Y=$(5257),we=$(5242),Ne=$(4635),ve=$(4487);function $e(Ce,ce){const ee=arguments.length>=2;return re=>re.pipe(Ce?(0,w.h)((de,ae)=>Ce(de,ae,re)):ve.y,(0,Y.q)(1),ee?(0,we.d)(ce):(0,Ne.T)(()=>new E.K))}},8002:(Nt,We,$)=>{"use strict";$.d(We,{U:()=>w});var E=$(7393);function w(Ne,ve){return function(Ce){if("function"!=typeof Ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Ce.lift(new Y(Ne,ve))}}class Y{constructor(ve,$e){this.project=ve,this.thisArg=$e}call(ve,$e){return $e.subscribe(new we(ve,this.project,this.thisArg))}}class we extends E.L{constructor(ve,$e,Ce){super(ve),this.project=$e,this.count=0,this.thisArg=Ce||this}_next(ve){let $e;try{$e=this.project.call(this.thisArg,ve,this.count++)}catch(Ce){return void this.destination.error(Ce)}this.destination.next($e)}}},3282:(Nt,We,$)=>{"use strict";$.d(We,{J:()=>Y});var E=$(9773),w=$(4487);function Y(we=Number.POSITIVE_INFINITY){return(0,E.zg)(w.y,we)}},9773:(Nt,We,$)=>{"use strict";$.d(We,{zg:()=>we});var E=$(8002),w=$(4402),Y=$(5345);function we(Ce,ce,ee=Number.POSITIVE_INFINITY){return"function"==typeof ce?re=>re.pipe(we((de,ae)=>(0,w.D)(Ce(de,ae)).pipe((0,E.U)((be,Ge)=>ce(de,be,ae,Ge))),ee)):("number"==typeof ce&&(ee=ce),re=>re.lift(new Ne(Ce,ee)))}class Ne{constructor(ce,ee=Number.POSITIVE_INFINITY){this.project=ce,this.concurrent=ee}call(ce,ee){return ee.subscribe(new ve(ce,this.project,this.concurrent))}}class ve extends Y.Ds{constructor(ce,ee,re=Number.POSITIVE_INFINITY){super(ce),this.project=ee,this.concurrent=re,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ce){this.active<this.concurrent?this._tryNext(ce):this.buffer.push(ce)}_tryNext(ce){let ee;const re=this.index++;try{ee=this.project(ce,re)}catch(de){return void this.destination.error(de)}this.active++,this._innerSub(ee)}_innerSub(ce){const ee=new Y.IY(this),re=this.destination;re.add(ee);const de=(0,Y.ft)(ce,ee);de!==ee&&re.add(de)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ce){this.destination.next(ce)}notifyComplete(){const ce=this.buffer;this.active--,ce.length>0?this._next(ce.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Nt,We,$)=>{"use strict";$.d(We,{ht:()=>re,QV:()=>ce});var E=$(7393),w=$(9193),Y=$(5917),we=$(7574);class Ce{constructor(be,Ge,Pe){this.kind=be,this.value=Ge,this.error=Pe,this.hasValue="N"===be}observe(be){switch(this.kind){case"N":return be.next&&be.next(this.value);case"E":return be.error&&be.error(this.error);case"C":return be.complete&&be.complete()}}do(be,Ge,Pe){switch(this.kind){case"N":return be&&be(this.value);case"E":return Ge&&Ge(this.error);case"C":return Pe&&Pe()}}accept(be,Ge,Pe){return be&&"function"==typeof be.next?this.observe(be):this.do(be,Ge,Pe)}toObservable(){switch(this.kind){case"N":return(0,Y.of)(this.value);case"E":return ae=this.error,new we.y(Ge=>Ge.error(ae));case"C":return(0,w.c)()}var ae;throw new Error("unexpected notification kind value")}static createNext(be){return void 0!==be?new Ce("N",be):Ce.undefinedValueNotification}static createError(be){return new Ce("E",void 0,be)}static createComplete(){return Ce.completeNotification}}function ce(ae,be=0){return function(Pe){return Pe.lift(new ee(ae,be))}}Ce.completeNotification=new Ce("C"),Ce.undefinedValueNotification=new Ce("N",void 0);class ee{constructor(be,Ge=0){this.scheduler=be,this.delay=Ge}call(be,Ge){return Ge.subscribe(new re(be,this.scheduler,this.delay))}}class re extends E.L{constructor(be,Ge,Pe=0){super(be),this.scheduler=Ge,this.delay=Pe}static dispatch(be){const{notification:Ge,destination:Pe}=be;Ge.observe(Pe),this.unsubscribe()}scheduleMessage(be){this.destination.add(this.scheduler.schedule(re.dispatch,this.delay,new de(be,this.destination)))}_next(be){this.scheduleMessage(Ce.createNext(be))}_error(be){this.scheduleMessage(Ce.createError(be)),this.unsubscribe()}_complete(){this.scheduleMessage(Ce.createComplete()),this.unsubscribe()}}class de{constructor(be,Ge){this.notification=be,this.destination=Ge}}},1307:(Nt,We,$)=>{"use strict";$.d(We,{x:()=>w});var E=$(7393);function w(){return function(ve){return ve.lift(new Y(ve))}}class Y{constructor(ve){this.connectable=ve}call(ve,$e){const{connectable:Ce}=this;Ce._refCount++;const ce=new we(ve,Ce),ee=$e.subscribe(ce);return ce.closed||(ce.connection=Ce.connect()),ee}}class we extends E.L{constructor(ve,$e){super(ve),this.connectable=$e}_unsubscribe(){const{connectable:ve}=this;if(!ve)return void(this.connection=null);this.connectable=null;const $e=ve._refCount;if($e<=0)return void(this.connection=null);if(ve._refCount=$e-1,$e>1)return void(this.connection=null);const{connection:Ce}=this,ce=ve._connection;this.connection=null,ce&&(!Ce||ce===Ce)&&ce.unsubscribe()}}},2145:(Nt,We,$)=>{"use strict";$.d(We,{R:()=>w});var E=$(7393);function w(Ne,ve){let $e=!1;return arguments.length>=2&&($e=!0),function(ce){return ce.lift(new Y(Ne,ve,$e))}}class Y{constructor(ve,$e,Ce=!1){this.accumulator=ve,this.seed=$e,this.hasSeed=Ce}call(ve,$e){return $e.subscribe(new we(ve,this.accumulator,this.seed,this.hasSeed))}}class we extends E.L{constructor(ve,$e,Ce,ce){super(ve),this.accumulator=$e,this._seed=Ce,this.hasSeed=ce,this.index=0}get seed(){return this._seed}set seed(ve){this.hasSeed=!0,this._seed=ve}_next(ve){if(this.hasSeed)return this._tryNext(ve);this.seed=ve,this.destination.next(ve)}_tryNext(ve){const $e=this.index++;let Ce;try{Ce=this.accumulator(this.seed,ve,$e)}catch(ce){this.destination.error(ce)}this.seed=Ce,this.destination.next(Ce)}}},9761:(Nt,We,$)=>{"use strict";$.d(We,{O:()=>Y});var E=$(8071),w=$(4869);function Y(...we){const Ne=we[we.length-1];return(0,w.K)(Ne)?(we.pop(),ve=>(0,E.z)(we,ve,Ne)):ve=>(0,E.z)(we,ve)}},3101:(Nt,We,$)=>{"use strict";$.d(We,{R:()=>Ue});var E=$(7574);let w=1;const Y=Promise.resolve(),we={};function Ne(Ye){return Ye in we&&(delete we[Ye],!0)}const ve={setImmediate(Ye){const Ke=w++;return we[Ke]=!0,Y.then(()=>Ne(Ke)&&Ye()),Ke},clearImmediate(Ye){Ne(Ye)}};var Ce=$(6465),ee=$(6102);const ae=new class extends ee.v{flush(Ke){this.active=!0,this.scheduled=void 0;const{actions:ot}=this;let oe,Xe=-1,Gt=ot.length;Ke=Ke||ot.shift();do{if(oe=Ke.execute(Ke.state,Ke.delay))break}while(++Xe<Gt&&(Ke=ot.shift()));if(this.active=!1,oe){for(;++Xe<Gt&&(Ke=ot.shift());)Ke.unsubscribe();throw oe}}}(class extends Ce.o{constructor(Ke,ot){super(Ke,ot),this.scheduler=Ke,this.work=ot}requestAsyncId(Ke,ot,oe=0){return null!==oe&&oe>0?super.requestAsyncId(Ke,ot,oe):(Ke.actions.push(this),Ke.scheduled||(Ke.scheduled=ve.setImmediate(Ke.flush.bind(Ke,null))))}recycleAsyncId(Ke,ot,oe=0){if(null!==oe&&oe>0||null===oe&&this.delay>0)return super.recycleAsyncId(Ke,ot,oe);0===Ke.actions.length&&(ve.clearImmediate(ot),Ke.scheduled=void 0)}});var be=$(9796);class Pe extends E.y{constructor(Ke,ot=0,oe=ae){var Ye;super(),this.source=Ke,this.delayTime=ot,this.scheduler=oe,(!(!(0,be.k)(Ye=ot)&&Ye-parseFloat(Ye)+1>=0)||ot<0)&&(this.delayTime=0),(!oe||"function"!=typeof oe.schedule)&&(this.scheduler=ae)}static create(Ke,ot=0,oe=ae){return new Pe(Ke,ot,oe)}static dispatch(Ke){const{source:ot,subscriber:oe}=Ke;return this.add(ot.subscribe(oe))}_subscribe(Ke){return this.scheduler.schedule(Pe.dispatch,this.delayTime,{source:this.source,subscriber:Ke})}}function Ue(Ye,Ke=0){return function(oe){return oe.lift(new he(Ye,Ke))}}class he{constructor(Ke,ot){this.scheduler=Ke,this.delay=ot}call(Ke,ot){return new Pe(ot,this.delay,this.scheduler).subscribe(Ke)}}},3190:(Nt,We,$)=>{"use strict";$.d(We,{w:()=>we});var E=$(8002),w=$(4402),Y=$(5345);function we($e,Ce){return"function"==typeof Ce?ce=>ce.pipe(we((ee,re)=>(0,w.D)($e(ee,re)).pipe((0,E.U)((de,ae)=>Ce(ee,de,re,ae))))):ce=>ce.lift(new Ne($e))}class Ne{constructor(Ce){this.project=Ce}call(Ce,ce){return ce.subscribe(new ve(Ce,this.project))}}class ve extends Y.Ds{constructor(Ce,ce){super(Ce),this.project=ce,this.index=0}_next(Ce){let ce;const ee=this.index++;try{ce=this.project(Ce,ee)}catch(re){return void this.destination.error(re)}this._innerSub(ce)}_innerSub(Ce){const ce=this.innerSubscription;ce&&ce.unsubscribe();const ee=new Y.IY(this),re=this.destination;re.add(ee),this.innerSubscription=(0,Y.ft)(Ce,ee),this.innerSubscription!==ee&&re.add(this.innerSubscription)}_complete(){const{innerSubscription:Ce}=this;(!Ce||Ce.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Ce){this.destination.next(Ce)}}},5257:(Nt,We,$)=>{"use strict";$.d(We,{q:()=>we});var E=$(7393),w=$(7108),Y=$(9193);function we($e){return Ce=>0===$e?(0,Y.c)():Ce.lift(new Ne($e))}class Ne{constructor(Ce){if(this.total=Ce,this.total<0)throw new w.W}call(Ce,ce){return ce.subscribe(new ve(Ce,this.total))}}class ve extends E.L{constructor(Ce,ce){super(Ce),this.total=ce,this.count=0}_next(Ce){const ce=this.total,ee=++this.count;ee<=ce&&(this.destination.next(Ce),ee===ce&&(this.destination.complete(),this.unsubscribe()))}}},3342:(Nt,We,$)=>{"use strict";$.d(We,{b:()=>we});var E=$(7393);function w(){}var Y=$(9105);function we($e,Ce,ce){return function(re){return re.lift(new Ne($e,Ce,ce))}}class Ne{constructor(Ce,ce,ee){this.nextOrObserver=Ce,this.error=ce,this.complete=ee}call(Ce,ce){return ce.subscribe(new ve(Ce,this.nextOrObserver,this.error,this.complete))}}class ve extends E.L{constructor(Ce,ce,ee,re){super(Ce),this._tapNext=w,this._tapError=w,this._tapComplete=w,this._tapError=ee||w,this._tapComplete=re||w,(0,Y.m)(ce)?(this._context=this,this._tapNext=ce):ce&&(this._context=ce,this._tapNext=ce.next||w,this._tapError=ce.error||w,this._tapComplete=ce.complete||w)}_next(Ce){try{this._tapNext.call(this._context,Ce)}catch(ce){return void this.destination.error(ce)}this.destination.next(Ce)}_error(Ce){try{this._tapError.call(this._context,Ce)}catch(ce){return void this.destination.error(ce)}this.destination.error(Ce)}_complete(){try{this._tapComplete.call(this._context)}catch(Ce){return void this.destination.error(Ce)}return this.destination.complete()}}},4635:(Nt,We,$)=>{"use strict";$.d(We,{T:()=>Y});var E=$(3410),w=$(7393);function Y($e=ve){return Ce=>Ce.lift(new we($e))}class we{constructor(Ce){this.errorFactory=Ce}call(Ce,ce){return ce.subscribe(new Ne(Ce,this.errorFactory))}}class Ne extends w.L{constructor(Ce,ce){super(Ce),this.errorFactory=ce,this.hasValue=!1}_next(Ce){this.hasValue=!0,this.destination.next(Ce)}_complete(){if(this.hasValue)return this.destination.complete();{let Ce;try{Ce=this.errorFactory()}catch(ce){Ce=ce}this.destination.error(Ce)}}}function ve(){return new E.K}},4087:(Nt,We,$)=>{"use strict";$.d(We,{r:()=>Y});var E=$(7574),w=$(5319);function Y(we,Ne){return new E.y(ve=>{const $e=new w.w;let Ce=0;return $e.add(Ne.schedule(function(){Ce!==we.length?(ve.next(we[Ce++]),ve.closed||$e.add(this.schedule())):ve.complete()})),$e})}},6465:(Nt,We,$)=>{"use strict";$.d(We,{o:()=>Y});var E=$(5319);class w extends E.w{constructor(Ne,ve){super()}schedule(Ne,ve=0){return this}}class Y extends w{constructor(Ne,ve){super(Ne,ve),this.scheduler=Ne,this.work=ve,this.pending=!1}schedule(Ne,ve=0){if(this.closed)return this;this.state=Ne;const $e=this.id,Ce=this.scheduler;return null!=$e&&(this.id=this.recycleAsyncId(Ce,$e,ve)),this.pending=!0,this.delay=ve,this.id=this.id||this.requestAsyncId(Ce,this.id,ve),this}requestAsyncId(Ne,ve,$e=0){return setInterval(Ne.flush.bind(Ne,this),$e)}recycleAsyncId(Ne,ve,$e=0){if(null!==$e&&this.delay===$e&&!1===this.pending)return ve;clearInterval(ve)}execute(Ne,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(Ne,ve);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,ve){let Ce,$e=!1;try{this.work(Ne)}catch(ce){$e=!0,Ce=!!ce&&ce||new Error(ce)}if($e)return this.unsubscribe(),Ce}_unsubscribe(){const Ne=this.id,ve=this.scheduler,$e=ve.actions,Ce=$e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Ce&&$e.splice(Ce,1),null!=Ne&&(this.id=this.recycleAsyncId(ve,Ne,null)),this.delay=null}}},6102:(Nt,We,$)=>{"use strict";$.d(We,{v:()=>w});let E=(()=>{class Y{constructor(Ne,ve=Y.now){this.SchedulerAction=Ne,this.now=ve}schedule(Ne,ve=0,$e){return new this.SchedulerAction(this,Ne).schedule($e,ve)}}return Y.now=()=>Date.now(),Y})();class w extends E{constructor(we,Ne=E.now){super(we,()=>w.delegate&&w.delegate!==this?w.delegate.now():Ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(we,Ne=0,ve){return w.delegate&&w.delegate!==this?w.delegate.schedule(we,Ne,ve):super.schedule(we,Ne,ve)}flush(we){const{actions:Ne}=this;if(this.active)return void Ne.push(we);let ve;this.active=!0;do{if(ve=we.execute(we.state,we.delay))break}while(we=Ne.shift());if(this.active=!1,ve){for(;we=Ne.shift();)we.unsubscribe();throw ve}}}},3637:(Nt,We,$)=>{"use strict";$.d(We,{z:()=>Y});var E=$(6465);const Y=new($(6102).v)(E.o)},7771:(Nt,We,$)=>{"use strict";$.d(We,{c:()=>ve,N:()=>Ne});var E=$(6465),Y=$(6102);const Ne=new class extends Y.v{}(class extends E.o{constructor(Ce,ce){super(Ce,ce),this.scheduler=Ce,this.work=ce}schedule(Ce,ce=0){return ce>0?super.schedule(Ce,ce):(this.delay=ce,this.state=Ce,this.scheduler.flush(this),this)}execute(Ce,ce){return ce>0||this.closed?super.execute(Ce,ce):this._execute(Ce,ce)}requestAsyncId(Ce,ce,ee=0){return null!==ee&&ee>0||null===ee&&this.delay>0?super.requestAsyncId(Ce,ce,ee):Ce.flush(this)}}),ve=Ne},377:(Nt,We,$)=>{"use strict";$.d(We,{hZ:()=>w});const w="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Nt,We,$)=>{"use strict";$.d(We,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Nt,We,$)=>{"use strict";$.d(We,{b:()=>E});const E="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Nt,We,$)=>{"use strict";$.d(We,{W:()=>w});const w=(()=>{function Y(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return Y.prototype=Object.create(Error.prototype),Y})()},3410:(Nt,We,$)=>{"use strict";$.d(We,{K:()=>w});const w=(()=>{function Y(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return Y.prototype=Object.create(Error.prototype),Y})()},7971:(Nt,We,$)=>{"use strict";$.d(We,{N:()=>w});const w=(()=>{function Y(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Y.prototype=Object.create(Error.prototype),Y})()},4449:(Nt,We,$)=>{"use strict";function E(w){setTimeout(()=>{throw w},0)}$.d(We,{z:()=>E})},4487:(Nt,We,$)=>{"use strict";function E(w){return w}$.d(We,{y:()=>E})},9796:(Nt,We,$)=>{"use strict";$.d(We,{k:()=>E});const E=Array.isArray||(w=>w&&"number"==typeof w.length)},9489:(Nt,We,$)=>{"use strict";$.d(We,{z:()=>E});const E=w=>w&&"number"==typeof w.length&&"function"!=typeof w},9105:(Nt,We,$)=>{"use strict";function E(w){return"function"==typeof w}$.d(We,{m:()=>E})},1555:(Nt,We,$)=>{"use strict";function E(w){return null!==w&&"object"==typeof w}$.d(We,{K:()=>E})},4072:(Nt,We,$)=>{"use strict";function E(w){return!!w&&"function"!=typeof w.subscribe&&"function"==typeof w.then}$.d(We,{t:()=>E})},4869:(Nt,We,$)=>{"use strict";function E(w){return w&&"function"==typeof w.schedule}$.d(We,{K:()=>E})},7444:(Nt,We,$)=>{"use strict";$.d(We,{s:()=>re});var E=$(5015),w=$(4449),we=$(377),ve=$(6554),Ce=$(9489),ce=$(4072),ee=$(1555);const re=de=>{if(de&&"function"==typeof de[ve.L])return(de=>ae=>{const be=de[ve.L]();if("function"!=typeof be.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return be.subscribe(ae)})(de);if((0,Ce.z)(de))return(0,E.V)(de);if((0,ce.t)(de))return(de=>ae=>(de.then(be=>{ae.closed||(ae.next(be),ae.complete())},be=>ae.error(be)).then(null,w.z),ae))(de);if(de&&"function"==typeof de[we.hZ])return(de=>ae=>{const be=de[we.hZ]();for(;;){let Ge;try{Ge=be.next()}catch(Pe){return ae.error(Pe),ae}if(Ge.done){ae.complete();break}if(ae.next(Ge.value),ae.closed)break}return"function"==typeof be.return&&ae.add(()=>{be.return&&be.return()}),ae})(de);{const be=`You provided ${(0,ee.K)(de)?"an invalid object":`'${de}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(be)}}},5015:(Nt,We,$)=>{"use strict";$.d(We,{V:()=>E});const E=w=>Y=>{for(let we=0,Ne=w.length;we<Ne&&!Y.closed;we++)Y.next(w[we]);Y.complete()}},8259:function(Nt){Nt.exports=function(){"use strict";const We=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),$="SweetAlert2:",w=M=>M.charAt(0).toUpperCase()+M.slice(1),Y=M=>Array.prototype.slice.call(M),we=M=>{console.warn("".concat($," ").concat("object"==typeof M?M.join(" "):M))},Ne=M=>{console.error("".concat($," ").concat(M))},ve=[],Ce=(M,x)=>{(M=>{ve.includes(M)||(ve.push(M),we(M))})('"'.concat(M,'" is deprecated and will be removed in the next major release. Please use "').concat(x,'" instead.'))},ce=M=>"function"==typeof M?M():M,ee=M=>M&&"function"==typeof M.toPromise,re=M=>ee(M)?M.toPromise():Promise.resolve(M),de=M=>M&&Promise.resolve(M)===M,be=M=>M instanceof Element||(M=>"object"==typeof M&&M.jquery)(M),Ue=M=>{const x={};for(const B in M)x[M[B]]="swal2-"+M[B];return x},he=Ue(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),Ye=Ue(["success","warning","info","question","error"]),Ke=()=>document.body.querySelector(".".concat(he.container)),ot=M=>{const x=Ke();return x?x.querySelector(M):null},oe=M=>ot(".".concat(M)),Xe=()=>oe(he.popup),Gt=()=>oe(he.icon),et=()=>oe(he.title),gt=()=>oe(he["html-container"]),Fe=()=>oe(he.image),Ze=()=>oe(he["progress-steps"]),Le=()=>oe(he["validation-message"]),ke=()=>ot(".".concat(he.actions," .").concat(he.confirm)),ye=()=>ot(".".concat(he.actions," .").concat(he.deny)),Be=()=>ot(".".concat(he.loader)),bt=()=>ot(".".concat(he.actions," .").concat(he.cancel)),Zt=()=>oe(he.actions),ct=()=>oe(he.footer),pt=()=>oe(he["timer-progress-bar"]),Rt=()=>oe(he.close),gn=()=>{const M=Y(Xe().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((B,me)=>(B=parseInt(B.getAttribute("tabindex")))>(me=parseInt(me.getAttribute("tabindex")))?1:B<me?-1:0),x=Y(Xe().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(B=>"-1"!==B.getAttribute("tabindex"));return(M=>{const x=[];for(let B=0;B<M.length;B++)-1===x.indexOf(M[B])&&x.push(M[B]);return x})(M.concat(x)).filter(B=>Jt(B))},mn=()=>!ht()&&!document.body.classList.contains(he["no-backdrop"]),ht=()=>document.body.classList.contains(he["toast-shown"]),Lt={previousBodyPadding:null},kt=(M,x)=>{if(M.textContent="",x){const me=(new DOMParser).parseFromString(x,"text/html");Y(me.querySelector("head").childNodes).forEach(st=>{M.appendChild(st)}),Y(me.querySelector("body").childNodes).forEach(st=>{M.appendChild(st)})}},$n=(M,x)=>{if(!x)return!1;const B=x.split(/\s+/);for(let me=0;me<B.length;me++)if(!M.classList.contains(B[me]))return!1;return!0},er=(M,x,B)=>{if(((M,x)=>{Y(M.classList).forEach(B=>{!Object.values(he).includes(B)&&!Object.values(Ye).includes(B)&&!Object.values(x.showClass).includes(B)&&M.classList.remove(B)})})(M,x),x.customClass&&x.customClass[B]){if("string"!=typeof x.customClass[B]&&!x.customClass[B].forEach)return we("Invalid type of customClass.".concat(B,'! Expected string or iterable object, got "').concat(typeof x.customClass[B],'"'));Pt(M,x.customClass[B])}},gr=(M,x)=>{if(!x)return null;switch(x){case"select":case"textarea":case"file":return Dn(M,he[x]);case"checkbox":return M.querySelector(".".concat(he.checkbox," input"));case"radio":return M.querySelector(".".concat(he.radio," input:checked"))||M.querySelector(".".concat(he.radio," input:first-child"));case"range":return M.querySelector(".".concat(he.range," input"));default:return Dn(M,he.input)}},Ln=M=>{if(M.focus(),"file"!==M.type){const x=M.value;M.value="",M.value=x}},bn=(M,x,B)=>{!M||!x||("string"==typeof x&&(x=x.split(/\s+/).filter(Boolean)),x.forEach(me=>{M.forEach?M.forEach(st=>{B?st.classList.add(me):st.classList.remove(me)}):B?M.classList.add(me):M.classList.remove(me)}))},Pt=(M,x)=>{bn(M,x,!0)},vn=(M,x)=>{bn(M,x,!1)},Dn=(M,x)=>{for(let B=0;B<M.childNodes.length;B++)if($n(M.childNodes[B],x))return M.childNodes[B]},Tt=(M,x,B)=>{B==="".concat(parseInt(B))&&(B=parseInt(B)),B||0===parseInt(B)?M.style[x]="number"==typeof B?"".concat(B,"px"):B:M.style.removeProperty(x)},Qt=(M,x="flex")=>{M.style.display=x},$t=M=>{M.style.display="none"},zt=(M,x,B,me)=>{const st=M.querySelector(x);st&&(st.style[B]=me)},rt=(M,x,B)=>{x?Qt(M,B):$t(M)},Jt=M=>!(!M||!(M.offsetWidth||M.offsetHeight||M.getClientRects().length)),Gn=M=>M.scrollHeight>M.clientHeight,wn=M=>{const x=window.getComputedStyle(M),B=parseFloat(x.getPropertyValue("animation-duration")||"0"),me=parseFloat(x.getPropertyValue("transition-duration")||"0");return B>0||me>0},xt=(M,x=!1)=>{const B=pt();Jt(B)&&(x&&(B.style.transition="none",B.style.width="100%"),setTimeout(()=>{B.style.transition="width ".concat(M/1e3,"s linear"),B.style.width="0%"},10))},Er=()=>"undefined"==typeof window||"undefined"==typeof document,pi='\n <div aria-labelledby="'.concat(he.title,'" aria-describedby="').concat(he["html-container"],'" class="').concat(he.popup,'" tabindex="-1">\n   <button type="button" class="').concat(he.close,'"></button>\n   <ul class="').concat(he["progress-steps"],'"></ul>\n   <div class="').concat(he.icon,'"></div>\n   <img class="').concat(he.image,'" />\n   <h2 class="').concat(he.title,'" id="').concat(he.title,'"></h2>\n   <div class="').concat(he["html-container"],'" id="').concat(he["html-container"],'"></div>\n   <input class="').concat(he.input,'" />\n   <input type="file" class="').concat(he.file,'" />\n   <div class="').concat(he.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(he.select,'"></select>\n   <div class="').concat(he.radio,'"></div>\n   <label for="').concat(he.checkbox,'" class="').concat(he.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(he.label,'"></span>\n   </label>\n   <textarea class="').concat(he.textarea,'"></textarea>\n   <div class="').concat(he["validation-message"],'" id="').concat(he["validation-message"],'"></div>\n   <div class="').concat(he.actions,'">\n     <div class="').concat(he.loader,'"></div>\n     <button type="button" class="').concat(he.confirm,'"></button>\n     <button type="button" class="').concat(he.deny,'"></button>\n     <button type="button" class="').concat(he.cancel,'"></button>\n   </div>\n   <div class="').concat(he.footer,'"></div>\n   <div class="').concat(he["timer-progress-bar-container"],'">\n     <div class="').concat(he["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Rn=()=>{Ks.isVisible()&&Ks.resetValidationMessage()},ne=M=>{const x=(()=>{const M=Ke();return!!M&&(M.remove(),vn([document.documentElement,document.body],[he["no-backdrop"],he["toast-shown"],he["has-column"]]),!0)})();if(Er())return void Ne("SweetAlert2 requires document to initialize");const B=document.createElement("div");B.className=he.container,x&&Pt(B,he["no-transition"]),kt(B,pi);const me=(M=>"string"==typeof M?document.querySelector(M):M)(M.target);me.appendChild(B),(M=>{const x=Xe();x.setAttribute("role",M.toast?"alert":"dialog"),x.setAttribute("aria-live",M.toast?"polite":"assertive"),M.toast||x.setAttribute("aria-modal","true")})(M),(M=>{"rtl"===window.getComputedStyle(M).direction&&Pt(Ke(),he.rtl)})(me),(()=>{const M=Xe(),x=Dn(M,he.input),B=Dn(M,he.file),me=M.querySelector(".".concat(he.range," input")),st=M.querySelector(".".concat(he.range," output")),un=Dn(M,he.select),Wn=M.querySelector(".".concat(he.checkbox," input")),wr=Dn(M,he.textarea);x.oninput=Rn,B.onchange=Rn,un.onchange=Rn,Wn.onchange=Rn,wr.oninput=Rn,me.oninput=()=>{Rn(),st.value=me.value},me.onchange=()=>{Rn(),me.nextSibling.value=me.value}})()},Se=(M,x)=>{M instanceof HTMLElement?x.appendChild(M):"object"==typeof M?qe(M,x):M&&kt(x,M)},qe=(M,x)=>{M.jquery?Oe(x,M):kt(x,M.toString())},Oe=(M,x)=>{if(M.textContent="",0 in x)for(let B=0;B in x;B++)M.appendChild(x[B].cloneNode(!0));else M.appendChild(x.cloneNode(!0))},nt=(()=>{if(Er())return!1;const M=document.createElement("div"),x={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const B in x)if(Object.prototype.hasOwnProperty.call(x,B)&&void 0!==M.style[B])return x[B];return!1})(),rn=(M,x)=>{const B=Zt(),me=Be(),st=ke(),un=ye(),Wn=bt();x.showConfirmButton||x.showDenyButton||x.showCancelButton?Qt(B):$t(B),er(B,x,"actions"),yn(st,"confirm",x),yn(un,"deny",x),yn(Wn,"cancel",x),function(M,x,B,me){if(!me.buttonsStyling)return vn([M,x,B],he.styled);Pt([M,x,B],he.styled),me.confirmButtonColor&&(M.style.backgroundColor=me.confirmButtonColor,Pt(M,he["default-outline"])),me.denyButtonColor&&(x.style.backgroundColor=me.denyButtonColor,Pt(x,he["default-outline"])),me.cancelButtonColor&&(B.style.backgroundColor=me.cancelButtonColor,Pt(B,he["default-outline"]))}(st,un,Wn,x),x.reverseButtons&&(B.insertBefore(Wn,me),B.insertBefore(un,me),B.insertBefore(st,me)),kt(me,x.loaderHtml),er(me,x,"loader")};function yn(M,x,B){rt(M,B["show".concat(w(x),"Button")],"inline-block"),kt(M,B["".concat(x,"ButtonText")]),M.setAttribute("aria-label",B["".concat(x,"ButtonAriaLabel")]),M.className=he[x],er(M,B,"".concat(x,"Button")),Pt(M,B["".concat(x,"ButtonClass")])}const Ee=(M,x)=>{const B=Ke();!B||(function(M,x){"string"==typeof x?M.style.background=x:x||Pt([document.documentElement,document.body],he["no-backdrop"])}(B,x.backdrop),function(M,x){x in he?Pt(M,he[x]):(we('The "position" parameter is not valid, defaulting to "center"'),Pt(M,he.center))}(B,x.position),function(M,x){if(x&&"string"==typeof x){const B="grow-".concat(x);B in he&&Pt(M,he[B])}}(B,x.grow),er(B,x,"container"))};var ze={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const It=["input","file","range","select","radio","checkbox","textarea"],cn=M=>{if(!St[M.input])return Ne('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(M.input,'"'));const x=mr(M.input),B=St[M.input](x,M);Qt(B),setTimeout(()=>{Ln(B)})},Yn=(M,x)=>{const B=gr(Xe(),M);if(B){(M=>{for(let x=0;x<M.attributes.length;x++){const B=M.attributes[x].name;["type","value","style"].includes(B)||M.removeAttribute(B)}})(B);for(const me in x)B.setAttribute(me,x[me])}},An=M=>{const x=mr(M.input);M.customClass&&Pt(x,M.customClass.input)},tr=(M,x)=>{(!M.placeholder||x.inputPlaceholder)&&(M.placeholder=x.inputPlaceholder)},sn=(M,x,B)=>{if(B.inputLabel){M.id=he.input;const me=document.createElement("label"),st=he["input-label"];me.setAttribute("for",M.id),me.className=st,Pt(me,B.customClass.inputLabel),me.innerText=B.inputLabel,x.insertAdjacentElement("beforebegin",me)}},mr=M=>{const x=he[M]?he[M]:he.input;return Dn(Xe(),x)},St={};St.text=St.email=St.password=St.number=St.tel=St.url=(M,x)=>("string"==typeof x.inputValue||"number"==typeof x.inputValue?M.value=x.inputValue:de(x.inputValue)||we('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof x.inputValue,'"')),sn(M,M,x),tr(M,x),M.type=x.input,M),St.file=(M,x)=>(sn(M,M,x),tr(M,x),M),St.range=(M,x)=>{const B=M.querySelector("input"),me=M.querySelector("output");return B.value=x.inputValue,B.type=x.input,me.value=x.inputValue,sn(B,M,x),M},St.select=(M,x)=>{if(M.textContent="",x.inputPlaceholder){const B=document.createElement("option");kt(B,x.inputPlaceholder),B.value="",B.disabled=!0,B.selected=!0,M.appendChild(B)}return sn(M,M,x),M},St.radio=M=>(M.textContent="",M),St.checkbox=(M,x)=>{const B=gr(Xe(),"checkbox");B.value=1,B.id=he.checkbox,B.checked=Boolean(x.inputValue);const me=M.querySelector("span");return kt(me,x.inputPlaceholder),M},St.textarea=(M,x)=>{M.value=x.inputValue,tr(M,x),sn(M,M,x);return setTimeout(()=>{if("MutationObserver"in window){const me=parseInt(window.getComputedStyle(Xe()).width);new MutationObserver(()=>{const un=M.offsetWidth+(me=>parseInt(window.getComputedStyle(me).marginLeft)+parseInt(window.getComputedStyle(me).marginRight))(M);Xe().style.width=un>me?"".concat(un,"px"):null}).observe(M,{attributes:!0,attributeFilter:["style"]})}}),M};const jr=(M,x)=>{const B=gt();er(B,x,"htmlContainer"),x.html?(Se(x.html,B),Qt(B,"block")):x.text?(B.textContent=x.text,Qt(B,"block")):$t(B),((M,x)=>{const B=Xe(),me=ze.innerParams.get(M),st=!me||x.input!==me.input;It.forEach(un=>{const Wn=he[un],wr=Dn(B,Wn);Yn(un,x.inputAttributes),wr.className=Wn,st&&$t(wr)}),x.input&&(st&&cn(x),An(x))})(M,x)},xr=(M,x)=>{for(const B in Ye)x.icon!==B&&vn(M,Ye[B]);Pt(M,Ye[x.icon]),Qn(M,x),vt(),er(M,x,"icon")},vt=()=>{const M=Xe(),x=window.getComputedStyle(M).getPropertyValue("background-color"),B=M.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let me=0;me<B.length;me++)B[me].style.backgroundColor=x},en=(M,x)=>{M.textContent="",kt(M,x.iconHtml?Cn(x.iconHtml):"success"===x.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===x.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':Cn({question:"?",warning:"!",info:"i"}[x.icon]))},Qn=(M,x)=>{if(x.iconColor){M.style.color=x.iconColor,M.style.borderColor=x.iconColor;for(const B of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])zt(M,B,"backgroundColor",x.iconColor);zt(M,".swal2-success-ring","borderColor",x.iconColor)}},Cn=M=>'<div class="'.concat(he["icon-content"],'">').concat(M,"</div>"),nr=(M,x)=>{const B=Ze();if(!x.progressSteps||0===x.progressSteps.length)return $t(B);Qt(B),B.textContent="",x.currentProgressStep>=x.progressSteps.length&&we("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),x.progressSteps.forEach((me,st)=>{const un=(M=>{const x=document.createElement("li");return Pt(x,he["progress-step"]),kt(x,M),x})(me);if(B.appendChild(un),st===x.currentProgressStep&&Pt(un,he["active-progress-step"]),st!==x.progressSteps.length-1){const Wn=(M=>{const x=document.createElement("li");return Pt(x,he["progress-step-line"]),M.progressStepsDistance&&(x.style.width=M.progressStepsDistance),x})(x);B.appendChild(Wn)}})},fn=(M,x)=>{M.className="".concat(he.popup," ").concat(Jt(M)?x.showClass.popup:""),x.toast?(Pt([document.documentElement,document.body],he["toast-shown"]),Pt(M,he.toast)):Pt(M,he.modal),er(M,x,"popup"),"string"==typeof x.customClass&&Pt(M,x.customClass),x.icon&&Pt(M,he["icon-".concat(x.icon)])},Hi=(M,x)=>{((M,x)=>{const B=Ke(),me=Xe();x.toast?(Tt(B,"width",x.width),me.style.width="100%",me.insertBefore(Be(),Gt())):Tt(me,"width",x.width),Tt(me,"padding",x.padding),x.background&&(me.style.background=x.background),$t(Le()),fn(me,x)})(0,x),Ee(0,x),nr(0,x),((M,x)=>{const B=ze.innerParams.get(M),me=Gt();B&&x.icon===B.icon?(en(me,x),xr(me,x)):x.icon||x.iconHtml?x.icon&&-1===Object.keys(Ye).indexOf(x.icon)?(Ne('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(x.icon,'"')),$t(me)):(Qt(me),en(me,x),xr(me,x),Pt(me,x.showClass.icon)):$t(me)})(M,x),((M,x)=>{const B=Fe();if(!x.imageUrl)return $t(B);Qt(B,""),B.setAttribute("src",x.imageUrl),B.setAttribute("alt",x.imageAlt),Tt(B,"width",x.imageWidth),Tt(B,"height",x.imageHeight),B.className=he.image,er(B,x,"image")})(0,x),((M,x)=>{const B=et();rt(B,x.title||x.titleText,"block"),x.title&&Se(x.title,B),x.titleText&&(B.innerText=x.titleText),er(B,x,"title")})(0,x),((M,x)=>{const B=Rt();kt(B,x.closeButtonHtml),er(B,x,"closeButton"),rt(B,x.showCloseButton),B.setAttribute("aria-label",x.closeButtonAriaLabel)})(0,x),jr(M,x),rn(0,x),((M,x)=>{const B=ct();rt(B,x.footer),x.footer&&Se(x.footer,B),er(B,x,"footer")})(0,x),"function"==typeof x.didRender&&x.didRender(Xe())},ai=()=>ke()&&ke().click();const _r=M=>{let x=Xe();x||Ks.fire(),x=Xe();const B=Be();ht()?$t(Gt()):Un(x,M),Qt(B),x.setAttribute("data-loading",!0),x.setAttribute("aria-busy",!0),x.focus()},Un=(M,x)=>{const B=Zt(),me=Be();!x&&Jt(ke())&&(x=ke()),Qt(B),x&&($t(x),me.setAttribute("data-button-to-replace",x.className)),me.parentNode.insertBefore(me,x),Pt([M,B],he.loading)},Wt={},Tr=M=>new Promise(x=>{if(!M)return x();const B=window.scrollX,me=window.scrollY;Wt.restoreFocusTimeout=setTimeout(()=>{Wt.previousActiveElement&&Wt.previousActiveElement.focus?(Wt.previousActiveElement.focus(),Wt.previousActiveElement=null):document.body&&document.body.focus(),x()},100),window.scrollTo(B,me)}),Gr=()=>{if(Wt.timeout)return(()=>{const M=pt(),x=parseInt(window.getComputedStyle(M).width);M.style.removeProperty("transition"),M.style.width="100%";const B=parseInt(window.getComputedStyle(M).width),me=parseInt(x/B*100);M.style.removeProperty("transition"),M.style.width="".concat(me,"%")})(),Wt.timeout.stop()},mi=()=>{if(Wt.timeout){const M=Wt.timeout.start();return xt(M),M}};let jn=!1;const Ci={};const Xr=M=>{for(let x=M.target;x&&x!==document;x=x.parentNode)for(const B in Ci){const me=x.getAttribute(B);if(me)return void Ci[B].fire({template:me})}},hr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Xi=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ni={},$i=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ii=M=>Object.prototype.hasOwnProperty.call(hr,M),ms=M=>Ni[M],te=M=>{Ii(M)||we('Unknown parameter "'.concat(M,'"'))},se=M=>{$i.includes(M)&&we('The parameter "'.concat(M,'" is incompatible with toasts'))},G=M=>{ms(M)&&Ce(M,ms(M))};var Ve=Object.freeze({isValidParameter:Ii,isUpdatableParameter:M=>-1!==Xi.indexOf(M),isDeprecatedParameter:ms,argsToParams:M=>{const x={};return"object"!=typeof M[0]||be(M[0])?["title","html","icon"].forEach((B,me)=>{const st=M[me];"string"==typeof st||be(st)?x[B]=st:void 0!==st&&Ne("Unexpected type of ".concat(B,'! Expected "string" or "Element", got ').concat(typeof st))}):Object.assign(x,M[0]),x},isVisible:()=>Jt(Xe()),clickConfirm:ai,clickDeny:()=>ye()&&ye().click(),clickCancel:()=>bt()&&bt().click(),getContainer:Ke,getPopup:Xe,getTitle:et,getHtmlContainer:gt,getImage:Fe,getIcon:Gt,getInputLabel:()=>oe(he["input-label"]),getCloseButton:Rt,getActions:Zt,getConfirmButton:ke,getDenyButton:ye,getCancelButton:bt,getLoader:Be,getFooter:ct,getTimerProgressBar:pt,getFocusableElements:gn,getValidationMessage:Le,isLoading:()=>Xe().hasAttribute("data-loading"),fire:function(...M){return new this(...M)},mixin:function(M){return class extends(this){_main(me,st){return super._main(me,Object.assign({},M,st))}}},showLoading:_r,enableLoading:_r,getTimerLeft:()=>Wt.timeout&&Wt.timeout.getTimerLeft(),stopTimer:Gr,resumeTimer:mi,toggleTimer:()=>{const M=Wt.timeout;return M&&(M.running?Gr():mi())},increaseTimer:M=>{if(Wt.timeout){const x=Wt.timeout.increase(M);return xt(x,!0),x}},isTimerRunning:()=>Wt.timeout&&Wt.timeout.isRunning(),bindClickHandler:function(M="data-swal-template"){Ci[M]=this,jn||(document.body.addEventListener("click",Xr),jn=!0)}});function mt(){const M=ze.innerParams.get(this);if(!M)return;const x=ze.domCache.get(this);$t(x.loader),ht()?M.icon&&Qt(Gt()):Ut(x),vn([x.popup,x.actions],he.loading),x.popup.removeAttribute("aria-busy"),x.popup.removeAttribute("data-loading"),x.confirmButton.disabled=!1,x.denyButton.disabled=!1,x.cancelButton.disabled=!1}const Ut=M=>{const x=M.popup.getElementsByClassName(M.loader.getAttribute("data-button-to-replace"));x.length?Qt(x[0],"inline-block"):!Jt(ke())&&!Jt(ye())&&!Jt(bt())&&$t(M.actions)};const fr=()=>{null===Lt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Lt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Lt.previousBodyPadding+(()=>{const M=document.createElement("div");M.className=he["scrollbar-measure"],document.body.appendChild(M);const x=M.getBoundingClientRect().width-M.clientWidth;return document.body.removeChild(M),x})(),"px"))},es=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const x=44;Xe().scrollHeight>window.innerHeight-x&&(Ke().style.paddingBottom="".concat(x,"px"))}},Hs=()=>{const M=Ke();let x;M.ontouchstart=B=>{x=_s(B)},M.ontouchmove=B=>{x&&(B.preventDefault(),B.stopPropagation())}},_s=M=>{const x=M.target,B=Ke();return!(ts(M)||ns(M)||x!==B&&(Gn(B)||"INPUT"===x.tagName||"TEXTAREA"===x.tagName||Gn(gt())&&gt().contains(x)))},ts=M=>M.touches&&M.touches.length&&"stylus"===M.touches[0].touchType,ns=M=>M.touches&&M.touches.length>1,Gi=()=>{Y(document.body.children).forEach(x=>{x.hasAttribute("data-previous-aria-hidden")?(x.setAttribute("aria-hidden",x.getAttribute("data-previous-aria-hidden")),x.removeAttribute("data-previous-aria-hidden")):x.removeAttribute("aria-hidden")})};var qi={swalPromiseResolve:new WeakMap};function ei(M,x,B,me){ht()?ti(M,me):(Tr(B).then(()=>ti(M,me)),Wt.keydownTarget.removeEventListener("keydown",Wt.keydownHandler,{capture:Wt.keydownListenerCapture}),Wt.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(x.setAttribute("style","display:none !important"),x.removeAttribute("class"),x.innerHTML=""):x.remove(),mn()&&(null!==Lt.previousBodyPadding&&(document.body.style.paddingRight="".concat(Lt.previousBodyPadding,"px"),Lt.previousBodyPadding=null),(()=>{if($n(document.body,he.iosfix)){const M=parseInt(document.body.style.top,10);vn(document.body,he.iosfix),document.body.style.top="",document.body.scrollTop=-1*M}})(),Gi()),vn([document.documentElement,document.body],[he.shown,he["height-auto"],he["no-backdrop"],he["toast-shown"]])}function Gs(M){const x=Xe();if(!x)return;M=ki(M);const B=ze.innerParams.get(this);if(!B||$n(x,B.hideClass.popup))return;const me=qi.swalPromiseResolve.get(this);vn(x,B.showClass.popup),Pt(x,B.hideClass.popup);const st=Ke();vn(st,B.showClass.backdrop),Pt(st,B.hideClass.backdrop),qr(this,x,B),me(M)}const ki=M=>void 0===M?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},M),qr=(M,x,B)=>{const me=Ke(),st=nt&&wn(x);"function"==typeof B.willClose&&B.willClose(x),st?Di(M,x,me,B.returnFocus,B.didClose):ei(M,me,B.returnFocus,B.didClose)},Di=(M,x,B,me,st)=>{Wt.swalCloseEventFinishedCallback=ei.bind(null,M,B,me,st),x.addEventListener(nt,function(un){un.target===x&&(Wt.swalCloseEventFinishedCallback(),delete Wt.swalCloseEventFinishedCallback)})},ti=(M,x)=>{setTimeout(()=>{"function"==typeof x&&x.bind(M.params)(),M._destroy()})};function uo(M,x,B){const me=ze.domCache.get(M);x.forEach(st=>{me[st].disabled=B})}function Wr(M,x){if(!M)return!1;if("radio"===M.type){const me=M.parentNode.parentNode.querySelectorAll("input");for(let st=0;st<me.length;st++)me[st].disabled=x}else M.disabled=x}class lt{constructor(x,B){this.callback=x,this.remaining=B,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(x){const B=this.running;return B&&this.stop(),this.remaining+=x,B&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var P={email:(M,x)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(M)?Promise.resolve():Promise.resolve(x||"Invalid email address"),url:(M,x)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(M)?Promise.resolve():Promise.resolve(x||"Invalid URL")};function H(M){(function(M){M.inputValidator||Object.keys(P).forEach(x=>{M.input===x&&(M.inputValidator=P[x])})})(M),M.showLoaderOnConfirm&&!M.preConfirm&&we("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(M){(!M.target||"string"==typeof M.target&&!document.querySelector(M.target)||"string"!=typeof M.target&&!M.target.appendChild)&&(we('Target parameter is not valid, defaulting to "body"'),M.target="body")}(M),"string"==typeof M.title&&(M.title=M.title.split("\n").join("<br />")),ne(M)}const Re=["swal-title","swal-html","swal-footer"],qt=M=>{const x={};return Y(M.querySelectorAll("swal-param")).forEach(B=>{vi(B,["name","value"]);const me=B.getAttribute("name");let st=B.getAttribute("value");"boolean"==typeof hr[me]&&"false"===st&&(st=!1),"object"==typeof hr[me]&&(st=JSON.parse(st)),x[me]=st}),x},Jn=M=>{const x={};return Y(M.querySelectorAll("swal-button")).forEach(B=>{vi(B,["type","color","aria-label"]);const me=B.getAttribute("type");x["".concat(me,"ButtonText")]=B.innerHTML,x["show".concat(w(me),"Button")]=!0,B.hasAttribute("color")&&(x["".concat(me,"ButtonColor")]=B.getAttribute("color")),B.hasAttribute("aria-label")&&(x["".concat(me,"ButtonAriaLabel")]=B.getAttribute("aria-label"))}),x},Zr=M=>{const x={},B=M.querySelector("swal-image");return B&&(vi(B,["src","width","height","alt"]),B.hasAttribute("src")&&(x.imageUrl=B.getAttribute("src")),B.hasAttribute("width")&&(x.imageWidth=B.getAttribute("width")),B.hasAttribute("height")&&(x.imageHeight=B.getAttribute("height")),B.hasAttribute("alt")&&(x.imageAlt=B.getAttribute("alt"))),x},zr=M=>{const x={},B=M.querySelector("swal-icon");return B&&(vi(B,["type","color"]),B.hasAttribute("type")&&(x.icon=B.getAttribute("type")),B.hasAttribute("color")&&(x.iconColor=B.getAttribute("color")),x.iconHtml=B.innerHTML),x},sr=M=>{const x={},B=M.querySelector("swal-input");B&&(vi(B,["type","label","placeholder","value"]),x.input=B.getAttribute("type")||"text",B.hasAttribute("label")&&(x.inputLabel=B.getAttribute("label")),B.hasAttribute("placeholder")&&(x.inputPlaceholder=B.getAttribute("placeholder")),B.hasAttribute("value")&&(x.inputValue=B.getAttribute("value")));const me=M.querySelectorAll("swal-input-option");return me.length&&(x.inputOptions={},Y(me).forEach(st=>{vi(st,["value"]);const un=st.getAttribute("value");x.inputOptions[un]=st.innerHTML})),x},Ti=(M,x)=>{const B={};for(const me in x){const st=x[me],un=M.querySelector(st);un&&(vi(un,[]),B[st.replace(/^swal-/,"")]=un.innerHTML.trim())}return B},Wi=M=>{const x=Re.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Y(M.children).forEach(B=>{const me=B.tagName.toLowerCase();-1===x.indexOf(me)&&we("Unrecognized element <".concat(me,">"))})},vi=(M,x)=>{Y(M.attributes).forEach(B=>{-1===x.indexOf(B.name)&&we(['Unrecognized attribute "'.concat(B.name,'" on <').concat(M.tagName.toLowerCase(),">."),"".concat(x.length?"Allowed attributes are: ".concat(x.join(", ")):"To set the value, use HTML within the element.")])})},xs=M=>{const x=Ke(),B=Xe();"function"==typeof M.willOpen&&M.willOpen(B);const st=window.getComputedStyle(document.body).overflowY;ka(x,B,M),setTimeout(()=>{hn(x,B)},10),mn()&&(Pa(x,M.scrollbarPadding,st),Y(document.body.children).forEach(x=>{x===Ke()||x.contains(Ke())||(x.hasAttribute("aria-hidden")&&x.setAttribute("data-previous-aria-hidden",x.getAttribute("aria-hidden")),x.setAttribute("aria-hidden","true"))})),!ht()&&!Wt.previousActiveElement&&(Wt.previousActiveElement=document.activeElement),"function"==typeof M.didOpen&&setTimeout(()=>M.didOpen(B)),vn(x,he["no-transition"])},Ai=M=>{const x=Xe();if(M.target!==x)return;const B=Ke();x.removeEventListener(nt,Ai),B.style.overflowY="auto"},hn=(M,x)=>{nt&&wn(x)?(M.style.overflowY="hidden",x.addEventListener(nt,Ai)):M.style.overflowY="auto"},Pa=(M,x,B)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!$n(document.body,he.iosfix)){const x=document.body.scrollTop;document.body.style.top="".concat(-1*x,"px"),Pt(document.body,he.iosfix),Hs(),es()}})(),x&&"hidden"!==B&&fr(),setTimeout(()=>{M.scrollTop=0})},ka=(M,x,B)=>{Pt(M,B.showClass.backdrop),x.style.setProperty("opacity","0","important"),Qt(x,"grid"),setTimeout(()=>{Pt(x,B.showClass.popup),x.style.removeProperty("opacity")},10),Pt([document.documentElement,document.body],he.shown),B.heightAuto&&B.backdrop&&!B.toast&&Pt([document.documentElement,document.body],he["height-auto"])},_o=M=>M.checked?1:0,wu=M=>M.checked?M.value:null,la=M=>M.files.length?null!==M.getAttribute("multiple")?M.files:M.files[0]:null,ut=(M,x)=>{const B=Xe(),me=st=>vo[x.input](B,vr(st),x);ee(x.inputOptions)||de(x.inputOptions)?(_r(ke()),re(x.inputOptions).then(st=>{M.hideLoading(),me(st)})):"object"==typeof x.inputOptions?me(x.inputOptions):Ne("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof x.inputOptions))},zn=(M,x)=>{const B=M.getInput();$t(B),re(x.inputValue).then(me=>{B.value="number"===x.input?parseFloat(me)||0:"".concat(me),Qt(B),B.focus(),M.hideLoading()}).catch(me=>{Ne("Error in inputValue promise: ".concat(me)),B.value="",Qt(B),B.focus(),M.hideLoading()})},vo={select:(M,x,B)=>{const me=Dn(M,he.select),st=(un,Wn,wr)=>{const Nr=document.createElement("option");Nr.value=wr,kt(Nr,Wn),Nr.selected=ca(wr,B.inputValue),un.appendChild(Nr)};x.forEach(un=>{const Wn=un[0],wr=un[1];if(Array.isArray(wr)){const Nr=document.createElement("optgroup");Nr.label=Wn,Nr.disabled=!1,me.appendChild(Nr),wr.forEach(ws=>st(Nr,ws[1],ws[0]))}else st(me,wr,Wn)}),me.focus()},radio:(M,x,B)=>{const me=Dn(M,he.radio);x.forEach(un=>{const Wn=un[0],wr=un[1],Nr=document.createElement("input"),ws=document.createElement("label");Nr.type="radio",Nr.name=he.radio,Nr.value=Wn,ca(Wn,B.inputValue)&&(Nr.checked=!0);const Co=document.createElement("span");kt(Co,wr),Co.className=he.label,ws.appendChild(Nr),ws.appendChild(Co),me.appendChild(ws)});const st=me.querySelectorAll("input");st.length&&st[0].focus()}},vr=M=>{const x=[];return"undefined"!=typeof Map&&M instanceof Map?M.forEach((B,me)=>{let st=B;"object"==typeof st&&(st=vr(st)),x.push([me,st])}):Object.keys(M).forEach(B=>{let me=M[B];"object"==typeof me&&(me=vr(me)),x.push([B,me])}),x},ca=(M,x)=>x&&x.toString()===M.toString(),zs=(M,x)=>{const B=ze.innerParams.get(M),me=((M,x)=>{const B=M.getInput();if(!B)return null;switch(x.input){case"checkbox":return _o(B);case"radio":return wu(B);case"file":return la(B);default:return x.inputAutoTrim?B.value.trim():B.value}})(M,B);B.inputValidator?bu(M,me,x):M.getInput().checkValidity()?"deny"===x?wo(M,me):Ms(M,me):(M.enableButtons(),M.showValidationMessage(B.validationMessage))},bu=(M,x,B)=>{const me=ze.innerParams.get(M);M.disableInput(),Promise.resolve().then(()=>re(me.inputValidator(x,me.validationMessage))).then(un=>{M.enableButtons(),M.enableInput(),un?M.showValidationMessage(un):"deny"===B?wo(M,x):Ms(M,x)})},wo=(M,x)=>{const B=ze.innerParams.get(M||void 0);B.showLoaderOnDeny&&_r(ye()),B.preDeny?Promise.resolve().then(()=>re(B.preDeny(x,B.validationMessage))).then(st=>{!1===st?M.hideLoading():M.closePopup({isDenied:!0,value:void 0===st?x:st})}):M.closePopup({isDenied:!0,value:x})},is=(M,x)=>{M.closePopup({isConfirmed:!0,value:x})},Ms=(M,x)=>{const B=ze.innerParams.get(M||void 0);B.showLoaderOnConfirm&&_r(),B.preConfirm?(M.resetValidationMessage(),Promise.resolve().then(()=>re(B.preConfirm(x,B.validationMessage))).then(st=>{Jt(Le())||!1===st?M.hideLoading():is(M,void 0===st?x:st)})):is(M,x)},Fi=(M,x,B)=>{const me=gn();if(me.length)return(x+=B)===me.length?x=0:-1===x&&(x=me.length-1),me[x].focus();Xe().focus()},Os=["ArrowRight","ArrowDown"],vs=["ArrowLeft","ArrowUp"],ss=(M,x,B)=>{const me=ze.innerParams.get(M);!me||(me.stopKeydownPropagation&&x.stopPropagation(),"Enter"===x.key?Fr(M,x,me):"Tab"===x.key?Fa(x,me):[...Os,...vs].includes(x.key)?Eu(x.key):"Escape"===x.key&&La(x,me,B))},Fr=(M,x,B)=>{if(!x.isComposing&&x.target&&M.getInput()&&x.target.outerHTML===M.getInput().outerHTML){if(["textarea","file"].includes(B.input))return;ai(),x.preventDefault()}},Fa=(M,x)=>{const B=M.target,me=gn();let st=-1;for(let un=0;un<me.length;un++)if(B===me[un]){st=un;break}Fi(0,st,M.shiftKey?-1:1),M.stopPropagation(),M.preventDefault()},Eu=M=>{if(![ke(),ye(),bt()].includes(document.activeElement))return;const st=Os.includes(M)?"nextElementSibling":"previousElementSibling",un=document.activeElement[st];un&&un.focus()},La=(M,x,B)=>{ce(x.allowEscapeKey)&&(M.preventDefault(),B(We.esc))},Ws=(M,x,B)=>{x.popup.onclick=()=>{const me=ze.innerParams.get(M);me.showConfirmButton||me.showDenyButton||me.showCancelButton||me.showCloseButton||me.timer||me.input||B(We.close)}};let Zs=!1;const Ua=M=>{M.popup.onmousedown=()=>{M.container.onmouseup=function(x){M.container.onmouseup=void 0,x.target===M.container&&(Zs=!0)}}},Ba=M=>{M.container.onmousedown=()=>{M.popup.onmouseup=function(x){M.popup.onmouseup=void 0,(x.target===M.popup||M.popup.contains(x.target))&&(Zs=!0)}}},bo=(M,x,B)=>{x.container.onclick=me=>{const st=ze.innerParams.get(M);Zs?Zs=!1:me.target===x.container&&ce(st.allowOutsideClick)&&B(We.backdrop)}};const os=(M,x)=>{const B=(M=>{const x="string"==typeof M.template?document.querySelector(M.template):M.template;if(!x)return{};const B=x.content;return Wi(B),Object.assign(qt(B),Jn(B),Zr(B),zr(B),sr(B),Ti(B,Re))})(M),me=Object.assign({},hr,x,B,M);return me.showClass=Object.assign({},hr.showClass,me.showClass),me.hideClass=Object.assign({},hr.hideClass,me.hideClass),me},Cu=(M,x,B)=>new Promise(me=>{const st=un=>{M.closePopup({isDismissed:!0,dismiss:un})};qi.swalPromiseResolve.set(M,me),x.confirmButton.onclick=()=>(M=>{const x=ze.innerParams.get(M);M.disableButtons(),x.input?zs(M,"confirm"):Ms(M,!0)})(M),x.denyButton.onclick=()=>(M=>{const x=ze.innerParams.get(M);M.disableButtons(),x.returnInputValueOnDeny?zs(M,"deny"):wo(M,!1)})(M),x.cancelButton.onclick=()=>((M,x)=>{M.disableButtons(),x(We.cancel)})(M,st),x.closeButton.onclick=()=>st(We.close),((M,x,B)=>{ze.innerParams.get(M).toast?Ws(M,x,B):(Ua(x),Ba(x),bo(M,x,B))})(M,x,st),((M,x,B,me)=>{x.keydownTarget&&x.keydownHandlerAdded&&(x.keydownTarget.removeEventListener("keydown",x.keydownHandler,{capture:x.keydownListenerCapture}),x.keydownHandlerAdded=!1),B.toast||(x.keydownHandler=st=>ss(M,st,me),x.keydownTarget=B.keydownListenerCapture?window:Xe(),x.keydownListenerCapture=B.keydownListenerCapture,x.keydownTarget.addEventListener("keydown",x.keydownHandler,{capture:x.keydownListenerCapture}),x.keydownHandlerAdded=!0)})(M,Wt,B,st),((M,x)=>{"select"===x.input||"radio"===x.input?ut(M,x):["text","email","number","tel","textarea"].includes(x.input)&&(ee(x.inputValue)||de(x.inputValue))&&(_r(ke()),zn(M,x))})(M,B),xs(B),ja(Wt,B,st),lo(x,B),setTimeout(()=>{x.container.scrollTop=0})}),Xu=M=>{const x={popup:Xe(),container:Ke(),actions:Zt(),confirmButton:ke(),denyButton:ye(),cancelButton:bt(),loader:Be(),closeButton:Rt(),validationMessage:Le(),progressSteps:Ze()};return ze.domCache.set(M,x),x},ja=(M,x,B)=>{const me=pt();$t(me),x.timer&&(M.timeout=new lt(()=>{B("timer"),delete M.timeout},x.timer),x.timerProgressBar&&(Qt(me),setTimeout(()=>{M.timeout&&M.timeout.running&&xt(x.timer)})))},lo=(M,x)=>{if(!x.toast){if(!ce(x.allowEnterKey))return da();el(M,x)||Fi(0,-1,1)}},el=(M,x)=>x.focusDeny&&Jt(M.denyButton)?(M.denyButton.focus(),!0):x.focusCancel&&Jt(M.cancelButton)?(M.cancelButton.focus(),!0):!(!x.focusConfirm||!Jt(M.confirmButton)||(M.confirmButton.focus(),0)),da=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const or=M=>{delete M.params,delete Wt.keydownHandler,delete Wt.keydownTarget,Ns(ze),Ns(qi),delete Wt.currentInstance},Ns=M=>{for(const x in M)M[x]=new WeakMap};var Ha=Object.freeze({hideLoading:mt,disableLoading:mt,getInput:function(M){const x=ze.innerParams.get(M||this),B=ze.domCache.get(M||this);return B?gr(B.popup,x.input):null},close:Gs,closePopup:Gs,closeModal:Gs,closeToast:Gs,enableButtons:function(){uo(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){uo(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return Wr(this.getInput(),!1)},disableInput:function(){return Wr(this.getInput(),!0)},showValidationMessage:function(M){const x=ze.domCache.get(this),B=ze.innerParams.get(this);kt(x.validationMessage,M),x.validationMessage.className=he["validation-message"],B.customClass&&B.customClass.validationMessage&&Pt(x.validationMessage,B.customClass.validationMessage),Qt(x.validationMessage);const me=this.getInput();me&&(me.setAttribute("aria-invalid",!0),me.setAttribute("aria-describedby",he["validation-message"]),Ln(me),Pt(me,he.inputerror))},resetValidationMessage:function(){const M=ze.domCache.get(this);M.validationMessage&&$t(M.validationMessage);const x=this.getInput();x&&(x.removeAttribute("aria-invalid"),x.removeAttribute("aria-describedby"),vn(x,he.inputerror))},getProgressSteps:function(){return ze.domCache.get(this).progressSteps},_main:function(M,x={}){(M=>{!M.backdrop&&M.allowOutsideClick&&we('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const x in M)te(x),M.toast&&se(x),G(x)})(Object.assign({},x,M)),Wt.currentInstance&&(Wt.currentInstance._destroy(),mn()&&Gi()),Wt.currentInstance=this;const B=os(M,x);H(B),Object.freeze(B),Wt.timeout&&(Wt.timeout.stop(),delete Wt.timeout),clearTimeout(Wt.restoreFocusTimeout);const me=Xu(this);return Hi(this,B),ze.innerParams.set(this,B),Cu(this,me,B)},update:function(M){const x=Xe(),B=ze.innerParams.get(this);if(!x||$n(x,B.hideClass.popup))return we("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const me={};Object.keys(M).forEach(un=>{Ks.isUpdatableParameter(un)?me[un]=M[un]:we('Invalid parameter to update: "'.concat(un,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const st=Object.assign({},B,me);Hi(this,st),ze.innerParams.set(this,st),Object.defineProperties(this,{params:{value:Object.assign({},this.params,M),writable:!1,enumerable:!0}})},_destroy:function(){const M=ze.domCache.get(this),x=ze.innerParams.get(this);!x||(M.popup&&Wt.swalCloseEventFinishedCallback&&(Wt.swalCloseEventFinishedCallback(),delete Wt.swalCloseEventFinishedCallback),Wt.deferDisposalTimer&&(clearTimeout(Wt.deferDisposalTimer),delete Wt.deferDisposalTimer),"function"==typeof x.didDestroy&&x.didDestroy(),or(this))}});let ha;class bi{constructor(...x){if("undefined"==typeof window)return;ha=this;const B=Object.freeze(this.constructor.argsToParams(x));Object.defineProperties(this,{params:{value:B,writable:!1,enumerable:!0,configurable:!0}});const me=this._main(this.params);ze.promise.set(this,me)}then(x){return ze.promise.get(this).then(x)}finally(x){return ze.promise.get(this).finally(x)}}Object.assign(bi.prototype,Ha),Object.assign(bi,Ve),Object.keys(Ha).forEach(M=>{bi[M]=function(...x){if(ha)return ha[M](...x)}}),bi.DismissReason=We,bi.version="11.1.5";const Ks=bi;return Ks.default=Ks,Ks}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(We,$){var E=We.createElement("style");if(We.getElementsByTagName("head")[0].appendChild(E),E.styleSheet)E.styleSheet.disabled||(E.styleSheet.cssText=$);else try{E.innerHTML=$}catch(w){E.innerText=$}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9;pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},1149:(Nt,We,$)=>{"use strict";var E=$(8583),w=$(3018);class Y extends E.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends Y{static makeCurrent(){(0,E.HT)(new we)}onAndCancel(se,G,ie){return se.addEventListener(G,ie,!1),()=>{se.removeEventListener(G,ie,!1)}}dispatchEvent(se,G){se.dispatchEvent(G)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,G){return(G=G||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,G){return"window"===G?window:"document"===G?se:"body"===G?se.body:null}getBaseHref(se){const G=(Ne=Ne||document.querySelector("base"),Ne?Ne.getAttribute("href"):null);return null==G?null:function(te){$e=$e||document.createElement("a"),$e.setAttribute("href",te);const se=$e.pathname;return"/"===se.charAt(0)?se:`/${se}`}(G)}resetBaseElement(){Ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,E.Mx)(document.cookie,se)}}let $e,Ne=null;const ce=new w.OlP("TRANSITION_ID"),re=[{provide:w.ip1,useFactory:function(te,se,G){return()=>{G.get(w.CZH).donePromise.then(()=>{const ie=(0,E.q)(),Ve=se.querySelectorAll(`style[ng-transition="${te}"]`);for(let mt=0;mt<Ve.length;mt++)ie.remove(Ve[mt])})}},deps:[ce,E.K0,w.zs3],multi:!0}];class de{static init(){(0,w.VLi)(new de)}addToWindow(se){w.dqk.getAngularTestability=(ie,Ve=!0)=>{const mt=se.findTestabilityInTree(ie,Ve);if(null==mt)throw new Error("Could not find testability for element.");return mt},w.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),w.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),w.dqk.frameworkStabilizers||(w.dqk.frameworkStabilizers=[]),w.dqk.frameworkStabilizers.push(ie=>{const Ve=w.dqk.getAllAngularTestabilities();let mt=Ve.length,Ut=!1;const ir=function(fr){Ut=Ut||fr,mt--,0==mt&&ie(Ut)};Ve.forEach(function(fr){fr.whenStable(ir)})})}findTestabilityInTree(se,G,ie){if(null==G)return null;const Ve=se.getTestability(G);return null!=Ve?Ve:ie?(0,E.q)().isShadowRoot(G)?this.findTestabilityInTree(se,G.host,!0):this.findTestabilityInTree(se,G.parentElement,!0):null}}let ae=(()=>{class te{build(){return new XMLHttpRequest}}return te.\u0275fac=function(G){return new(G||te)},te.\u0275prov=w.Yz7({token:te,factory:te.\u0275fac}),te})();const Le=new w.OlP("EventManagerPlugins");let ke=(()=>{class te{constructor(G,ie){this._zone=ie,this._eventNameToPlugin=new Map,G.forEach(Ve=>Ve.manager=this),this._plugins=G.slice().reverse()}addEventListener(G,ie,Ve){return this._findPluginFor(ie).addEventListener(G,ie,Ve)}addGlobalEventListener(G,ie,Ve){return this._findPluginFor(ie).addGlobalEventListener(G,ie,Ve)}getZone(){return this._zone}_findPluginFor(G){const ie=this._eventNameToPlugin.get(G);if(ie)return ie;const Ve=this._plugins;for(let mt=0;mt<Ve.length;mt++){const Ut=Ve[mt];if(Ut.supports(G))return this._eventNameToPlugin.set(G,Ut),Ut}throw new Error(`No event manager plugin found for event ${G}`)}}return te.\u0275fac=function(G){return new(G||te)(w.LFG(Le),w.LFG(w.R0b))},te.\u0275prov=w.Yz7({token:te,factory:te.\u0275fac}),te})();class ye{constructor(se){this._doc=se}addGlobalEventListener(se,G,ie){const Ve=(0,E.q)().getGlobalEventTarget(this._doc,se);if(!Ve)throw new Error(`Unsupported event target ${Ve} for event ${G}`);return this.addEventListener(Ve,G,ie)}}let Ae=(()=>{class te{constructor(){this._stylesSet=new Set}addStyles(G){const ie=new Set;G.forEach(Ve=>{this._stylesSet.has(Ve)||(this._stylesSet.add(Ve),ie.add(Ve))}),this.onStylesAdded(ie)}onStylesAdded(G){}getAllStyles(){return Array.from(this._stylesSet)}}return te.\u0275fac=function(G){return new(G||te)},te.\u0275prov=w.Yz7({token:te,factory:te.\u0275fac}),te})(),Be=(()=>{class te extends Ae{constructor(G){super(),this._doc=G,this._hostNodes=new Map,this._hostNodes.set(G.head,[])}_addStylesToHost(G,ie,Ve){G.forEach(mt=>{const Ut=this._doc.createElement("style");Ut.textContent=mt,Ve.push(ie.appendChild(Ut))})}addHost(G){const ie=[];this._addStylesToHost(this._stylesSet,G,ie),this._hostNodes.set(G,ie)}removeHost(G){const ie=this._hostNodes.get(G);ie&&ie.forEach(bt),this._hostNodes.delete(G)}onStylesAdded(G){this._hostNodes.forEach((ie,Ve)=>{this._addStylesToHost(G,Ve,ie)})}ngOnDestroy(){this._hostNodes.forEach(G=>G.forEach(bt))}}return te.\u0275fac=function(G){return new(G||te)(w.LFG(E.K0))},te.\u0275prov=w.Yz7({token:te,factory:te.\u0275fac}),te})();function bt(te){(0,E.q)().remove(te)}const Zt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ct=/%COMP%/g;function Et(te,se,G){for(let ie=0;ie<se.length;ie++){let Ve=se[ie];Array.isArray(Ve)?Et(te,Ve,G):(Ve=Ve.replace(ct,te),G.push(Ve))}return G}function Lt(te){return se=>{if("__ngUnwrap__"===se)return te;!1===te(se)&&(se.preventDefault(),se.returnValue=!1)}}let $n=(()=>{class te{constructor(G,ie,Ve){this.eventManager=G,this.sharedStylesHost=ie,this.appId=Ve,this.rendererByCompId=new Map,this.defaultRenderer=new ln(G)}createRenderer(G,ie){if(!G||!ie)return this.defaultRenderer;switch(ie.encapsulation){case w.ifc.Emulated:{let Ve=this.rendererByCompId.get(ie.id);return Ve||(Ve=new bn(this.eventManager,this.sharedStylesHost,ie,this.appId),this.rendererByCompId.set(ie.id,Ve)),Ve.applyToHost(G),Ve}case 1:case w.ifc.ShadowDom:return new Pt(this.eventManager,this.sharedStylesHost,G,ie);default:if(!this.rendererByCompId.has(ie.id)){const Ve=Et(ie.id,ie.styles,[]);this.sharedStylesHost.addStyles(Ve),this.rendererByCompId.set(ie.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return te.\u0275fac=function(G){return new(G||te)(w.LFG(ke),w.LFG(Be),w.LFG(w.AFp))},te.\u0275prov=w.Yz7({token:te,factory:te.\u0275fac}),te})();class ln{constructor(se){this.eventManager=se,this.data=Object.create(null)}destroy(){}createElement(se,G){return G?document.createElementNS(Zt[G]||G,se):document.createElement(se)}createComment(se){return document.createComment(se)}createText(se){return document.createTextNode(se)}appendChild(se,G){se.appendChild(G)}insertBefore(se,G,ie){se&&se.insertBefore(G,ie)}removeChild(se,G){se&&se.removeChild(G)}selectRootElement(se,G){let ie="string"==typeof se?document.querySelector(se):se;if(!ie)throw new Error(`The selector "${se}" did not match any elements`);return G||(ie.textContent=""),ie}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,G,ie,Ve){if(Ve){G=Ve+":"+G;const mt=Zt[Ve];mt?se.setAttributeNS(mt,G,ie):se.setAttribute(G,ie)}else se.setAttribute(G,ie)}removeAttribute(se,G,ie){if(ie){const Ve=Zt[ie];Ve?se.removeAttributeNS(Ve,G):se.removeAttribute(`${ie}:${G}`)}else se.removeAttribute(G)}addClass(se,G){se.classList.add(G)}removeClass(se,G){se.classList.remove(G)}setStyle(se,G,ie,Ve){Ve&(w.JOm.DashCase|w.JOm.Important)?se.style.setProperty(G,ie,Ve&w.JOm.Important?"important":""):se.style[G]=ie}removeStyle(se,G,ie){ie&w.JOm.DashCase?se.style.removeProperty(G):se.style[G]=""}setProperty(se,G,ie){se[G]=ie}setValue(se,G){se.nodeValue=G}listen(se,G,ie){return"string"==typeof se?this.eventManager.addGlobalEventListener(se,G,Lt(ie)):this.eventManager.addEventListener(se,G,Lt(ie))}}class bn extends ln{constructor(se,G,ie,Ve){super(se),this.component=ie;const mt=Et(Ve+"-"+ie.id,ie.styles,[]);G.addStyles(mt),this.contentAttr="_ngcontent-%COMP%".replace(ct,Ve+"-"+ie.id),this.hostAttr="_nghost-%COMP%".replace(ct,Ve+"-"+ie.id)}applyToHost(se){super.setAttribute(se,this.hostAttr,"")}createElement(se,G){const ie=super.createElement(se,G);return super.setAttribute(ie,this.contentAttr,""),ie}}class Pt extends ln{constructor(se,G,ie,Ve){super(se),this.sharedStylesHost=G,this.hostEl=ie,this.shadowRoot=ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mt=Et(Ve.id,Ve.styles,[]);for(let Ut=0;Ut<mt.length;Ut++){const ir=document.createElement("style");ir.textContent=mt[Ut],this.shadowRoot.appendChild(ir)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(se,G){return super.appendChild(this.nodeOrShadowRoot(se),G)}insertBefore(se,G,ie){return super.insertBefore(this.nodeOrShadowRoot(se),G,ie)}removeChild(se,G){return super.removeChild(this.nodeOrShadowRoot(se),G)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}}let vn=(()=>{class te extends ye{constructor(G){super(G)}supports(G){return!0}addEventListener(G,ie,Ve){return G.addEventListener(ie,Ve,!1),()=>this.removeEventListener(G,ie,Ve)}removeEventListener(G,ie,Ve){return G.removeEventListener(ie,Ve)}}return te.\u0275fac=function(G){return new(G||te)(w.LFG(E.K0))},te.\u0275prov=w.Yz7({token:te,factory:te.\u0275fac}),te})();const wn=["alt","control","meta","shift"],Mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Er={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Kt={alt:te=>te.altKey,control:te=>te.ctrlKey,meta:te=>te.metaKey,shift:te=>te.shiftKey};let Vn=(()=>{class te extends ye{constructor(G){super(G)}supports(G){return null!=te.parseEventName(G)}addEventListener(G,ie,Ve){const mt=te.parseEventName(ie),Ut=te.eventCallback(mt.fullKey,Ve,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(G,mt.domEventName,Ut))}static parseEventName(G){const ie=G.toLowerCase().split("."),Ve=ie.shift();if(0===ie.length||"keydown"!==Ve&&"keyup"!==Ve)return null;const mt=te._normalizeKey(ie.pop());let Ut="";if(wn.forEach(fr=>{const Ri=ie.indexOf(fr);Ri>-1&&(ie.splice(Ri,1),Ut+=fr+".")}),Ut+=mt,0!=ie.length||0===mt.length)return null;const ir={};return ir.domEventName=Ve,ir.fullKey=Ut,ir}static getEventFullKey(G){let ie="",Ve=function(te){let se=te.key;if(null==se){if(se=te.keyIdentifier,null==se)return"Unidentified";se.startsWith("U+")&&(se=String.fromCharCode(parseInt(se.substring(2),16)),3===te.location&&Er.hasOwnProperty(se)&&(se=Er[se]))}return Mt[se]||se}(G);return Ve=Ve.toLowerCase()," "===Ve?Ve="space":"."===Ve&&(Ve="dot"),wn.forEach(mt=>{mt!=Ve&&Kt[mt](G)&&(ie+=mt+".")}),ie+=Ve,ie}static eventCallback(G,ie,Ve){return mt=>{te.getEventFullKey(mt)===G&&Ve.runGuarded(()=>ie(mt))}}static _normalizeKey(G){switch(G){case"esc":return"escape";default:return G}}}return te.\u0275fac=function(G){return new(G||te)(w.LFG(E.K0))},te.\u0275prov=w.Yz7({token:te,factory:te.\u0275fac}),te})();const ge=(0,w.eFA)(w._c5,"browser",[{provide:w.Lbi,useValue:E.bD},{provide:w.g9A,useValue:function(){we.makeCurrent(),de.init()},multi:!0},{provide:E.K0,useFactory:function(){return(0,w.RDi)(document),document},deps:[]}]),Ee=[[],{provide:w.zSh,useValue:"root"},{provide:w.qLn,useFactory:function(){return new w.qLn},deps:[]},{provide:Le,useClass:vn,multi:!0,deps:[E.K0,w.R0b,w.Lbi]},{provide:Le,useClass:Vn,multi:!0,deps:[E.K0]},[],{provide:$n,useClass:$n,deps:[ke,Be,w.AFp]},{provide:w.FYo,useExisting:$n},{provide:Ae,useExisting:Be},{provide:Be,useClass:Be,deps:[E.K0]},{provide:w.dDg,useClass:w.dDg,deps:[w.R0b]},{provide:ke,useClass:ke,deps:[Le,w.R0b]},{provide:E.JF,useClass:ae,deps:[]},[]];let ze=(()=>{class te{constructor(G){if(G)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(G){return{ngModule:te,providers:[{provide:w.AFp,useValue:G.appId},{provide:ce,useExisting:w.AFp},re]}}}return te.\u0275fac=function(G){return new(G||te)(w.LFG(te,12))},te.\u0275mod=w.oAB({type:te}),te.\u0275inj=w.cJS({providers:Ee,imports:[E.ez,w.hGG]}),te})();"undefined"!=typeof window&&window;var qn=$(8239),nr=$(5893),Qr=($(4685),$(5452),$(300),$(6034),$(8006));let ai=(()=>{class te{constructor(G){this.afAuth=G}login(G,ie){var Ve=this;return(0,qn.Z)(function*(){(0,nr.n)();try{return(yield Ve.afAuth.signInWithEmailAndPassword(G,ie))||!1}catch(Ut){return!1}})()}register(G,ie){var Ve=this;return(0,qn.Z)(function*(){try{return yield Ve.afAuth.createUserWithEmailAndPassword(G,ie)}catch(mt){return console.log(mt),mt}})()}logout(){var G=this;return(0,qn.Z)(function*(){try{yield G.afAuth.signOut()}catch(ie){return console.log(ie),ie}})()}getCurrentUser(){var G=this;return(0,qn.Z)(function*(){yield G.afAuth.onAuthStateChanged(Ve=>!!Ve)})()}}return te.\u0275fac=function(G){return new(G||te)(w.LFG(Qr.zQ))},te.\u0275prov=w.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})();var Hr=$(5391);let Ir=(()=>{class te{constructor(G){this.firestore=G}create(G,ie){var Ve=this;return(0,qn.Z)(function*(){try{return yield Ve.firestore.collection(G).add(ie)}catch(mt){return void console.log("error en: create",mt)}})()}getAll(G){var ie=this;return(0,qn.Z)(function*(){try{return yield ie.firestore.collection(G).snapshotChanges()}catch(Ve){return void console.log("error en: getAll",Ve)}})()}getUserById(G,ie){var Ve=this;return(0,qn.Z)(function*(){try{return yield Ve.firestore.collection(G).doc(ie)}catch(mt){return void console.log("error en: getById",mt)}})()}}return te.\u0275fac=function(G){return new(G||te)(w.LFG(Hr.ST))},te.\u0275prov=w.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})();var $r=$(6575),dn=$(665);function _r(te,se){1&te&&(w.TgZ(0,"li",7),w.TgZ(1,"a",15),w._uU(2,"Login"),w.qZA(),w.qZA())}function Un(te,se){if(1&te){const G=w.EpF();w.TgZ(0,"li",16),w.NdJ("click",function(){return w.CHM(G),w.oxw().onLogout()}),w.TgZ(1,"a",17),w._uU(2,"Log Out"),w.qZA(),w.qZA()}}function Oi(te,se){1&te&&(w.TgZ(0,"li",7),w.TgZ(1,"a",18),w._uU(2,"CHAT"),w.qZA(),w.qZA())}function Wt(te,se){if(1&te&&(w.TgZ(0,"li",7),w.TgZ(1,"a",19),w._uU(2),w.qZA(),w.qZA()),2&te){const G=w.oxw();w.xp6(2),w.Oqu(G.userActual.email)}}function Ji(te,se){1&te&&(w.TgZ(0,"li",7),w.TgZ(1,"a",20),w._uU(2,"Registrarse"),w.qZA(),w.qZA())}let Tr=(()=>{class te{constructor(G,ie,Ve){this.authSvc=G,this.afAuth=ie,this.userService=Ve,this.isLogged=!1,this.title="saladejuegos",this.coincide=!1}ngOnInit(){var G=this;return(0,qn.Z)(function*(){yield G.afAuth.onAuthStateChanged(ie=>{ie?(G.userService.getAll("users").then(Ve=>{null==Ve||Ve.subscribe(mt=>{mt.forEach(Ut=>{G.coincide||(G.userActual=Ut.payload.doc.data()),ie.email!=G.userActual.email||(G.coincide=!0)})})}),G.isLogged=!0):G.isLogged=!1})})()}onLogout(){this.authSvc.logout(),this.isLogged=!1,this.coincide=!1,this.userActual=null}accesoRapido(G){}}return te.\u0275fac=function(G){return new(G||te)(w.Y36(ai),w.Y36(Qr.zQ),w.Y36(Ir))},te.\u0275cmp=w.Xpm({type:te,selectors:[["app-root"]],decls:22,vars:5,consts:[[1,"navbar","navbar-dark","bg-dark","navbar-expand-md","fixed-top","p-1"],[1,"container","p-1"],["routerLink","/home",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#menu-principal","aria-controls","menu-principal","aria-expanded","false","aria-label","Desplegar menu de navegacion",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","menu-principal",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/quien-soy","data-target","quiensoy",1,"nav-link"],["class","nav-item",4,"ngIf"],["class","nav-item",3,"click",4,"ngIf"],[1,"d-flex"],[1,"container","mt-0"],[1,"row"],[1,"col-12"],["routerLink","/login","data-target","login",1,"nav-link"],[1,"nav-item",3,"click"],["routerLink","/home","data-target","login",1,"nav-link"],["routerLink","/chat","data-target","login",1,"nav-link"],["data-target","email",1,"nav-link"],["routerLink","/register","data-target","registro",1,"nav-link"]],template:function(G,ie){1&G&&(w.TgZ(0,"nav",0),w.TgZ(1,"div",1),w.TgZ(2,"a",2),w.TgZ(3,"strong"),w._uU(4,"Home"),w.qZA(),w.qZA(),w.TgZ(5,"button",3),w._UZ(6,"span",4),w.qZA(),w.TgZ(7,"div",5),w.TgZ(8,"ul",6),w.TgZ(9,"li",7),w.TgZ(10,"a",8),w._uU(11,"Quien soy"),w.qZA(),w.qZA(),w.YNc(12,_r,3,0,"li",9),w.YNc(13,Un,3,0,"li",10),w.YNc(14,Oi,3,0,"li",9),w.YNc(15,Wt,3,1,"li",9),w.YNc(16,Ji,3,0,"li",9),w.qZA(),w._UZ(17,"form",11),w.qZA(),w.qZA(),w.qZA(),w.TgZ(18,"div",12),w.TgZ(19,"div",13),w.TgZ(20,"div",14),w._UZ(21,"router-outlet"),w.qZA(),w.qZA(),w.qZA()),2&G&&(w.xp6(12),w.Q6J("ngIf",!ie.isLogged),w.xp6(1),w.Q6J("ngIf",ie.isLogged),w.xp6(1),w.Q6J("ngIf",ie.isLogged),w.xp6(1),w.Q6J("ngIf",ie.isLogged),w.xp6(1),w.Q6J("ngIf",!ie.isLogged))},directives:[$r.yS,E.O5,dn._Y,dn.JL,dn.F,$r.lC],styles:[""]}),te})();var _i=$(8259),Gr=$.n(_i);let mi=(()=>{class te{constructor(G,ie,Ve){this.authSvc=G,this.router=ie,this.afAuth=Ve,this.loginForm=new dn.cw({email:new dn.NI("",dn.kI.required),password:new dn.NI("",dn.kI.min(6))}),this.email="",this.password=""}ngOnInit(){var G=this;return(0,qn.Z)(function*(){G.userExist=yield G.afAuth.onAuthStateChanged(ie=>{ie&&(console.log(ie),G.router.navigate(["/home"]))})})()}onLogin(){var G=this;return(0,qn.Z)(function*(){const{email:ie,password:Ve}=G.loginForm.value;if(""!=ie&&""!=Ve)try{(yield G.authSvc.login(ie,Ve))&&(Gr().fire({position:"top-end",icon:"success",title:"Acceso correcto",showConfirmButton:!1,timer:1500}),G.router.navigate(["/home"]),window.location.reload())}catch(mt){Gr().fire({position:"top-end",icon:"error",title:"Error de Ingreso",showConfirmButton:!1,timer:1500}),console.log(mt)}else console.log("FALTAN DATOS")})()}accesoRapido(G){0==G&&(this.email="admin@admin.com",this.password="000000"),1==G&&(this.email="usuario1@usuario1.com",this.password="111111"),2==G&&(this.email="usuario2@usuario2.com",this.password="222222")}}return te.\u0275fac=function(G){return new(G||te)(w.Y36(ai),w.Y36($r.F0),w.Y36(Qr.zQ))},te.\u0275cmp=w.Xpm({type:te,selectors:[["app-login"]],decls:26,vars:3,consts:[[1,"wrapper","fadeInDown"],["id","formContent"],[3,"formGroup","ngSubmit"],["type","text","id","login","name","login","placeholder","Email","formControlName","email",1,"fadeIn","second",3,"ngModel","ngModelChange"],["type","text","id","password","name","login","placeholder","Contrase\xf1a","formControlName","password",1,"fadeIn","third",3,"ngModel","ngModelChange"],["type","submit","value","Entrar",1,"fadeIn","fourth"],["id","formFooter"],["href","#",1,"underlineHover"],["id","div-totop",1,"cmn-divfloat"],["role","group",1,"btn-group","border-2"],["id","btnGroupDrop1","type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],["aria-labelledby","btnGroupDrop1",1,"dropdown-menu"],[1,"dropdown-item",3,"click"]],template:function(G,ie){1&G&&(w.TgZ(0,"div",0),w.TgZ(1,"div",1),w.TgZ(2,"form",2),w.NdJ("ngSubmit",function(){return ie.onLogin()}),w.TgZ(3,"input",3),w.NdJ("ngModelChange",function(mt){return ie.email=mt}),w.qZA(),w.TgZ(4,"input",4),w.NdJ("ngModelChange",function(mt){return ie.password=mt}),w.qZA(),w._UZ(5,"input",5),w.qZA(),w.TgZ(6,"div",6),w.TgZ(7,"a",7),w._uU(8,"Olvidaste tu Contrase\xf1a?"),w.qZA(),w._UZ(9,"br"),w.TgZ(10,"a",7),w._uU(11,"Registrate"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(12,"div",8),w.TgZ(13,"div",9),w.TgZ(14,"button",10),w._uU(15," acceso rapido "),w.qZA(),w.TgZ(16,"ul",11),w.TgZ(17,"li"),w.TgZ(18,"a",12),w.NdJ("click",function(){return ie.accesoRapido(0)}),w._uU(19,"admin"),w.qZA(),w.qZA(),w.TgZ(20,"li"),w.TgZ(21,"a",12),w.NdJ("click",function(){return ie.accesoRapido(1)}),w._uU(22,"usuario1"),w.qZA(),w.qZA(),w.TgZ(23,"li"),w.TgZ(24,"a",12),w.NdJ("click",function(){return ie.accesoRapido(2)}),w._uU(25,"usuario2"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&G&&(w.xp6(2),w.Q6J("formGroup",ie.loginForm),w.xp6(1),w.Q6J("ngModel",ie.email),w.xp6(1),w.Q6J("ngModel",ie.password))},directives:[dn._Y,dn.JL,dn.sg,dn.Fj,dn.JJ,dn.u],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}.cmn-divfloat[_ngcontent-%COMP%]{position:fixed!important;top:5vw;right:15px}.cmn-btncircle[_ngcontent-%COMP%]{width:40px!important;height:40px!important;padding:6px 0;border-radius:15px;font-size:18px;text-align:center}']}),te})(),ur=(()=>{class te{constructor(){}ngOnInit(){return(0,qn.Z)(function*(){})()}}return te.\u0275fac=function(G){return new(G||te)},te.\u0275cmp=w.Xpm({type:te,selectors:[["app-home"]],decls:49,vars:0,consts:[[1,"proyectos","py-0","mt-0"],[1,"container"],[1,"display-4","font-weight-bold","text-center","pb-2"],[1,"row","text-md-center"],[1,"col-12","col-md-6","col-lg-3","mb-3","mb-lg-0"],[1,"card","mb-5"],["src","../../assets/img/j_ahorcado.jpg","alt","proyecto ",1,"card-img-top","img-fluid"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["routerLink","/juegos/ahorcado",1,"btn","btn-primary"],["src","../../assets/img/j_mayorMenor.jfif","alt","proyecto ",1,"card-img-top","img-fluid"],["routerLink","/juegos/mayormenor",1,"btn","btn-primary"],["src","../../assets/img/j_preguntados.jfif","alt","proyecto ",1,"card-img-top","img-fluid"],["routerLink","/juegos/preguntados",1,"btn","btn-primary"],["src","../../assets/img/jpelota.png","alt","proyecto ",1,"card-img-top","img-fluid"],["routerLink","/juegos/mijuego",1,"btn","btn-primary"],[1,"pie-de","-agina","text-center","text-md-right","bg-dark","text-white"],[1,"m-0","py-3"]],template:function(G,ie){1&G&&(w.TgZ(0,"section",0),w.TgZ(1,"div",1),w.TgZ(2,"h1",2),w._uU(3,"Mis Juegos"),w.qZA(),w.TgZ(4,"div",3),w.TgZ(5,"article",4),w.TgZ(6,"div",5),w._UZ(7,"img",6),w.TgZ(8,"div",7),w.TgZ(9,"h5",8),w._uU(10,"Ahorcado"),w.qZA(),w.TgZ(11,"p",9),w._uU(12,"El ahorcado (tambi\xe9n llamado colgado) es un juego de adivinanzas de para dos o m\xe1s jugadores. Un jugador piensa en una palabra, frase u oraci\xf3n y el otro trata de adivinarla seg\xfan lo que sugiere por letras o n\xfameros."),w.qZA(),w.TgZ(13,"a",10),w._uU(14,"Ir al Juego"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(15,"article",4),w.TgZ(16,"div",5),w._UZ(17,"img",11),w.TgZ(18,"div",7),w.TgZ(19,"h5",8),w._uU(20,"Mayor o Menor"),w.qZA(),w.TgZ(21,"p",9),w._uU(22,"Mayor Menor es un juego de cartas donde el objetivo es adivinar si la siguiente carta en salir ser\xe1 mayor o menor que la que hay sobre el tapete. "),w.qZA(),w.TgZ(23,"a",12),w._uU(24,"Ir al Juego"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(25,"article",4),w.TgZ(26,"div",5),w._UZ(27,"img",13),w.TgZ(28,"div",7),w.TgZ(29,"h5",8),w._uU(30,"Preguntados"),w.qZA(),w.TgZ(31,"p",9),w._uU(32," Dos jugadores compiten en ser el primero en obtener seis personajes, cada uno de ellos representando una tem\xe1tica espec\xedfica. Para ello, deben rellenar una barra de progreso contestando correctamente preguntas de selecci\xf3n simple. "),w.qZA(),w.TgZ(33,"a",14),w._uU(34,"Ir al Juego"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(35,"article",4),w.TgZ(36,"div",5),w._UZ(37,"img",15),w.TgZ(38,"div",7),w.TgZ(39,"h5",8),w._uU(40,"Mi Juego"),w.qZA(),w.TgZ(41,"p",9),w._uU(42,"Seleccionas una moneda y una criptomoneda, consume informacion de la API y devueve el valor de la criptomoneda"),w.qZA(),w.TgZ(43,"a",16),w._uU(44,"Ver proyecto"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(45,"footer",17),w.TgZ(46,"div",1),w.TgZ(47,"p",18),w._uU(48,"Copiright \xd7 2021. Todos los derechos reservados MANUEL CLIFTON"),w.qZA(),w.qZA(),w.qZA())},directives:[$r.yS],styles:[""]}),te})(),Jr=(()=>{class te{constructor(){}ngOnInit(){}}return te.\u0275fac=function(G){return new(G||te)},te.\u0275cmp=w.Xpm({type:te,selectors:[["app-quiensoy"]],decls:42,vars:0,consts:[[1,"quien-soy","py-2"],[1,"container"],[1,"row"],[1,"col-12","col-md-6","text-center"],["src","../../assets//img/perfil.jpg","width","300","height","300","alt","soy el desarrollador",1,"img-fluid","img-thumbnail","rounded-circle","p-3","mb-3"],[1,"col-12","col-md-6","text-center","text-md-left","align-self-md-center"],[1,"display-4","font-weight-bold","text-primary"],[1,"h5","fontic-ital"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"display-4","font-weight-bold","text-center","pb-2"]],template:function(G,ie){1&G&&(w.TgZ(0,"section",0),w.TgZ(1,"div",1),w.TgZ(2,"div",2),w.TgZ(3,"div",3),w._UZ(4,"img",4),w.qZA(),w.TgZ(5,"div",5),w.TgZ(6,"h1",6),w._uU(7,"\xbfQuien soy?"),w.qZA(),w.TgZ(8,"p",7),w._uU(9," Que dif\xedcil pregunta, la verdad no lo s\xe9. He cambiado tantas veces y hecho tantas cosas que es complicado definirme a mi mismo dentro de una sola categor\xeda. "),w.qZA(),w.TgZ(10,"p",7),w._uU(11," Puedo decirte que es lo que me gusta, pero quiz\xe1s eso no es qui\xe9n soy o lo que ser\xe9 si alguna vez nos llegamos a encontrar en persona. "),w.qZA(),w.TgZ(12,"p",7),w._uU(13,"Pero esta bien, lo intentar\xe9."),w.qZA(),w.TgZ(14,"button",8),w._uU(15," Leer "),w.qZA(),w.TgZ(16,"div",9),w.TgZ(17,"div",10),w.TgZ(18,"div",11),w.TgZ(19,"div",12),w.TgZ(20,"h5",13),w._uU(21,"Manuel Clifton"),w.qZA(),w._UZ(22,"button",14),w.qZA(),w.TgZ(23,"div",15),w.TgZ(24,"p"),w._uU(25," Explorador del vers\xe1til mundo de la tecnolog\xeda, aficionado a la programaci\xf3n WEB,"),w.TgZ(26,"strong"),w._uU(27,"estudiante del \xfaltimo a\xf1o de Programaci\xf3n en UTN FRA."),w.qZA(),w.qZA(),w.TgZ(28,"p"),w._uU(29,"Me denomino programador JR (con mucho potencial), la creatividad es una de mis fortalezas, adem\xe1s de mi inter\xe9s de seguir aprendiendo y mejorar mis t\xe9cnicas para formarme con un perfil profesional y competitivo."),w.qZA(),w.TgZ(30,"p"),w._uU(31,"En esta ocasi\xf3n realice una p\xe1gina para el primer TP de Laboratorio 4, se basa en una sala de juegos. Espero que les guste."),w.qZA(),w.qZA(),w.TgZ(32,"div",16),w.TgZ(33,"button",17),w._uU(34,"Salir"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(35,"div",1),w.TgZ(36,"h1",18),w._uU(37,"Mi Juego Propio:"),w.qZA(),w.TgZ(38,"h4"),w._uU(39,"Gana sumando puntos antes que el tiempo se acabe.."),w.qZA(),w.TgZ(40,"p"),w._uU(41,"El juego consiste en pasar el MOUSE por una pelota roja, cada vez que esto sucede sumas un punto, debes llegar a los puntos m\xe1ximos para ganar, pero atento, debes lograrlo antes que el tiempo se acabe."),w.qZA(),w.qZA(),w.qZA())},styles:[""]}),te})(),Ar=(()=>{class te{constructor(G,ie){this.authSvc=G,this.router=ie,this.registerForm=new dn.cw({email:new dn.NI(""),password:new dn.NI(""),password2:new dn.NI("")}),this.alert=!1}ngOnInit(){}onRegister(){const{email:G,password:ie,password2:Ve}=this.registerForm.value;""!=G&&""!=ie&&""!=Ve?ie==Ve?this.authSvc.register(G,ie).then(mt=>{Gr().fire({position:"top-end",icon:"success",title:"Usuario Creado correcto",showConfirmButton:!1,timer:1500}),this.router.navigate(["/home"])}).catch(mt=>{Gr().fire({position:"top-end",icon:"error",title:"Error al crear",showConfirmButton:!1,timer:1500}),console.log("error en alta",mt)}):console.log("NO COINCIDEN LAS CONTRASE\xd1AS"):console.log("FALTAN DATOS")}}return te.\u0275fac=function(G){return new(G||te)(w.Y36(ai),w.Y36($r.F0))},te.\u0275cmp=w.Xpm({type:te,selectors:[["app-register"]],decls:13,vars:1,consts:[[1,"wrapper","fadeInDown"],["id","formContent"],[3,"formGroup","ngSubmit"],["for","email"],["type","text","id","login","name","login","placeholder","Email","formControlName","email",1,"fadeIn","second"],["for","password"],["type","text","id","password","name","password","placeholder","Contrase\xf1a","formControlName","password",1,"fadeIn","third"],["for","password2"],["type","text","id","password2","name","password2","placeholder","Repetir contrase\xf1a","formControlName","password2",1,"fadeIn","third"],["type","submit","value","Crear Usuario",1,"fadeIn","fourth"],["id","formFooter"],["href","#",1,"underlineHover"]],template:function(G,ie){1&G&&(w.TgZ(0,"div",0),w.TgZ(1,"div",1),w.TgZ(2,"form",2),w.NdJ("ngSubmit",function(){return ie.onRegister()}),w._UZ(3,"label",3),w._UZ(4,"input",4),w._UZ(5,"label",5),w._UZ(6,"input",6),w._UZ(7,"label",7),w._UZ(8,"input",8),w._UZ(9,"input",9),w.qZA(),w.TgZ(10,"div",10),w.TgZ(11,"a",11),w._uU(12,"Logueate"),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&G&&(w.xp6(2),w.Q6J("formGroup",ie.registerForm))},directives:[dn._Y,dn.JL,dn.sg,dn.Fj,dn.JJ,dn.u],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}']}),te})(),jn=(()=>{class te{constructor(G){this.firestore=G}create(G,ie){var Ve=this;return(0,qn.Z)(function*(){try{return yield Ve.firestore.collection(G).add(ie)}catch(mt){return void console.log("error en: create",mt)}})()}getAll(G){var ie=this;return(0,qn.Z)(function*(){try{return yield ie.firestore.collection(G).snapshotChanges()}catch(Ve){return void console.log("error en: getAll",Ve)}})()}}return te.\u0275fac=function(G){return new(G||te)(w.LFG(Hr.ST))},te.\u0275prov=w.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})();const Ci=function(te,se){return{"direct-chat-msg left":te,"direct-chat-msg right":se}},Mr=function(te,se){return{"direct-chat-name pull-left":te,"direct-chat-name pull-right":se}},Xr=function(te,se){return{"direct-chat-timestamp pull-left":te,"direct-chat-name pull-right":se}};function hr(te,se){if(1&te&&(w.TgZ(0,"li"),w.TgZ(1,"div",19),w.TgZ(2,"div",20),w.TgZ(3,"span",19),w._uU(4),w.qZA(),w.TgZ(5,"span",19),w._uU(6),w.ALo(7,"date"),w.qZA(),w.qZA(),w.TgZ(8,"div",21),w._uU(9),w.qZA(),w.qZA(),w.qZA()),2&te){const G=se.$implicit,ie=w.oxw();w.xp6(1),w.Q6J("ngClass",w.WLB(9,Ci,G.email==ie.msj.email,G.email!==ie.msj.email)),w.xp6(2),w.Q6J("ngClass",w.WLB(12,Mr,G.email==ie.msj.email,G.email!==ie.msj.email)),w.xp6(1),w.hij(" ",G.nombre," "),w.xp6(1),w.Q6J("ngClass",w.WLB(15,Xr,G.email==ie.msj.email,G.email!==ie.msj.email)),w.xp6(1),w.hij(" ",w.xi3(7,6,G.fecha,"medium")," "),w.xp6(3),w.hij(" ",G.msj," ")}}const Ni=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:mi},{path:"register",component:Ar},{path:"home",component:ur},{path:"quien-soy",component:Jr},{path:"chat",component:(()=>{class te{constructor(G,ie,Ve){this.dbChar=G,this.userService=ie,this.afAuth=Ve,this.msj={email:"",nombre:"",msj:"",fecha:""},this.contadorMensajes=0,this.mensajes=[]}ngOnInit(){var G=this;return(0,qn.Z)(function*(){yield G.afAuth.onAuthStateChanged(ie=>{ie&&(G.user=ie,G.msj.email=ie.email||"",G.cargarUsuario())}),G.obtenerChats()})()}cargarUsuario(){this.userService.getAll("users").then(G=>{null==G||G.subscribe(ie=>{ie.forEach(Ve=>{this.user=Ve.payload.doc.data(),this.user.email==this.msj.email&&(this.msj.nombre=this.user.nombre)})})}),console.log(this.msj)}obtenerChats(){this.dbChar.getAll("CHATS").then(G=>{null==G||G.subscribe(ie=>{if(this.mensajes=ie.map(Ve=>(this.contadorMensajes++,Ve.payload.doc.data())),this.mensajes){let Ve;for(let mt=0;mt<this.mensajes.length-1;mt++)for(let Ut=mt+1;Ut<this.mensajes.length;Ut++)this.mensajes[mt].fecha>this.mensajes[Ut].fecha&&(Ve=this.mensajes[mt],this.mensajes[mt]=this.mensajes[Ut],this.mensajes[Ut]=Ve)}})})}altaMsj(){this.msj.fecha=Date.now().toString(),this.dbChar.create("CHATS",this.msj).then(G=>{console.log(G)}).catch(G=>{console.log("error en alta mensaje",G)})}}return te.\u0275fac=function(G){return new(G||te)(w.Y36(jn),w.Y36(Ir),w.Y36(Qr.zQ))},te.\u0275cmp=w.Xpm({type:te,selectors:[["app-chat"]],decls:24,vars:3,consts:[["id","page-content",1,"page-content","page-container"],[1,"padding"],[1,"row","container","d-flex","justify-content-center"],[1,"col-md-12"],[1,"box","box-warning","direct-chat","direct-chat-warning"],[1,"box-header","with-border"],[1,"box-title","mx-5"],[1,"box-tools","pull-right"],["data-toggle","tooltip","title","","data-original-title","3 New Messages",1,"badge","bg-yellow"],[1,"box-body"],[1,"direct-chat-messages"],[2,"list-style","none"],[4,"ngFor","ngForOf"],[1,"box-footer"],["action","#","method","post"],[1,"input-group"],["type","text","name","message","placeholder","Type Message ...",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-btn"],["type","button",1,"btn","btn-warning","btn-flat",3,"click"],[3,"ngClass"],[1,"direct-chat-info","clearfix"],[1,"direct-chat-text"]],template:function(G,ie){1&G&&(w.TgZ(0,"div",0),w.TgZ(1,"div",1),w.TgZ(2,"div",2),w.TgZ(3,"div",3),w.TgZ(4,"div",4),w.TgZ(5,"div",5),w.TgZ(6,"h3",6),w._uU(7,"SALA DE CHATS"),w.qZA(),w.TgZ(8,"div",7),w.TgZ(9,"span"),w._uU(10," cantidad de msj:"),w.qZA(),w.TgZ(11,"span",8),w._uU(12),w.qZA(),w.qZA(),w.TgZ(13,"div",9),w.TgZ(14,"div",10),w.TgZ(15,"ul",11),w.YNc(16,hr,10,18,"li",12),w.qZA(),w.qZA(),w.qZA(),w.TgZ(17,"div",13),w.TgZ(18,"form",14),w.TgZ(19,"div",15),w.TgZ(20,"input",16),w.NdJ("ngModelChange",function(mt){return ie.msj.msj=mt}),w.qZA(),w.TgZ(21,"span",17),w.TgZ(22,"button",18),w.NdJ("click",function(){return ie.altaMsj()}),w._uU(23,"Send"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&G&&(w.xp6(12),w.Oqu(ie.contadorMensajes),w.xp6(4),w.Q6J("ngForOf",ie.mensajes),w.xp6(4),w.Q6J("ngModel",ie.msj.msj))},directives:[E.sg,dn._Y,dn.JL,dn.F,dn.Fj,dn.JJ,dn.On,E.mk],pipes:[E.uU],styles:['.stretch-card[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{width:100%;min-width:100%}.flex[_ngcontent-%COMP%]{flex:1 1 auto}@media (max-width:991.98px){.padding[_ngcontent-%COMP%]{padding:1.5rem}}@media (max-width:767.98px){.padding[_ngcontent-%COMP%]{padding:1rem}}.padding[_ngcontent-%COMP%]{padding:3rem}.box.box-warning[_ngcontent-%COMP%]{border-top-color:#f39c12}.box[_ngcontent-%COMP%]{position:relative;border-radius:3px;background:#ffffff;border-top:3px solid #d2d6de;margin-bottom:20px;width:100%;box-shadow:0 1px 1px #0000001a}.box-header.with-border[_ngcontent-%COMP%]{border-bottom:1px solid #f4f4f4}.box-header[_ngcontent-%COMP%]{color:#444;display:block;padding:10px;position:relative}.box-header[_ngcontent-%COMP%] > .fa[_ngcontent-%COMP%], .box-header[_ngcontent-%COMP%] > .glyphicon[_ngcontent-%COMP%], .box-header[_ngcontent-%COMP%] > .ion[_ngcontent-%COMP%], .box-header[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%]{display:inline-block;font-size:18px;margin:0;line-height:1}.box-header[_ngcontent-%COMP%] > .box-tools[_ngcontent-%COMP%]{position:absolute;right:10px;top:5px}.box-header[_ngcontent-%COMP%] > .box-tools[_ngcontent-%COMP%]   [data-toggle=tooltip][_ngcontent-%COMP%]{position:relative}.bg-yellow[_ngcontent-%COMP%], .callout.callout-warning[_ngcontent-%COMP%], .alert-warning[_ngcontent-%COMP%], .label-warning[_ngcontent-%COMP%], .modal-warning[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{background-color:#f39c12!important}.bg-yellow[_ngcontent-%COMP%]{color:#fff!important}.btn[_ngcontent-%COMP%]{border-radius:3px;box-shadow:none;border:1px solid transparent}.btn-box-tool[_ngcontent-%COMP%]{padding:5px;font-size:12px;background:transparent;color:#97a0b3}.direct-chat[_ngcontent-%COMP%]   .box-body[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-bottom-left-radius:0;position:relative;overflow-x:hidden;padding:0}.box-body[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:10px}.direct-chat-messages[_ngcontent-%COMP%]{transform:translate(0);padding:10px;height:250px;overflow:auto}.direct-chat-messages[_ngcontent-%COMP%], .direct-chat-contacts[_ngcontent-%COMP%]{transition:transform .5s ease-in-out}.direct-chat-msg[_ngcontent-%COMP%]{margin-bottom:10px}.direct-chat-msg[_ngcontent-%COMP%], .direct-chat-text[_ngcontent-%COMP%]{display:block}.direct-chat-timestamp[_ngcontent-%COMP%]{color:#999}.btn-group-vertical[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:after, .btn-group-vertical[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:before, .btn-toolbar[_ngcontent-%COMP%]:after, .btn-toolbar[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before, .container-fluid[_ngcontent-%COMP%]:after, .container-fluid[_ngcontent-%COMP%]:before, .container[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]:before, .dl-horizontal[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]:after, .dl-horizontal[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]:before, .form-horizontal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:after, .form-horizontal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:before, .modal-footer[_ngcontent-%COMP%]:after, .modal-footer[_ngcontent-%COMP%]:before, .modal-header[_ngcontent-%COMP%]:after, .modal-header[_ngcontent-%COMP%]:before, .nav[_ngcontent-%COMP%]:after, .nav[_ngcontent-%COMP%]:before, .navbar-collapse[_ngcontent-%COMP%]:after, .navbar-collapse[_ngcontent-%COMP%]:before, .navbar-header[_ngcontent-%COMP%]:after, .navbar-header[_ngcontent-%COMP%]:before, .navbar[_ngcontent-%COMP%]:after, .navbar[_ngcontent-%COMP%]:before, .pager[_ngcontent-%COMP%]:after, .pager[_ngcontent-%COMP%]:before, .panel-body[_ngcontent-%COMP%]:after, .panel-body[_ngcontent-%COMP%]:before, .row[_ngcontent-%COMP%]:after, .row[_ngcontent-%COMP%]:before{display:table;content:""}.direct-chat-img[_ngcontent-%COMP%]{border-radius:50%;float:left;width:40px;height:40px}.direct-chat-text[_ngcontent-%COMP%]{border-radius:5px;position:relative;padding:5px 10px;background:#d2d6de;border:1px solid #d2d6de;margin:5px 0 0 50px;color:#444}.direct-chat-msg[_ngcontent-%COMP%], .direct-chat-text[_ngcontent-%COMP%]{display:block}.direct-chat-text[_ngcontent-%COMP%]:before{border-width:6px;margin-top:-6px}.direct-chat-text[_ngcontent-%COMP%]:after{border-width:5px;margin-top:-5px}.direct-chat-text[_ngcontent-%COMP%]:after, .direct-chat-text[_ngcontent-%COMP%]:before{position:absolute;right:100%;top:15px;border:solid transparent;border-right-color:#d2d6de;content:" ";height:0;width:0;pointer-events:none}[_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}.direct-chat-msg[_ngcontent-%COMP%]:after{clear:both}.direct-chat-msg[_ngcontent-%COMP%]:after{content:"";display:table}.direct-chat-info[_ngcontent-%COMP%]{display:block;margin-bottom:2px;font-size:12px}.right[_ngcontent-%COMP%]   .direct-chat-img[_ngcontent-%COMP%]{float:right}.direct-chat-warning[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%] > .direct-chat-text[_ngcontent-%COMP%]{background:#f39c12;border-color:#f39c12;color:#fff}.box-footer[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;border-top:1px solid #f4f4f4;padding:10px;background-color:#fff}.box-header[_ngcontent-%COMP%]:before, .box-body[_ngcontent-%COMP%]:before, .box-footer[_ngcontent-%COMP%]:before, .box-header[_ngcontent-%COMP%]:after, .box-body[_ngcontent-%COMP%]:after, .box-footer[_ngcontent-%COMP%]:after{content:"";display:table}.input-group-btn[_ngcontent-%COMP%]{position:relative;font-size:0;white-space:nowrap}.input-group-btn[_ngcontent-%COMP%]:last-child > .btn[_ngcontent-%COMP%], .input-group-btn[_ngcontent-%COMP%]:last-child > .btn-group[_ngcontent-%COMP%]{z-index:2;margin-left:-1px}.btn-warning[_ngcontent-%COMP%]{color:#fff;background-color:#f0ad4e;border-color:#eea236}']}),te})()},{path:"juegos",loadChildren:()=>$.e(482).then($.bind($,5482)).then(te=>te.RoutingModule)}];let $i=(()=>{class te{}return te.\u0275fac=function(G){return new(G||te)},te.\u0275mod=w.oAB({type:te}),te.\u0275inj=w.cJS({imports:[[$r.Bz.forRoot(Ni)],$r.Bz]}),te})();var Ii=$(8939);const Sr_firebaseConfig={apiKey:"AIzaSyDiin4-fkQVheLOA5_fev7Y2NFmZEVDr0w",authDomain:"saladejuegos-mclifton.firebaseapp.com",projectId:"saladejuegos-mclifton",storageBucket:"saladejuegos-mclifton.appspot.com",messagingSenderId:"262162278238",appId:"1:262162278238:web:626d77a2c50f334ac411cf"};let ms=(()=>{class te{}return te.\u0275fac=function(G){return new(G||te)},te.\u0275mod=w.oAB({type:te,bootstrap:[Tr]}),te.\u0275inj=w.cJS({providers:[],imports:[[ze,$i,$r.Bz,dn.UX,dn.u5,Ii.hO.initializeApp(Sr_firebaseConfig),Qr.ww]]}),te})();(0,w.G48)(),ge().bootstrapModule(ms).catch(te=>console.error(te))},4762:(Nt,We,$)=>{"use strict";$.d(We,{ZT:()=>w,pi:()=>Y,_T:()=>we,mG:()=>Ce,Jh:()=>ce,XA:()=>de,CR:()=>ae,ev:()=>Pe});var E=function(Fe,Ze){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Le,ke){Le.__proto__=ke}||function(Le,ke){for(var ye in ke)Object.prototype.hasOwnProperty.call(ke,ye)&&(Le[ye]=ke[ye])})(Fe,Ze)};function w(Fe,Ze){if("function"!=typeof Ze&&null!==Ze)throw new TypeError("Class extends value "+String(Ze)+" is not a constructor or null");function Le(){this.constructor=Fe}E(Fe,Ze),Fe.prototype=null===Ze?Object.create(Ze):(Le.prototype=Ze.prototype,new Le)}var Y=function(){return(Y=Object.assign||function(Ze){for(var Le,ke=1,ye=arguments.length;ke<ye;ke++)for(var Ae in Le=arguments[ke])Object.prototype.hasOwnProperty.call(Le,Ae)&&(Ze[Ae]=Le[Ae]);return Ze}).apply(this,arguments)};function we(Fe,Ze){var Le={};for(var ke in Fe)Object.prototype.hasOwnProperty.call(Fe,ke)&&Ze.indexOf(ke)<0&&(Le[ke]=Fe[ke]);if(null!=Fe&&"function"==typeof Object.getOwnPropertySymbols){var ye=0;for(ke=Object.getOwnPropertySymbols(Fe);ye<ke.length;ye++)Ze.indexOf(ke[ye])<0&&Object.prototype.propertyIsEnumerable.call(Fe,ke[ye])&&(Le[ke[ye]]=Fe[ke[ye]])}return Le}function Ce(Fe,Ze,Le,ke){return new(Le||(Le=Promise))(function(Ae,Be){function bt(pt){try{ct(ke.next(pt))}catch(Rt){Be(Rt)}}function Zt(pt){try{ct(ke.throw(pt))}catch(Rt){Be(Rt)}}function ct(pt){pt.done?Ae(pt.value):function(Ae){return Ae instanceof Le?Ae:new Le(function(Be){Be(Ae)})}(pt.value).then(bt,Zt)}ct((ke=ke.apply(Fe,Ze||[])).next())})}function ce(Fe,Ze){var ke,ye,Ae,Be,Le={label:0,sent:function(){if(1&Ae[0])throw Ae[1];return Ae[1]},trys:[],ops:[]};return Be={next:bt(0),throw:bt(1),return:bt(2)},"function"==typeof Symbol&&(Be[Symbol.iterator]=function(){return this}),Be;function bt(ct){return function(pt){return function(ct){if(ke)throw new TypeError("Generator is already executing.");for(;Le;)try{if(ke=1,ye&&(Ae=2&ct[0]?ye.return:ct[0]?ye.throw||((Ae=ye.return)&&Ae.call(ye),0):ye.next)&&!(Ae=Ae.call(ye,ct[1])).done)return Ae;switch(ye=0,Ae&&(ct=[2&ct[0],Ae.value]),ct[0]){case 0:case 1:Ae=ct;break;case 4:return Le.label++,{value:ct[1],done:!1};case 5:Le.label++,ye=ct[1],ct=[0];continue;case 7:ct=Le.ops.pop(),Le.trys.pop();continue;default:if(!(Ae=(Ae=Le.trys).length>0&&Ae[Ae.length-1])&&(6===ct[0]||2===ct[0])){Le=0;continue}if(3===ct[0]&&(!Ae||ct[1]>Ae[0]&&ct[1]<Ae[3])){Le.label=ct[1];break}if(6===ct[0]&&Le.label<Ae[1]){Le.label=Ae[1],Ae=ct;break}if(Ae&&Le.label<Ae[2]){Le.label=Ae[2],Le.ops.push(ct);break}Ae[2]&&Le.ops.pop(),Le.trys.pop();continue}ct=Ze.call(Fe,Le)}catch(pt){ct=[6,pt],ye=0}finally{ke=Ae=0}if(5&ct[0])throw ct[1];return{value:ct[0]?ct[1]:void 0,done:!0}}([ct,pt])}}}function de(Fe){var Ze="function"==typeof Symbol&&Symbol.iterator,Le=Ze&&Fe[Ze],ke=0;if(Le)return Le.call(Fe);if(Fe&&"number"==typeof Fe.length)return{next:function(){return Fe&&ke>=Fe.length&&(Fe=void 0),{value:Fe&&Fe[ke++],done:!Fe}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")}function ae(Fe,Ze){var Le="function"==typeof Symbol&&Fe[Symbol.iterator];if(!Le)return Fe;var ye,Be,ke=Le.call(Fe),Ae=[];try{for(;(void 0===Ze||Ze-- >0)&&!(ye=ke.next()).done;)Ae.push(ye.value)}catch(bt){Be={error:bt}}finally{try{ye&&!ye.done&&(Le=ke.return)&&Le.call(ke)}finally{if(Be)throw Be.error}}return Ae}function Pe(Fe,Ze,Le){if(Le||2===arguments.length)for(var Ae,ke=0,ye=Ze.length;ke<ye;ke++)(Ae||!(ke in Ze))&&(Ae||(Ae=Array.prototype.slice.call(Ze,0,ke)),Ae[ke]=Ze[ke]);return Fe.concat(Ae||Array.prototype.slice.call(Ze))}},8239:(Nt,We,$)=>{"use strict";function E(Y,we,Ne,ve,$e,Ce,ce){try{var ee=Y[Ce](ce),re=ee.value}catch(de){return void Ne(de)}ee.done?we(re):Promise.resolve(re).then(ve,$e)}function w(Y){return function(){var we=this,Ne=arguments;return new Promise(function(ve,$e){var Ce=Y.apply(we,Ne);function ce(re){E(Ce,ve,$e,ce,ee,"next",re)}function ee(re){E(Ce,ve,$e,ce,ee,"throw",re)}ce(void 0)})}}$.d(We,{Z:()=>w})}},Nt=>{Nt(Nt.s=1149)}]);